!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("spritejs")):"function"==typeof define&&define.amd?define(["spritejs"],e):"object"==typeof exports?exports.CatCharts=e(require("spritejs")):t.CatCharts=e(t.spritejs)}(window,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,u){var s,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=s):i&&(s=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(l.functional){l._injectStyles=s;var c=l.render;l.render=function(t,e){return s.call(e),c(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:l}}n.d(e,"a",function(){return r})},1:function(t,e,n){var r;window,t.exports=(r=n(18),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=172)}([function(t,e){t.exports=r},function(t,e,n){var r=n(46);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(82),i=n(161),o=n(83);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){var r=n(32),i=n(15);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(162);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(163),i=n(84),o=n(164);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(99),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(97),__esModule:!0}},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(72),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(120)),i=a(n(124)),o=a(n(72));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(166);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){t.exports={default:n(95),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(135)),i=o(n(138));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var u,s=(0,i.default)(t);!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports=n(167)},function(t,e,n){var r=n(53)("wks"),i=n(41),o=n(24).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(17)),i=c(n(11)),o=c(n(9)),a=c(n(10)),u=c(n(13)),s=c(n(14));e.default=function(t){var e,n,c,h=t.BaseSprite,p=t.utils,d=p.attr,v=p.parseColorString,g=(e=function(t){function e(t){(0,o.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.setDefault({color:"transparent",fillColor:"transparent",lineWidth:0,lineCap:"round",lineJoin:"round",lineDash:[0,0],lineDashOffset:0,enableCache:!1}),n}return(0,s.default)(e,t),(0,a.default)(e,[{key:"lineWidth",set:function(t){this.set("lineWidth",t)}},{key:"lineCap",set:function(t){this.set("lineCap",t)}},{key:"lineJoin",set:function(t){this.set("lineJoin",t)}},{key:"lineDash",set:function(t){this.set("lineDash",t)}},{key:"lineDashOffset",set:function(t){this.set("lineDashOffset",t)}},{key:"fillColor",set:function(t){t=v(t),this.set("fillColor",t)}},{key:"draggable",set:function(t){this.set("draggable",t),(0,l.draggable)(this.subject,t)}},{key:"droppable",set:function(t){this.set("droppable",t),(0,l.droppable)(this.subject,t)}}]),e}(h.Attr),f(e.prototype,"lineWidth",[d],(0,r.default)(e.prototype,"lineWidth"),e.prototype),f(e.prototype,"lineCap",[d],(0,r.default)(e.prototype,"lineCap"),e.prototype),f(e.prototype,"lineJoin",[d],(0,r.default)(e.prototype,"lineJoin"),e.prototype),f(e.prototype,"lineDash",[d],(0,r.default)(e.prototype,"lineDash"),e.prototype),f(e.prototype,"lineDashOffset",[d],(0,r.default)(e.prototype,"lineDashOffset"),e.prototype),f(e.prototype,"fillColor",[d],(0,r.default)(e.prototype,"fillColor"),e.prototype),f(e.prototype,"draggable",[d],(0,r.default)(e.prototype,"draggable"),e.prototype),f(e.prototype,"droppable",[d],(0,r.default)(e.prototype,"droppable"),e.prototype),e);return{Shape:(c=n=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),e}(h),n.Attr=g,c)}};var l=n(127);function c(t){return t&&t.__esModule?t:{default:t}}var f=n(21)},function(t,e,n){var r=n(24),i=n(12),o=n(47),a=n(33),u=n(29),s=function(t,e,n){var l,c,f,h=t&s.F,p=t&s.G,d=t&s.S,v=t&s.P,g=t&s.B,y=t&s.W,m=p?i:i[e]||(i[e]={}),b=m.prototype,x=p?r:d?r[e]:(r[e]||{}).prototype;for(l in p&&(n=e),n)(c=!h&&x&&void 0!==x[l])&&u(m,l)||(f=c?x[l]:n[l],m[l]=p&&"function"!=typeof x[l]?n[l]:g&&c?o(f,r):y&&x[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[l]=f,t&s.R&&b&&!b[l]&&a(b,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(27),i=n(65),o=n(48),a=Object.defineProperty;e.f=n(28)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){function n(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function u(t){n(a,i,o,u,s,"next",t)}function s(t){n(a,i,o,u,s,"throw",t)}u(void 0)})}}},function(t,e,n){var r=n(34);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(68),i=n(50);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(11)),i=o(n(17));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var a=(0,i.default)(e,n);if(void 0===a){var u=(0,r.default)(e);return null===u?void 0:t(u,n,o)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(o):void 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e,n){var r=n(25),i=n(37);t.exports=n(28)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(77),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){var r=n(67),i=n(54);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(50);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(104)(!0);n(73)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(38)),i=d(n(18)),o=d(n(31)),a=d(n(17)),u=d(n(11)),s=d(n(9)),l=d(n(10)),c=d(n(13)),f=d(n(14));e.default=function(t){var e,n,d,g,y=t.use,m=t.utils,b=t.registerNodeType,x=m.attr,w=m.flow,_=m.parseColorString,k=m.findColor,M=y(h.default,null,!1).Shape,S=(e=function(t){function e(t){(0,s.default)(this,e);var n=(0,c.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.setDefault({points:[],smooth:null}),n}return(0,f.default)(e,t),(0,l.default)(e,[{key:"smooth",set:function(t){this.set("smooth",t)}},{key:"points",set:function(t){this.clearFlow(),this.set("points",t)}},{key:"color",set:function(t){t=_(t),this.set("color",t)}},{key:"lineWidth",set:function(t){this.set("lineWidth",t)}},{key:"fillColor",set:function(t){t=_(t),this.set("fillColor",t)}}]),e}(M.Attr),v(e.prototype,"smooth",[x],(0,a.default)(e.prototype,"smooth"),e.prototype),v(e.prototype,"points",[x],(0,a.default)(e.prototype,"points"),e.prototype),v(e.prototype,"color",[x],(0,a.default)(e.prototype,"color"),e.prototype),v(e.prototype,"lineWidth",[x],(0,a.default)(e.prototype,"lineWidth"),e.prototype),v(e.prototype,"fillColor",[x],(0,a.default)(e.prototype,"fillColor"),e.prototype),e),C=(g=d=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,l.default)(e,[{key:"pointCollision",value:function(t){if((0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"pointCollision",this).call(this,t)){var n=t.offsetX,r=void 0===n?0:n,a=t.offsetY,s=void 0===a?0:a,l=this.attr("anchor"),c=(0,i.default)(l,2),f=c[0],h=c[1],p=(0,i.default)(this.contentSize,2),d=p[0],v=p[1];return r+=d*f,s+=v*h,this.path&&(this.context.isPointInPath(this.path,r,s)||this.context.isPointInStroke(this.path,r,s))}}},{key:"render",value:function(t,n){if((0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"render",this).call(this,t,n),this.points.length){var i=this.lineBoundings,a=this.attr("lineWidth");n.translate(-Math.min(0,i[0])+a,-Math.min(0,i[1])+a),n.strokeStyle=k(n,this,"color"),n.fillStyle=k(n,this,"fillColor"),n.miterLimit=3,n.lineWidth=this.attr("lineWidth"),n.setLineDash(this.attr("lineDash")),n.lineDashOffset=this.attr("lineDashOffset"),n.beginPath();var s=new Path2D,l=this.attr("smooth"),c=this.points.slice(0,this.points.length);if(l&&!l.length&&(l=[0,c.length-1]),l){"[object Array]"!==Object.prototype.toString.call(l[0])&&(l=[l]);var f=c[0],h=c[c.length-1];f[0]===h[0]&&f[1]===h[1]||c.push(c[0]);var d=0;l.forEach(function(t,e){for(var n=t[0],i=t[1],o=d;o<n;o++)0===o?s.moveTo.apply(s,(0,r.default)(c[0])):s.lineTo.apply(s,(0,r.default)(c[o]));var a=c.slice(n,i+1);(0,p.drawSmoothCurveLine)(s,a,n),d=i});for(var v=d;v<c.length-1;v++)s.lineTo(c[v][0],c[v][1])}else c.forEach(function(t,e){0===e?s.moveTo.apply(s,(0,r.default)(t)):s.lineTo.apply(s,(0,r.default)(t))});s.closePath(),n.closePath(),n.fill(s),n.stroke(s),this.path=s}return n}},{key:"lineBoundings",get:function(){var t=[0,0,0,0],e=this.points;return e.forEach(function(e){var n=(0,i.default)(e,2),r=n[0],o=n[1];t[0]=Math.min(r,t[0]),t[1]=Math.min(o,t[1]),t[2]=Math.max(r,t[2]),t[3]=Math.max(o,t[3])}),t}},{key:"contentSize",get:function(){var t=this.lineBoundings,e=this.attr("lineWidth"),n=(0,i.default)(this.attrSize,2),r=n[0],o=n[1];return r=t[2]-Math.min(0,t[0])+2*e,o=t[3]-Math.min(0,t[1])+2*e,[r,o].map(Math.ceil)}},{key:"originalRect",get:function(){var t=this.lineBoundings,e=this.attr("lineWidth"),n=(0,i.default)(this.offsetSize,2),r=n[0],o=n[1],a=this.attr("anchor"),u=(0,i.default)(a,2),s=u[0],l=u[1],c=[0,0,r,o],f=Math.min(0,t[0]),h=Math.min(0,t[1]);return c[0]=f-e-s*(r+f-2*e),c[1]=h-e-l*(o+h-2*e),c}},{key:"points",get:function(){return this.attr("points")}}]),e}(M),d.Attr=S,v((n=g).prototype,"contentSize",[w],(0,a.default)(n.prototype,"contentSize"),n.prototype),v(n.prototype,"originalRect",[w],(0,a.default)(n.prototype,"originalRect"),n.prototype),n);return b("polygon",C,!1),{Polygon:C}};var h=d(n(22)),p=n(62);function d(t){return t&&t.__esModule?t:{default:t}}var v=n(21)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(91);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(34);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(53)("keys"),i=n(41);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(12),i=n(24),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(40)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(42),i=n(37),o=n(30),a=n(48),u=n(29),s=n(65),l=Object.getOwnPropertyDescriptor;e.f=n(28)?l:function(t,e){if(t=o(t),e=a(e,!0),s)try{return l(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(27),i=n(106),o=n(54),a=n(52)("IE_PROTO"),u=function(){},s=function(){var t,e=n(66)("iframe"),r=o.length;for(e.style.display="none",n(107).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(25).f,i=n(29),o=n(20)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(108);for(var r=n(24),i=n(33),o=n(36),a=n(20)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var l=u[s],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(t,e,n){e.f=n(20)},function(t,e,n){var r=n(24),i=n(12),o=n(40),a=n(60),u=n(25).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.round=e.sin=e.cos=void 0;var r,i=n(18),o=(r=i)&&r.__esModule?r:{default:r};e.drawSmoothCurveLine=function(t,e,n){(e=e.map(function(t){var e=(0,o.default)(t,2),n=e[0],r=e[1];return{x:n,y:r}})).forEach(function(r,i){if(0===i&&0===n)t.moveTo(r.x,r.y);else if(0===i&&0!==n)t.lineTo(r.x,r.y);else{var a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=void 0,o=void 0,a=void 0,u=void 0;if(e[t].x!==e[t+1].x&&e[t].y!==e[t+1].y||(n=0,r=0),t<1?(i=e[0].x+(e[1].x-e[0].x)*n,o=e[0].y+(e[1].y-e[0].y)*n):(i=e[t].x+(e[t+1].x-e[t-1].x)*n,o=e[t].y+(e[t+1].y-e[t-1].y)*n),t>e.length-3){var s=e.length-1;a=e[s].x-(e[s].x-e[s-1].x)*r,u=e[s].y-(e[s].y-e[s-1].y)*r}else a=e[t+1].x-(e[t+2].x-e[t].x)*r,u=e[t+1].y-(e[t+2].y-e[t].y)*r;return[{x:i,y:o},{x:a,y:u}]}(i-1),u=(0,o.default)(a,2),s=u[0],l=u[1];t.bezierCurveTo(s.x,s.y,l.x,l.y,r.x,r.y)}})},e.cos=function(t){return Number(Math.cos(t).toFixed(15))},e.sin=function(t){return Number(Math.sin(t).toFixed(15))},e.round=function(t){return Math.round(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(38)),i=p(n(18)),o=p(n(31)),a=p(n(17)),u=p(n(11)),s=p(n(9)),l=p(n(10)),c=p(n(13)),f=p(n(14));e.default=function(t){var e,n,p,v,g=t.use,y=t.utils,m=t.registerNodeType,b=y.attr,x=y.flow,w=y.parseColorString,_=y.findColor,k=g(h.default,null,!1).Shape,M=(e=function(t){function e(t){(0,s.default)(this,e);var n=(0,c.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.setDefault({radiusX:10,radiusY:20,center:[0,0],startAngle:0,endAngle:0,lineWidth:1,anticlockwise:!1}),n}return(0,f.default)(e,t),(0,l.default)(e,[{key:"radiusX",set:function(t){this.clearFlow(),this.set("radiusX",t)}},{key:"radiusY",set:function(t){this.clearFlow(),this.set("radiusY",t)}},{key:"startAngle",set:function(t){this.clearFlow(),this.set("startAngle",t)}},{key:"endAngle",set:function(t){this.clearFlow(),this.set("endAngle",t)}},{key:"color",set:function(t){t=w(t),this.set("color",t)}},{key:"lineWidth",set:function(t){this.set("lineWidth",t)}},{key:"fillColor",set:function(t){t=w(t),this.set("fillColor",t)}},{key:"anticlockwise",set:function(t){this.set("anticlockwise",t)}},{key:"center",set:function(t){this.clearFlow(),this.set("center",t)}}]),e}(k.Attr),d(e.prototype,"radiusX",[b],(0,a.default)(e.prototype,"radiusX"),e.prototype),d(e.prototype,"radiusY",[b],(0,a.default)(e.prototype,"radiusY"),e.prototype),d(e.prototype,"startAngle",[b],(0,a.default)(e.prototype,"startAngle"),e.prototype),d(e.prototype,"endAngle",[b],(0,a.default)(e.prototype,"endAngle"),e.prototype),d(e.prototype,"color",[b],(0,a.default)(e.prototype,"color"),e.prototype),d(e.prototype,"lineWidth",[b],(0,a.default)(e.prototype,"lineWidth"),e.prototype),d(e.prototype,"fillColor",[b],(0,a.default)(e.prototype,"fillColor"),e.prototype),d(e.prototype,"anticlockwise",[b],(0,a.default)(e.prototype,"anticlockwise"),e.prototype),d(e.prototype,"center",[b],(0,a.default)(e.prototype,"center"),e.prototype),e),S=(v=p=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,l.default)(e,[{key:"pointCollision",value:function(t){if((0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"pointCollision",this).call(this,t)){var n=t.offsetX,r=t.offsetY,a=this.attr("anchor"),s=(0,i.default)(a,2),l=s[0],c=s[1],f=(0,i.default)(this.contentSize,2),h=f[0],p=f[1];return n+=h*l,r+=p*c,this.path&&(this.context.isPointInPath(this.path,n,r)||this.context.isPointInStroke(this.path,n,r))}}},{key:"render",value:function(t,e){var n=void 0,r=void 0,o=(0,i.default)(this.radiuses,2),a=o[0],u=o[1];if(this.center&&this.center.length>0){var s=(0,i.default)(this.center,2);n=s[0],r=s[1]}else n=a,r=u;e.translate(this.radiuses[0],this.radiuses[1]);var l=this.startAngle,c=this.endAngle;e.miterLimit=3,e.lineWidth=this.attr("lineWidth"),e.setLineDash(this.attr("lineDash")),e.lineDashOffset=this.attr("lineDashOffset"),e.strokeStyle=_(e,this,"color"),e.fillStyle=_(e,this,"fillColor");var f=new Path2D;return this.endAngle-this.startAngle<2*Math.PI&&f.moveTo(n,r),f.ellipse(n,r,a,u,0,l,c,this.attr("anticlockwise")),f.closePath(),e.fill(f),e.stroke(f),this.path=f,e}},{key:"radiuses",get:function(){return[this.attr("radiusX"),this.attr("radiusY")]}},{key:"startAngle",get:function(){return this.attr("startAngle")}},{key:"endAngle",get:function(){return this.attr("endAngle")}},{key:"center",get:function(){return this.attr("center")}},{key:"lineBoundings",get:function(){return[0,0,2*this.radiuses[0],2*this.radiuses[1]]}},{key:"contentSize",get:function(){var t=this.lineBoundings,e=this.attr("lineWidth"),n=[].concat((0,r.default)(this.attrSize)),i=n[0],o=n[1];return""===i&&(i=t[2]-Math.min(0,t[0])+2*e),""===o&&(o=t[3]-Math.min(0,t[1])+2*e),[i,o].map(Math.ceil)}},{key:"originalRect",get:function(){var t=this.radiuses,n=(0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"originalRect",this),r=(0,i.default)(n,4),a=r[0],s=r[1],l=r[2],c=r[3],f=[a-t[0],s-t[1],l,c];return f}}]),e}(k),p.Attr=M,d((n=v).prototype,"contentSize",[x],(0,a.default)(n.prototype,"contentSize"),n.prototype),d(n.prototype,"originalRect",[x],(0,a.default)(n.prototype,"originalRect"),n.prototype),n);return m("ellipsesector",S,!1),{EllipseSector:S}};var h=p(n(22));function p(t){return t&&t.__esModule?t:{default:t}}var d=n(21)},function(t,e,n){t.exports={default:n(89),__esModule:!0}},function(t,e,n){t.exports=!n(28)&&!n(35)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(34),i=n(24).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(29),i=n(30),o=n(93)(!1),a=n(52)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(51),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(23),i=n(12),o=n(35);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(29),i=n(43),o=n(52)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(102)),i=a(n(75)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){"use strict";var r=n(40),i=n(23),o=n(74),a=n(33),u=n(36),s=n(105),l=n(58),c=n(71),f=n(20)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,g,y){s(n,e,d);var m,b,x,w=function(t){if(!h&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",k="values"==v,M=!1,S=t.prototype,C=S[f]||S["@@iterator"]||v&&S[v],O=C||w(v),A=v?k?w("entries"):O:void 0,P="Array"==e&&S.entries||C;if(P&&(x=c(P.call(new t)))!==Object.prototype&&x.next&&(l(x,_,!0),r||"function"==typeof x[f]||a(x,f,p)),k&&C&&"values"!==C.name&&(M=!0,O=function(){return C.call(this)}),r&&!y||!h&&!M&&S[f]||a(S,f,O),u[e]=O,u[_]=p,v)if(m={values:k?O:w("values"),keys:g?O:w("keys"),entries:A},y)for(b in m)b in S||o(S,b,m[b]);else i(i.P+i.F*(h||M),e,m);return m}},function(t,e,n){t.exports=n(33)},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){var r=n(67),i=n(54).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports={default:n(129),__esModule:!0}},function(t,e,n){var r=n(79),i=n(20)("iterator"),o=n(36);t.exports=n(12).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(49),i=n(20)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(11)),i=l(n(9)),o=l(n(10)),a=l(n(13)),u=l(n(14));e.default=function(t){var e=t.use,n=(t.utils,t.registerNodeType),l=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"radiuses",get:function(){return[this.attr("radius"),this.attr("radius")]}}]),e}(e(s.default,null,!1).EllipseSector);return l.defineAttributes({radius:function(t,e){t.clearFlow(),t.set("radius",e)}}),n("sector",l,!1),{Sector:l}};var s=l(n(63));function l(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(11)),i=l(n(9)),o=l(n(10)),a=l(n(13)),u=l(n(14));e.default=function(t){var e=t.use,n=(t.utils,t.registerNodeType),l=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"startAngle",get:function(){return 0}},{key:"endAngle",get:function(){return 2*Math.PI}}]),e}(e(s.default,null,!1).EllipseSector);return n("ellipse",l,!1),{Ellipse:l}};var s=l(n(63));function l(t){return t&&t.__esModule?t:{default:t}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shapes=void 0;var r=b(n(64));e.install=x;var i=b(n(22)),o=b(n(128)),a=b(n(141)),u=b(n(142)),s=b(n(45)),l=b(n(154)),c=b(n(155)),f=b(n(156)),h=b(n(157)),p=b(n(80)),d=b(n(81)),v=b(n(63)),g=b(n(158)),y=b(n(159)),m=b(n(160));function b(t){return t&&t.__esModule?t:{default:t}}function x(t){return[i.default,o.default,a.default,u.default,s.default,l.default,c.default,f.default,h.default,p.default,d.default,v.default,g.default,y.default,m.default].reduce(function(e,n){return(0,r.default)(e,t.use(n,null,!1))},{})}"undefined"!=typeof window&&window.spritejs&&window.spritejs.use(x),e.shapes={Polyline:o.default,Polycurve:a.default,Wave:u.default,Polygon:s.default,Triangle:l.default,Rect:c.default,Star:f.default,Arc:h.default,Sector:p.default,Ellipse:d.default,EllipseSector:v.default,EllipseArc:g.default,Circle:y.default,Ring:m.default}},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},a=2,u=20,s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function u(){n&&(n=!1,t()),r&&l()}function s(){o(u)}function l(){var t=Date.now();if(n){if(t-i<a)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return l}(this.refresh.bind(this),u)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},p=m(0,0,0,0);function d(t){return parseFloat(t)||0}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+d(t["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function y(t){return r?g(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=h(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=d(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,u=d(r.width),s=d(r.height);if("border-box"===r.boxSizing&&(Math.round(u+o)!==e&&(u-=v(r,"left","right")+o),Math.round(s+a)!==n&&(s-=v(r,"top","bottom")+a)),!function(t){return t===h(t).document.documentElement}(t)){var l=Math.round(u+o)-e,c=Math.round(s+a)-n;1!==Math.abs(l)&&(u-=l),1!==Math.abs(c)&&(s-=c)}return m(i.left,i.top,u,s)}(t):p}function m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var b=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=y(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),x=function(t,e){var n,r,i,o,a,u,s,l=(r=(n=e).x,i=n.y,o=n.width,a=n.height,u="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(u.prototype),f(s,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),s);f(this,{target:t,contentRect:l})},w=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new x(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,k=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(e,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){k.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}});var M=void 0!==i.ResizeObserver?i.ResizeObserver:k;e.a=M}).call(this,n(165))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])v(s)||!x(s)?a+=" "+s:a+=" "+u(s);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),c(r,t,r.depth)}function s(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=c(t,i,r)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var a=Object.keys(n),u=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(k(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var l,x="",M=!1,S=["{","}"];return p(n)&&(M=!0,S=["[","]"]),k(n)&&(x=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),_(n)&&(x=" "+f(n)),0!==a.length||M&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=M?function(t,e,n,r,i){for(var o=[],a=0,u=e.length;a<u;++a)O(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,u,a):a.map(function(e){return h(t,n,r,u,e,M)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,x,S)):S[0]+x+S[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,u,s;if((s=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(u=t.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),u||(t.seen.indexOf(s.value)<0?(u=v(n)?c(t,s.value,null):c(t,s.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n")):u=t.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function m(t){return void 0===t}function b(t){return x(t)&&"[object RegExp]"===M(t)}function x(t){return"object"==typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===M(t)}function _(t){return x(t)&&("[object Error]"===M(t)||t instanceof Error)}function k(t){return"function"==typeof t}function M(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=b,e.isObject=x,e.isDate=w,e.isError=_,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(170);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(171),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(P,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(169))},function(t,e,n){var r=n(82),i=n(84),o=n(83);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){n(90),t.exports=n(12).Object.assign},function(t,e,n){var r=n(23);r(r.S+r.F,"Object",{assign:n(92)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(39),i=n(55),o=n(42),a=n(43),u=n(68),s=Object.assign;t.exports=!s||n(35)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=a(t),s=arguments.length,l=1,c=i.f,f=o.f;s>l;)for(var h,p=u(arguments[l++]),d=c?r(p).concat(c(p)):r(p),v=d.length,g=0;v>g;)f.call(p,h=d[g++])&&(n[h]=p[h]);return n}:s},function(t,e,n){var r=n(30),i=n(69),o=n(94);t.exports=function(t){return function(e,n,a){var u,s=r(e),l=i(s.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(51),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){n(96);var r=n(12).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(30),i=n(56).f;n(70)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(98),t.exports=n(12).Object.getPrototypeOf},function(t,e,n){var r=n(43),i=n(71);n(70)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports={default:n(100),__esModule:!0}},function(t,e,n){n(101);var r=n(12).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(23);r(r.S+r.F*!n(28),"Object",{defineProperty:n(25).f})},function(t,e,n){t.exports={default:n(103),__esModule:!0}},function(t,e,n){n(44),n(59),t.exports=n(60).f("iterator")},function(t,e,n){var r=n(51),i=n(50);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),s=r(n),l=u.length;return s<0||s>=l?t?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?t?u.charAt(s):o:t?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(57),i=n(37),o=n(58),a={};n(33)(a,n(20)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(25),i=n(27),o=n(39);t.exports=n(28)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,s=0;u>s;)r.f(t,n=a[s++],e[n]);return t}},function(t,e,n){var r=n(24).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(109),i=n(110),o=n(36),a=n(30);t.exports=n(73)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(112),n(117),n(118),n(119),t.exports=n(12).Symbol},function(t,e,n){"use strict";var r=n(24),i=n(29),o=n(28),a=n(23),u=n(74),s=n(113).KEY,l=n(35),c=n(53),f=n(58),h=n(41),p=n(20),d=n(60),v=n(61),g=n(114),y=n(115),m=n(27),b=n(34),x=n(30),w=n(48),_=n(37),k=n(57),M=n(116),S=n(56),C=n(25),O=n(39),A=S.f,P=C.f,E=M.f,j=r.Symbol,T=r.JSON,$=T&&T.stringify,D=p("_hidden"),L=p("toPrimitive"),z={}.propertyIsEnumerable,R=c("symbol-registry"),F=c("symbols"),N=c("op-symbols"),I=Object.prototype,W="function"==typeof j,G=r.QObject,U=!G||!G.prototype||!G.prototype.findChild,H=o&&l(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(I,e);r&&delete I[e],P(t,e,n),r&&t!==I&&P(I,e,r)}:P,Y=function(t){var e=F[t]=k(j.prototype);return e._k=t,e},B=W&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},q=function(t,e,n){return t===I&&q(N,e,n),m(t),e=w(e,!0),m(n),i(F,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=k(n,{enumerable:_(0,!1)})):(i(t,D)||P(t,D,_(1,{})),t[D][e]=!0),H(t,e,n)):P(t,e,n)},V=function(t,e){m(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},X=function(t){var e=z.call(this,t=w(t,!0));return!(this===I&&i(F,t)&&!i(N,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,D)&&this[D][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==I||!i(F,e)||i(N,e)){var n=A(t,e);return!n||!i(F,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=E(x(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==D||e==s||r.push(e);return r},Q=function(t){for(var e,n=t===I,r=E(n?N:x(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i(I,e)||o.push(F[e]);return o};W||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===I&&e.call(N,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),H(this,t,_(1,n))};return o&&U&&H(I,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",function(){return this._k}),S.f=J,C.f=q,n(76).f=M.f=Z,n(42).f=X,n(55).f=Q,o&&!n(40)&&u(I,"propertyIsEnumerable",X,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!W,{Symbol:j});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;K.length>tt;)p(K[tt++]);for(var et=O(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=j(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?k(t):V(k(t),e)},defineProperty:q,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),T&&a(a.S+a.F*(!W||l(function(){var t=j();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!B(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!B(e))return e}),r[1]=e,$.apply(T,r)}}),j.prototype[L]||n(33)(j.prototype,L,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(41)("meta"),i=n(34),o=n(29),a=n(25).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(35)(function(){return s(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&s(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(39),i=n(55),o=n(42);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),s=o.f,l=0;u.length>l;)s.call(t,a=u[l++])&&e.push(a);return e}},function(t,e,n){var r=n(49);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(30),i=n(76).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e){},function(t,e,n){n(61)("asyncIterator")},function(t,e,n){n(61)("observable")},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){n(122),t.exports=n(12).Object.setPrototypeOf},function(t,e,n){var r=n(23);r(r.S,"Object",{setPrototypeOf:n(123).set})},function(t,e,n){var r=n(34),i=n(27),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(47)(Function.call,n(56).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){n(126);var r=n(12).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(23);r(r.S,"Object",{create:n(57)})},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=41)}([function(t,e,n){var r=n(22)("wks"),i=n(14),o=n(1).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9),i=n(30),o=n(18),a=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(48),i=n(16);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(3),i=n(13);t.exports=n(4)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var r=n(10);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(1),i=n(2),o=n(49),a=n(7),u=n(5),s=function(t,e,n){var l,c,f,h=t&s.F,p=t&s.G,d=t&s.S,v=t&s.P,g=t&s.B,y=t&s.W,m=p?i:i[e]||(i[e]={}),b=m.prototype,x=p?r:d?r[e]:(r[e]||{}).prototype;for(l in p&&(n=e),n)(c=!h&&x&&void 0!==x[l])&&u(m,l)||(f=c?x[l]:n[l],m[l]=p&&"function"!=typeof x[l]?n[l]:g&&c?o(f,r):y&&x[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[l]=f,t&s.R&&b&&!b[l]&&a(b,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(10);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(34),i=n(23);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(22)("keys"),i=n(14);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(2),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(11)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(3).f,i=n(5),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(1),i=n(2),o=n(11),a=n(38),u=n(3).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){n(28),n(35),t.exports=n(60)},function(t,e,n){n(45);for(var r=n(1),i=n(7),o=n(8),a=n(0)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var l=u[s],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(t,e,n){"use strict";var r=n(11),i=n(17),o=n(32),a=n(7),u=n(8),s=n(51),l=n(24),c=n(57),f=n(0)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,g,y){s(n,e,d);var m,b,x,w=function(t){if(!h&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",k="values"==v,M=!1,S=t.prototype,C=S[f]||S["@@iterator"]||v&&S[v],O=C||w(v),A=v?k?w("entries"):O:void 0,P="Array"==e&&S.entries||C;if(P&&(x=c(P.call(new t)))!==Object.prototype&&x.next&&(l(x,_,!0),r||"function"==typeof x[f]||a(x,f,p)),k&&C&&"values"!==C.name&&(M=!0,O=function(){return C.call(this)}),r&&!y||!h&&!M&&S[f]||a(S,f,O),u[e]=O,u[_]=p,v)if(m={values:k?O:w("values"),keys:g?O:w("keys"),entries:A},y)for(b in m)b in S||o(S,b,m[b]);else i(i.P+i.F*(h||M),e,m);return m}},function(t,e,n){t.exports=!n(4)&&!n(12)(function(){return 7!=Object.defineProperty(n(31)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(10),i=n(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=n(7)},function(t,e,n){var r=n(9),i=n(52),o=n(23),a=n(21)("IE_PROTO"),u=function(){},s=function(){var t,e=n(31)("iframe"),r=o.length;for(e.style.display="none",n(56).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(5),i=n(6),o=n(53)(!1),a=n(21)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){"use strict";var r=n(59)(!0);n(29)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(15),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){n(28),n(35),t.exports=n(62)},function(t,e,n){e.f=n(0)},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(34),i=n(23).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.droppable=e.draggable=void 0;var r=n(42);e.draggable=r.draggable,e.droppable=r.droppable},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(43)),i=a(n(64));e.draggable=function(t,e){return e&&e.destroy||!1===e?t[h]?(delete t[h],t.off("mousedown",t[l]).off("mousemove",t[c]).off("mouseup",t[f])):t:t[h]?t:(t[h]=!0,t[l]=function(e){if(e.stopPropagation(),(u=function t(e){return e[h]?e:"layer"===e.tarName?null:e.parentNode?t(e.parentNode):null}(e.target))===t){var n=e.offsetX,r=e.offsetY;u.x0_=n,u.y0_=r,u.dispatchEvent("dragstart",v(e),!0,!0),u.setMouseCapture()}},t[c]=function(e){if(e.stopPropagation(),u&&u===t&&null!=u.x0_){var n=e.offsetX,i=e.offsetY,a=n-t.x0_,l=i-t.y0_,c=t.attr("pos"),f=(0,r.default)(c,2),h=f[0],p=f[1],y=new o.Matrix(t.transform.m),m=y.transformPoint(a,l),b=(0,r.default)(m,2);a=b[0],l=b[1];var x=t.dragRect||[],w=(0,r.default)(x,4),_=w[0],k=w[1],M=w[2],S=w[3],C=h+a,O=p+l;void 0!==_&&(C=Math.max(_,C)),void 0!==M&&(C=Math.min(M,C)),void 0!==k&&(O=Math.max(k,O)),void 0!==S&&(O=Math.min(S,O)),t.attr({x:C,y:O}),u.dispatchEvent("drag",v(e),!0,!0),function(t,e){t.dragItem=e,e.renderBox,s.forEach(function(n){if(e!==n){var r=g(e,n);r&&!n[d]?(n[d]=!0,n.dispatchEvent("dragenter",v(t),!0,!0)):!r&&n[d]?(delete n[d],n.dispatchEvent("dragleave",v(t),!0,!0)):r&&n[d]&&n.dispatchEvent("dragover",v(t),!0,!0)}})}(e,t)}},t[f]=function(e){e.stopPropagation(),u&&null!=u.x0_&&(u.releaseMouseCapture(),delete u.x0_,delete u.y0_,u.dispatchEvent("dragend",v(e),!0,!0),function(t,e){t.dragItem=e,s.forEach(function(n){var r=g(e,n);r&&n[d]&&(delete n[d],n.dispatchEvent("drop",v(t),!0,!0))})}(e,t)),u=null},e&&e.dragRect&&(t.dragRect=e.dragRect),t.on("mousedown",t[l]).on("mousemove",t[c]).on("mouseup",t[f]))},e.droppable=function(t,e){if(e&&e.destroy||!1===e){if(t[p]){delete t[h];var n=s.indexOf(t);-1!==n&&s.splice(n,1)}}else t[p]||(s.push(t),t[p]=!0);return t};var o=n(75);function a(t){return t&&t.__esModule?t:{default:t}}var u=null,s=[],l=(0,i.default)("mouseDown"),c=(0,i.default)("mouseMove"),f=(0,i.default)("mouseUp"),h=(0,i.default)("isDraggable"),p=(0,i.default)("isDroppable"),d=(0,i.default)("_isDragenter");function v(t){return{detail:t}}function g(t,e){var n=t.renderBox,r=y(t),i=y(e);r=[r[0]-i[0],r[1]-i[1]];var o=[(n[0]+n[2])/2+r[0],(n[1]+n[3])/2+r[1]];return e.pointCollision({offsetX:o[0],offsetY:o[1],layerX:o[0],layerY:o[1]})}function y(t){var e=0,n=0;if(t.parent&&t.parent.tagName&&"layer"!==t.parent.tagName.toLowerCase()){var i=(0,r.default)(t.parent.renderBox,2);e=i[0],n=i[1]}return[e,n]}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(44)),i=o(n(61));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var u,s=(0,i.default)(t);!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports={default:n(27),__esModule:!0}},function(t,e,n){"use strict";var r=n(46),i=n(47),o=n(8),a=n(6);t.exports=n(29)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(50);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(33),i=n(13),o=n(24),a={};n(7)(a,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(3),i=n(9),o=n(19);t.exports=n(4)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,s=0;u>s;)r.f(t,n=a[s++],e[n]);return t}},function(t,e,n){var r=n(6),i=n(54),o=n(55);t.exports=function(t){return function(e,n,a){var u,s=r(e),l=i(s.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(20),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(20),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(5),i=n(58),o=n(21)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(16);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(20),i=n(16);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),s=r(n),l=u.length;return s<0||s>=l?t?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?t?u.charAt(s):o:t?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(36),i=n(0)("iterator"),o=n(8);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(37),__esModule:!0}},function(t,e,n){var r=n(9),i=n(63);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(36),i=n(0)("iterator"),o=n(8);t.exports=n(2).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){t.exports={default:n(65),__esModule:!0}},function(t,e,n){n(66),n(72),n(73),n(74),t.exports=n(2).Symbol},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(4),a=n(17),u=n(32),s=n(67).KEY,l=n(12),c=n(22),f=n(24),h=n(14),p=n(0),d=n(38),v=n(25),g=n(68),y=n(69),m=n(9),b=n(10),x=n(6),w=n(18),_=n(13),k=n(33),M=n(70),S=n(71),C=n(3),O=n(19),A=S.f,P=C.f,E=M.f,j=r.Symbol,T=r.JSON,$=T&&T.stringify,D=p("_hidden"),L=p("toPrimitive"),z={}.propertyIsEnumerable,R=c("symbol-registry"),F=c("symbols"),N=c("op-symbols"),I=Object.prototype,W="function"==typeof j,G=r.QObject,U=!G||!G.prototype||!G.prototype.findChild,H=o&&l(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(I,e);r&&delete I[e],P(t,e,n),r&&t!==I&&P(I,e,r)}:P,Y=function(t){var e=F[t]=k(j.prototype);return e._k=t,e},B=W&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},q=function(t,e,n){return t===I&&q(N,e,n),m(t),e=w(e,!0),m(n),i(F,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=k(n,{enumerable:_(0,!1)})):(i(t,D)||P(t,D,_(1,{})),t[D][e]=!0),H(t,e,n)):P(t,e,n)},V=function(t,e){m(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},X=function(t){var e=z.call(this,t=w(t,!0));return!(this===I&&i(F,t)&&!i(N,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,D)&&this[D][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==I||!i(F,e)||i(N,e)){var n=A(t,e);return!n||!i(F,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=E(x(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==D||e==s||r.push(e);return r},Q=function(t){for(var e,n=t===I,r=E(n?N:x(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i(I,e)||o.push(F[e]);return o};W||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===I&&e.call(N,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),H(this,t,_(1,n))};return o&&U&&H(I,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",function(){return this._k}),S.f=J,C.f=q,n(40).f=M.f=Z,n(26).f=X,n(39).f=Q,o&&!n(11)&&u(I,"propertyIsEnumerable",X,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!W,{Symbol:j});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;K.length>tt;)p(K[tt++]);for(var et=O(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=j(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?k(t):V(k(t),e)},defineProperty:q,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),T&&a(a.S+a.F*(!W||l(function(){var t=j();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!B(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!B(e))return e}),r[1]=e,$.apply(T,r)}}),j.prototype[L]||n(7)(j.prototype,L,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(14)("meta"),i=n(10),o=n(5),a=n(3).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(12)(function(){return s(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&s(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(19),i=n(39),o=n(26);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),s=o.f,l=0;u.length>l;)s.call(t,a=u[l++])&&e.push(a);return e}},function(t,e,n){var r=n(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(6),i=n(40).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(26),i=n(13),o=n(6),a=n(18),u=n(5),s=n(30),l=Object.getOwnPropertyDescriptor;e.f=n(4)?l:function(t,e){if(t=o(t),e=a(e,!0),s)try{return l(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(25)("asyncIterator")},function(t,e,n){n(25)("observable")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.Matrix=void 0;var r=o(n(76)),i=o(n(77));function o(t){return t&&t.__esModule?t:{default:t}}e.Matrix=r.default,e.Vector=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){t=t||[1,0,0,1,0,0],this.m=[t[0],t[1],t[2],t[3],t[4],t[5]]};r.prototype.unit=function(){return this.m=[1,0,0,1,0,0],this},r.prototype.multiply=function(t){var e=this.m,n=void 0;n=t instanceof r?t.m:t;var i=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],u=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return e[0]=i,e[1]=o,e[2]=a,e[3]=u,e[4]=s,e[5]=l,this},r.prototype.inverse=function(){var t=new r(this.m),e=t.m,n=1/(e[0]*e[3]-e[1]*e[2]),i=e[3]*n,o=-e[1]*n,a=-e[2]*n,u=e[0]*n,s=n*(e[2]*e[5]-e[3]*e[4]),l=n*(e[1]*e[4]-e[0]*e[5]);return e[0]=i,e[1]=o,e[2]=a,e[3]=u,e[4]=s,e[5]=l,t},r.prototype.translate=function(t,e){return this.multiply([1,0,0,1,t,e])},r.prototype.rotate=function(t){var e=t*Math.PI/180,n=Math.cos(e),r=Math.sin(e);return this.multiply([n,r,-r,n,0,0])},r.prototype.skew=function(t,e){e|=0;var n=t*Math.PI/180,r=e*Math.PI/180,i=Math.tan(n),o=Math.tan(r);return this.multiply([1,o,i,1,0,0])},r.prototype.scale=function(t,e){return this.multiply([t,0,0,e,0,0])},r.prototype.transformPoint=function(t,e){var n=t,r=e;return[t=n*this.m[0]+r*this.m[2]+this.m[4],e=n*this.m[1]+r*this.m[3]+this.m[5]]},r.prototype.transformVector=function(t,e){var n=t,r=e;return[t=n*this.m[0]+r*this.m[2],e=n*this.m[1]+r*this.m[3]]},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(78)),i=a(n(81)),o=a(n(82));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];(0,i.default)(this,t);var o=(0,r.default)(e,3),a=o[0],u=o[1],s=o[2],l=(0,r.default)(n,3),c=l[0],f=l[1],h=l[2];s=s||0,h=h||0,this.x=a-c,this.y=u-f,this.z=s-h}return(0,o.default)(t,[{key:"unit",value:function(){var e=this.length;return new t([this.x/e,this.y/e,this.z/e])}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"cross",value:function(e){var n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,u=e.z;return new t([r*u-i*a,i*o-n*u,n*a-o*r])}},{key:"length",get:function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)}}]),t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(79)),i=o(n(80));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var u,s=(0,i.default)(t);!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports={default:n(27),__esModule:!0}},function(t,e,n){t.exports={default:n(37),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(83),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(84),__esModule:!0}},function(t,e,n){n(85);var r=n(2).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(17);r(r.S+r.F*!n(4),"Object",{defineProperty:n(3).f})}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(38)),i=p(n(31)),o=p(n(17)),a=p(n(11)),u=p(n(9)),s=p(n(10)),l=p(n(13)),c=p(n(14));e.default=function(t){var e,n,p,v=t.use,g=t.utils,y=t.registerNodeType,m=g.attr,b=g.findColor,x=v(f.default,null,!1).Shape,w=(e=function(t){function e(t){(0,u.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.setDefault({points:null,close:!1,smooth:!1,tolerance:6}),n}return(0,c.default)(e,t),(0,s.default)(e,[{key:"tolerance",set:function(t){this.set("tolerance",t)}},{key:"points",set:function(t){this.clearFlow(),this.set("points",t)}},{key:"smooth",set:function(t){this.set("smooth",t)}},{key:"close",set:function(t){this.set("close",t)}}]),e}(x.Attr),d(e.prototype,"tolerance",[m],(0,o.default)(e.prototype,"tolerance"),e.prototype),d(e.prototype,"points",[m],(0,o.default)(e.prototype,"points"),e.prototype),d(e.prototype,"smooth",[m],(0,o.default)(e.prototype,"smooth"),e.prototype),d(e.prototype,"close",[m],(0,o.default)(e.prototype,"close"),e.prototype),e),_=(p=n=function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"pointCollision",value:function(t){(0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"pointCollision",this).call(this,t);var n=t.offsetX,r=t.offsetY,o=this.context.lineWidth,u=this.attr("tolerance");this.context.lineWidth=this.attr("lineWidth")+u;var s=!1;return this.path&&(this.context.isPointInStroke(this.path,n,r)||this.attr("close")&&this.context.isPointInPath(this.path,n,r))&&(s=!0),this.context.lineWidth=o,s}},{key:"render",value:function(t,n){if((0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"render",this).call(this,t,n),this.points){n.fillStyle=this.attr("fillColor"),n.strokeStyle=b(n,this,"color"),n.lineJoin=this.attr("lineJoin"),n.lineCap=this.attr("lineCap"),n.lineWidth=this.attr("lineWidth"),n.setLineDash(this.attr("lineDash")),n.lineDashOffset=this.attr("lineDashOffset");var o=this.attr("smooth"),u=new Path2D;o?(0,h.drawSmoothCurveLine)(u,this.points,n):this.points.forEach(function(t,e){0===e?u.moveTo.apply(u,(0,r.default)(t)):u.lineTo.apply(u,(0,r.default)(t))}),this.attr("close")&&u.closePath(),n.fill(u),n.stroke(u),this.path=u}return n}},{key:"points",get:function(){return this.attr("points")}},{key:"isVirtual",get:function(){return!0}}]),e}(x),n.Attr=w,p);return y("polyline",_,!1),{Polyline:_}};var f=p(n(22)),h=n(62);function p(t){return t&&t.__esModule?t:{default:t}}var d=n(21)},function(t,e,n){n(44),n(130),t.exports=n(12).Array.from},function(t,e,n){"use strict";var r=n(47),i=n(23),o=n(43),a=n(131),u=n(132),s=n(69),l=n(133),c=n(78);i(i.S+i.F*!n(134)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,g=void 0!==v,y=0,m=c(h);if(g&&(v=r(v,d>2?arguments[2]:void 0,2)),null==m||p==Array&&u(m))for(n=new p(e=s(h.length));e>y;y++)l(n,y,g?v(h[y],y):h[y]);else for(f=m.call(h),n=new p;!(i=f.next()).done;y++)l(n,y,g?a(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){var r=n(27);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(36),i=n(20)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(25),i=n(37);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(20)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){t.exports={default:n(136),__esModule:!0}},function(t,e,n){n(59),n(44),t.exports=n(137)},function(t,e,n){var r=n(79),i=n(20)("iterator"),o=n(36);t.exports=n(12).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(139),__esModule:!0}},function(t,e,n){n(59),n(44),t.exports=n(140)},function(t,e,n){var r=n(27),i=n(78);t.exports=n(12).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(18)),i=h(n(31)),o=h(n(17)),a=h(n(11)),u=h(n(9)),s=h(n(10)),l=h(n(13)),c=h(n(14));e.default=function(t){var e,n,h,d=t.use,v=t.utils,g=t.registerNodeType,y=v.attr,m=v.findColor,b=d(f.default,null,!1).Shape,x=(e=function(t){function e(t){(0,u.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.setDefault({points:[],startPoint:[0,0]}),n}return(0,c.default)(e,t),(0,s.default)(e,[{key:"points",set:function(t){this.clearFlow(),this.set("points",t)}},{key:"startPoint",set:function(t){this.clearFlow(),this.set("startPoint",t)}}]),e}(b.Attr),p(e.prototype,"points",[y],(0,o.default)(e.prototype,"points"),e.prototype),p(e.prototype,"startPoint",[y],(0,o.default)(e.prototype,"startPoint"),e.prototype),e),w=(h=n=function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"pointCollision",value:function(t){if((0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"pointCollision",this).call(this,t)){var n=t.offsetX,r=t.offsetY;return this.path&&(this.context.isPointInPath(this.path,n,r)||this.context.isPointInStroke(this.path,n,r))}}},{key:"render",value:function(t,n){(0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"render",this).call(this,t,n);var o=this.points;n.fillStyle=this.attr("fillColor"),n.strokeStyle=m(n,this,"color"),n.lineJoin=this.attr("lineJoin"),n.lineCap=this.attr("lineCap"),n.lineWidth=this.attr("lineWidth"),n.setLineDash(this.attr("lineDash")),n.lineDashOffset=this.attr("lineDashOffset");var u=new Path2D;return o.forEach(function(t){var e=(0,r.default)(t,6),n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5];u.bezierCurveTo(n,i,o,a,s,l)}),n.fill(u),n.stroke(u),this.path=u,n}},{key:"points",get:function(){return this.attr("points")}},{key:"isVirtual",get:function(){return!0}}]),e}(b),n.Attr=x,h);return g("polycurve",w,!1),{Polycurve:w}};var f=h(n(22));function h(t){return t&&t.__esModule?t:{default:t}}var p=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(38)),i=v(n(18)),o=v(n(31)),a=v(n(17)),u=v(n(11)),s=v(n(9)),l=v(n(10)),c=v(n(13)),f=v(n(14));e.default=function(t){var e,n,v,y,m=t.use,b=t.utils,x=t.registerNodeType,w=b.attr,_=(b.findColor,b.flow),k=m(p.default,null,!1).Shape,M=(e=function(t){function e(t){(0,s.default)(this,e);var n=(0,c.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.setDefault({radius:50,offset:10,amplitude:0,percent:0,wavesColor:"#000",shape:"",shapeScale:1,shapeColor:"#000",shapeFillColor:"transparent",showOutline:!0,outlineColor:"#000",speed:0}),n}return(0,f.default)(e,t),(0,l.default)(e,[{key:"radius",set:function(t){this.clearFlow(),this.set("radius",t)}},{key:"offset",set:function(t){this.clearFlow(),this.set("offset",t)}},{key:"amplitude",set:function(t){this.clearFlow(),this.set("amplitude",t)}},{key:"speed",set:function(t){this.clearFlow(),this.set("speed",t)}},{key:"percent",set:function(t){this.clearFlow(),this.set("percent",t)}},{key:"wavesColor",set:function(t){this.clearFlow(),this.set("wavesColor",t)}},{key:"shape",set:function(t){this.clearFlow(),this.set("shape",t)}}]),e}(k.Attr),g(e.prototype,"radius",[w],(0,a.default)(e.prototype,"radius"),e.prototype),g(e.prototype,"offset",[w],(0,a.default)(e.prototype,"offset"),e.prototype),g(e.prototype,"amplitude",[w],(0,a.default)(e.prototype,"amplitude"),e.prototype),g(e.prototype,"speed",[w],(0,a.default)(e.prototype,"speed"),e.prototype),g(e.prototype,"percent",[w],(0,a.default)(e.prototype,"percent"),e.prototype),g(e.prototype,"wavesColor",[w],(0,a.default)(e.prototype,"wavesColor"),e.prototype),g(e.prototype,"shape",[w],(0,a.default)(e.prototype,"shape"),e.prototype),e),S=(y=v=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,l.default)(e,[{key:"render",value:function(t,n){var r=this;(0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"render",this).call(this,t,n);var a=this.attr("lineWidth"),s=this.attr("radius"),l=this.attr("offset"),c=this.attr("shape"),f=this.attr("showOutline"),p=this.attr("amplitude")||s/10;n.save();var v=void 0,g=void 0,y=void 0,m=void 0,b=void 0;if(c){b=new h.default(c);var x=(0,i.default)(b.center,2);v=x[0],g=x[1];var w=b.size.map(function(t){return(t+a)/2}),_=(0,i.default)(w,2);y=_[0],m=_[1]}else v=a+s+l,g=a+s+l,y=m=s;if(f&&!b&&(n.beginPath(),n.strokeStyle=this.attr("outlineColor"),n.lineWidth=a,n.arc(v,g,Math.min(y,m)+l,0,2*Math.PI,!1),n.stroke()),b){n.translate(a,a),b.save().beginPath().strokeStyle(this.attr("shapeColor")).fillStyle(this.attr("shapeFillColor")).scale(this.attr("shapeScale")).lineWidth(a).trim().to(n).fill().stroke();var k=(0,i.default)(b.center,2);v=k[0],g=k[1];var M=b.size.map(function(t){return(t+2*a)/2}),S=(0,i.default)(M,2);y=S[0],m=S[1]}else n.beginPath(),n.arc(v,g+0,Math.min(y,m),0,2*Math.PI,!1);n.clip();var C=this.attr("wavesColor"),O=this.attr("percent");Array.isArray(O)||(O=[O]),Array.isArray(C)||(C=[C]),O.map(function(t,e){t=t>1?1:t;var i=0;if(r.attr("shape"))i=t<=.5?(.5-t)*m*2:-(t-.5)*m*2;else{var o=0;o=t<=.5?.25-t/2:t<1?0-(t-.5)/2:0,o*=2*Math.PI;var a=t>=1?-1:(0,d.sin)(o/2);i=(0,d.round)(s*a)}var u=(s/20*(0,d.sin)(t*Math.PI)+10*e+p)/2,l=2*Math.PI/200,c=g+i+5*e,f=r.attr("speed");n.beginPath(),n.moveTo(v-y,g);for(var h=v-y;h<=v+y;h++){var b=u*(e%2?Math.sin:Math.cos)(l*h+f)+c;n.lineTo(h,b)}n.lineTo(v+y,g+m),n.lineTo(v-y,g+m),n.lineTo(v-y,g),n.fillStyle=C[e]||C[0],n.fill(),n.closePath()}),n.restore()}},{key:"isVirtual",get:function(){return!1}},{key:"lineBoundings",get:function(){var t=this.attr("lineWidth");if(this.attr("shape")){var e=new h.default(this.attr("shape"));return e.scale(this.attr("shapeScale")).lineWidth(t).trim(),[-t,-t].concat((0,r.default)(e.size.map(function(e){return e+=t})))}var n=t+this.attr("radius")+this.attr("offset");return[t,t,2*n,2*n]}},{key:"contentSize",get:function(){var t=this.lineBoundings,e=(0,i.default)(this.attrSize,2),n=e[0],r=e[1];return""==n&&(n=t[2]-Math.min(0,t[0])),""==r&&(r=t[3]-Math.min(0,t[1])),[n,r].map(Math.ceil)}},{key:"originalRect",get:function(){var t=this.lineBoundings,n=(0,o.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"originalRect",this),r=(0,i.default)(n,4),a=r[0],s=r[1],l=r[2],c=r[3],f=[a-t[0]/2,s-t[1]/2,l,c];return f}}]),e}(k),v.Attr=M,g((n=y).prototype,"lineBoundings",[_],(0,a.default)(n.prototype,"lineBoundings"),n.prototype),g(n.prototype,"contentSize",[_],(0,a.default)(n.prototype,"contentSize"),n.prototype),g(n.prototype,"originalRect",[_],(0,a.default)(n.prototype,"originalRect"),n.prototype),n);return x("wave",S,!1),{Wave:S}};var h=v(n(143)),p=v(n(22)),d=n(62);function v(t){return t&&t.__esModule?t:{default:t}}var g=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(38)),i=g(n(18)),o=g(n(144)),a=g(n(64)),u=g(n(9)),s=g(n(10)),l=g(n(75)),c=n(145),f=n(148),h=g(n(149)),p=g(n(150)),d=g(n(151)),v=g(n(153));function g(t){return t&&t.__esModule?t:{default:t}}var y=(0,l.default)("path"),m=(0,l.default)("bounds"),b=(0,l.default)("savedPaths"),x=(0,l.default)("renderProps"),w=(0,l.default)("beginPath"),_=function(){function t(e){if((0,u.default)(this,t),!(0,v.default)(e))throw new Error("Not an SVG path!");var n=(0,d.default)((0,p.default)((0,h.default)(e)));this[y]=n,this[m]=null,this[b]=[],this[x]={},this[w]=!1}return(0,s.default)(t,[{key:"save",value:function(){return this[b].push({path:this[y],bounds:this[m],renderProps:(0,a.default)({},this[x])}),this}},{key:"restore",value:function(){if(this[b].length){var t=this[b].pop(),e=t.path,n=t.bounds,r=t.renderProps;this[y]=e,this[m]=n,this[x]=r}return this}},{key:"isPointInPath",value:function(t,e){return(0,f.isPointInPath)(this,t,e)}},{key:"isPointInStroke",value:function(t,e,n){var r=n.lineWidth,i=void 0===r?1:r,o=n.lineCap,a=void 0===o?"butt":o,u=n.lineJoin,s=void 0===u?"miter":u;if(f.isPointInStroke)return(0,f.isPointInStroke)(this,t,e,{lineWidth:i,lineCap:a,lineJoin:s})}},{key:"getPointAtLength",value:function(t){return(0,f.getPointAtLength)(this.d,t)}},{key:"getTotalLength",value:function(){return(0,f.getTotalLength)(this.d)}},{key:"transform",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this[m]=null;var r=new c.Matrix(e),a=this[y];return this[y]=a.map(function(t){for(var e=(0,o.default)(t),n=e[0],a=e.slice(1),u=[n],s=0;s<a.length;s+=2){var l=a[s],c=a[s+1],f=r.transformPoint(l,c),h=(0,i.default)(f,2),p=h[0],d=h[1];u.push(p,d)}return u}),this}},{key:"translate",value:function(t,e){var n=(new c.Matrix).translate(t,e);return this.transform.apply(this,(0,r.default)(n.m))}},{key:"rotate",value:function(t){var e=(new c.Matrix).rotate(t);return this.transform.apply(this,(0,r.default)(e.m))}},{key:"scale",value:function(t,e){null==e&&(e=t);var n=(new c.Matrix).scale(t,e);return this.transform.apply(this,(0,r.default)(n.m))}},{key:"skew",value:function(t,e){var n=(new c.Matrix).skew(t,e);return this.transform.apply(this,(0,r.default)(n.m))}},{key:"trim",value:function(){var t=(0,i.default)(this.bounds,2),e=t[0],n=t[1];return this.translate(-e,-n),this}},{key:"beginPath",value:function(){return this[w]=!0,this}},{key:"to",value:function(t){var e=this[y],n=this[x];return e.length&&(this[w]&&t.beginPath(),e.forEach(function(e){var n=(0,o.default)(e),i=n[0],a=n.slice(1);"M"===i?t.moveTo.apply(t,(0,r.default)(a)):t.bezierCurveTo.apply(t,(0,r.default)(a))})),(0,a.default)(t,n),{stroke:function(){return t.stroke(),this},fill:function(){return t.fill(),this}}}},{key:"strokeStyle",value:function(t){return this[x].strokeStyle=t,this}},{key:"fillStyle",value:function(t){return this[x].fillStyle=t,this}},{key:"lineWidth",value:function(t){return this[x].lineWidth=t,this}},{key:"lineCap",value:function(t){return this[x].lineCap=t,this}},{key:"lineJoin",value:function(t){return this[x].lineJoin=t,this}},{key:"bounds",get:function(){if(!this[m]){var t=this[y];if(this[m]=[0,0,0,0],t.length){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;n++)for(var i=t[n].slice(1),o=0;o<i.length;o+=2)i[o+0]<e[0]&&(e[0]=i[o+0]),i[o+1]<e[1]&&(e[1]=i[o+1]),i[o+0]>e[2]&&(e[2]=i[o+0]),i[o+1]>e[3]&&(e[3]=i[o+1]);this[m]=e}}return this[m]}},{key:"size",get:function(){var t=this.bounds;return[t[2]-t[0],t[3]-t[1]]}},{key:"center",get:function(){var t=(0,i.default)(this.bounds,4),e=t[0],n=t[1];return[(e+t[2])/2,(n+t[3])/2]}},{key:"d",get:function(){return this[y].map(function(t){var e=(0,o.default)(t);return e[0]+e.slice(1).join()}).join("")}},{key:"path",get:function(){return this[y]}}]),t}();e.default=_},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(77),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return Array.isArray(t)?t:(0,o.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.Matrix=void 0;var r=o(n(146)),i=o(n(147));function o(t){return t&&t.__esModule?t:{default:t}}e.Matrix=r.default,e.Vector=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){t=t||[1,0,0,1,0,0],this.m=[t[0],t[1],t[2],t[3],t[4],t[5]]};r.prototype.unit=function(){return this.m=[1,0,0,1,0,0],this},r.prototype.multiply=function(t){var e=this.m,n=void 0;n=t instanceof r?t.m:t;var i=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],u=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return e[0]=i,e[1]=o,e[2]=a,e[3]=u,e[4]=s,e[5]=l,this},r.prototype.inverse=function(){var t=new r(this.m),e=t.m,n=1/(e[0]*e[3]-e[1]*e[2]),i=e[3]*n,o=-e[1]*n,a=-e[2]*n,u=e[0]*n,s=n*(e[2]*e[5]-e[3]*e[4]),l=n*(e[1]*e[4]-e[0]*e[5]);return e[0]=i,e[1]=o,e[2]=a,e[3]=u,e[4]=s,e[5]=l,t},r.prototype.translate=function(t,e){return this.multiply([1,0,0,1,t,e])},r.prototype.rotate=function(t){var e=t*Math.PI/180,n=Math.cos(e),r=Math.sin(e);return this.multiply([n,r,-r,n,0,0])},r.prototype.skew=function(t,e){e|=0;var n=t*Math.PI/180,r=e*Math.PI/180,i=Math.tan(n),o=Math.tan(r);return this.multiply([1,o,i,1,0,0])},r.prototype.scale=function(t,e){return this.multiply([t,0,0,e,0,0])},r.prototype.transformPoint=function(t,e){var n=t,r=e;return[t=n*this.m[0]+r*this.m[2]+this.m[4],e=n*this.m[1]+r*this.m[3]+this.m[5]]},r.prototype.transformVector=function(t,e){var n=t,r=e;return[t=n*this.m[0]+r*this.m[2],e=n*this.m[1]+r*this.m[3]]},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(18)),i=a(n(9)),o=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];(0,i.default)(this,t);var o=(0,r.default)(e,3),a=o[0],u=o[1],s=o[2],l=(0,r.default)(n,3),c=l[0],f=l[1],h=l[2];s=s||0,h=h||0,this.x=a-c,this.y=u-f,this.z=s-h}return(0,o.default)(t,[{key:"unit",value:function(){var e=this.length;return new t([this.x/e,this.y/e,this.z/e])}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"cross",value:function(e){var n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,u=e.z;return new t([r*u-i*a,i*o-n*u,n*a-o*r])}},{key:"length",get:function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t),e}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointAtLength=function(t,e){var n=r(t).getPointAtLength(e),i=n.x,o=n.y;return[i,o]},e.getTotalLength=function(t,e){return r(t).getTotalLength(e)},e.isPointInPath=function(t,e,n){var r=t.d;i||(i=document.createElement("canvas").getContext("2d"));var o=new Path2D(r);return i.isPointInPath(o,e,n)},e.isPointInStroke=function(t,e,n,r){var o=t.d,a=r.lineWidth,u=void 0===a?1:a,s=r.lineCap,l=void 0===s?"butt":s,c=r.lineJoin,f=void 0===c?"miter":c;i||(i=document.createElement("canvas").getContext("2d")),i.save(),i.lineWidth=u,i.lineCap=l,i.lineJoin=f;var h=new Path2D(o),p=i.isPointInStroke(h,e,n);return i.restore(),p};var i=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return t.replace(i,function(t,n,i){var a=n.toLowerCase();for(i=function(t){var e=t.match(o);return e?e.map(Number):[]}(i),"m"==a&&i.length>2&&(e.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),e.push(i);if(i.length<r[a])throw new Error("malformed path data");e.push([n].concat(i.splice(0,r[a])))}}),e};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=0,n=0,r=0,i=0;return t.map(function(t){var o=(t=t.slice())[0],a=o.toUpperCase();if(o!=a)switch(t[0]=a,o){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var u=1;u<t.length;)t[u++]+=r,t[u++]+=i}switch(a){case"Z":r=e,i=n;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=e=t[1],i=n=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(18));e.default=function(t){for(var e,n=[],o=0,s=0,l=0,c=0,f=null,h=null,p=0,d=0,v=0,g=t.length;v<g;v++){var y=t[v],m=y[0];switch(m){case"M":l=y[1],c=y[2];break;case"A":var b=(0,i.default)(p,d,y[6],y[7],y[4],y[5],y[1],y[2],y[3]);if(!b.length)continue;b=b.map(function(t){var e=(0,r.default)(t,8),n=(e[0],e[1],e[2]),i=e[3],o=e[4],a=e[5],u=e[6],s=e[7];return{x1:n,y1:i,x2:o,y2:a,x:u,y:s}});for(var x,w=0;w<b.length;w++)x=b[w],y=["C",x.x1,x.y1,x.x2,x.y2,x.x,x.y],w<b.length-1&&n.push(y);break;case"S":var _=p,k=d;"C"!=e&&"S"!=e||(_+=_-o,k+=k-s),y=["C",_,k,y[1],y[2],y[3],y[4]];break;case"T":"Q"==e||"T"==e?(f=2*p-f,h=2*d-h):(f=p,h=d),y=u(p,d,f,h,y[1],y[2]);break;case"Q":f=y[1],h=y[2],y=u(p,d,y[1],y[2],y[3],y[4]);break;case"L":y=a(p,d,y[1],y[2]);break;case"H":y=a(p,d,y[1],d);break;case"V":y=a(p,d,p,y[1]);break;case"Z":y=a(p,d,l,c)}e=m,p=y[y.length-2],d=y[y.length-1],y.length>4?(o=y[y.length-4],s=y[y.length-3]):(o=p,s=d),n.push(y)}return n};var i=o(n(152));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,r){return["C",t,e,n,r,n,r]}function u(t,e,n,r,i,o){return["C",t/3+2/3*n,e/3+2/3*r,i/3+2/3*n,o/3+2/3*r,i,o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a,u,s,l,c,f){var h=Math.sin(f*r/360),p=Math.cos(f*r/360),d=p*(t-n)/2+h*(e-a)/2,v=-h*(t-n)/2+p*(e-a)/2;if(0===d&&0===v)return[];if(0===l||0===c)return[];l=Math.abs(l),c=Math.abs(c);var g=d*d/(l*l)+v*v/(c*c);g>1&&(l*=Math.sqrt(g),c*=Math.sqrt(g));var y=function(t,e,n,o,a,u,s,l,c,f){var h=f*(t-n)/2+c*(e-o)/2,p=-c*(t-n)/2+f*(e-o)/2,d=s*s,v=l*l,g=h*h,y=p*p,m=d*v-d*y-v*g;m<0&&(m=0),m/=d*y+v*g;var b=(m=Math.sqrt(m)*(a===u?-1:1))*s/l*p,x=m*-l/s*h,w=f*b-c*x+(t+n)/2,_=c*b+f*x+(e+o)/2,k=(h-b)/s,M=(p-x)/l,S=(-h-b)/s,C=(-p-x)/l,O=i(1,0,k,M),A=i(k,M,S,C);return 0===u&&A>0&&(A-=r),1===u&&A<0&&(A+=r),[w,_,O,A]}(t,e,n,a,u,s,l,c,h,p),m=[],b=y[2],x=y[3],w=Math.max(Math.ceil(Math.abs(x)/(r/4)),1);x/=w;for(var _=0;_<w;_++)m.push(o(b,x)),b+=x;return m.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=p*(n*=l)-h*(r*=c),o=h*n+p*r;t[e+0]=i+y[0],t[e+1]=o+y[1]}return t})};var r=2*Math.PI;function i(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function o(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(18)),i=c(n(11)),o=c(n(9)),a=c(n(10)),u=c(n(13)),s=c(n(14));e.default=function(t){var e=t.use,n=(t.utils,t.registerNodeType),c=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,a.default)(e,[{key:"points",get:function(){var t=this.attr("sides"),e=(0,r.default)(t,2),n=e[0],i=e[1],o=Math.PI/180*this.attr("angle"),a=[n,0],u=[i*Math.cos(o),i*Math.sin(o)];return[[0,0],a,u]}}]),e}(e(l.default,null,!1).Polygon);return n("triangle",c,!1),{Triangle:c}};var l=c(n(45));function c(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(18)),i=f(n(17)),o=f(n(11)),a=f(n(9)),u=f(n(10)),s=f(n(13)),l=f(n(14));e.default=function(t){var e,n,f,p=t.use,d=t.utils,v=t.registerNodeType,g=d.attr,y=p(c.default,null,!1).Polygon,m=(e=function(t){function e(t){(0,a.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setDefault({angle:90,sides:null,size:null}),n}return(0,l.default)(e,t),(0,u.default)(e,[{key:"angle",set:function(t){this.clearFlow(),this.set("angle",t)}},{key:"sides",set:function(t){this.clearFlow(),this.set("sides",t)}}]),e}(y.Attr),h(e.prototype,"angle",[g],(0,i.default)(e.prototype,"angle"),e.prototype),h(e.prototype,"sides",[g],(0,i.default)(e.prototype,"sides"),e.prototype),e),b=(f=n=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"points",get:function(){var t=this.attr("sides")||this.attr("size"),e=(0,r.default)(t,2),n=e[0],i=e[1],o=this.attr("angle"),a=0,u=1;if(90===o);else{var s=Math.PI*this.attr("angle")/180;a=Math.cos(s),u=Math.sin(s)}var l=[n,0],c=[n+i*a,i*u],f=[i*a,i*u];return[[0,0],l,c,f]}}]),e}(y),n.Attr=m,f);return v("rect",b,!1),{Rect:b}};var c=f(n(45));function f(t){return t&&t.__esModule?t:{default:t}}var h=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(17)),i=c(n(11)),o=c(n(9)),a=c(n(10)),u=c(n(13)),s=c(n(14));e.default=function(t){var e,n,c,h=t.use,p=t.utils,d=t.registerNodeType,v=p.attr,g=h(l.default,null,!1).Polygon,y=(e=function(t){function e(t){(0,o.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.setDefault({angles:5}),n}return(0,s.default)(e,t),(0,a.default)(e,[{key:"angles",set:function(t){this.clearFlow(),this.set("angles",t)}},{key:"radius",set:function(t){this.clearFlow(),this.set("radius",t)}},{key:"innerRadius",set:function(t){this.clearFlow(),this.set("innerRadius",t)}}]),e}(g.Attr),f(e.prototype,"angles",[v],(0,r.default)(e.prototype,"angles"),e.prototype),f(e.prototype,"radius",[v],(0,r.default)(e.prototype,"radius"),e.prototype),f(e.prototype,"innerRadius",[v],(0,r.default)(e.prototype,"innerRadius"),e.prototype),e),m=(c=n=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,a.default)(e,[{key:"points",get:function(){var t,e,n,r=this.attr("radius"),i=this.attr("innerRadius")||.4*r;return(t=this.attr("angles"),e=[],n=2*t,function(r,i){for(var o=r,a=-Math.PI/2,u=Math.PI/t,s=1;s<=n;s++){var l=u*s+a,c=s%2?i:r,f=o+Math.cos(l)*c,h=Math.sin(l)*c;e.push([f,h])}return e})(r,i)}}]),e}(g),n.Attr=y,c);return d("star",m,!1),{Star:m}};var l=c(n(45));function c(t){return t&&t.__esModule?t:{default:t}}var f=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(18)),i=f(n(17)),o=f(n(11)),a=f(n(9)),u=f(n(10)),s=f(n(13)),l=f(n(14));e.default=function(t){var e,n,f,p=t.use,d=t.utils,v=t.registerNodeType,g=d.attr,y=d.findColor,m=p(c.default,null,!1).Shape,b=(e=function(t){function e(t){(0,a.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setDefault({center:[0,0],startPoint:[0,0],angel:0,radius:0,startAngle:0,endAngle:2*Math.PI,anticlockwise:!1}),n}return(0,l.default)(e,t),(0,u.default)(e,[{key:"center",set:function(t){this.clearFlow(),this.set("center",t)}},{key:"startPoint",set:function(t){this.clearFlow(),this.set("startPoint",t)}},{key:"angle",set:function(t){this.clearFlow(),this.set("angle",t)}},{key:"radius",set:function(t){this.clearFlow(),this.set("radius",t)}},{key:"startAngle",set:function(t){this.clearFlow(),this.set("startAngle",t)}},{key:"endAngle",set:function(t){this.clearFlow(),this.set("endAngle",t)}},{key:"anticlockwise",set:function(t){this.clearFlow(),this.set("anticlockwise",t)}}]),e}(m.Attr),h(e.prototype,"center",[g],(0,i.default)(e.prototype,"center"),e.prototype),h(e.prototype,"startPoint",[g],(0,i.default)(e.prototype,"startPoint"),e.prototype),h(e.prototype,"angle",[g],(0,i.default)(e.prototype,"angle"),e.prototype),h(e.prototype,"radius",[g],(0,i.default)(e.prototype,"radius"),e.prototype),h(e.prototype,"startAngle",[g],(0,i.default)(e.prototype,"startAngle"),e.prototype),h(e.prototype,"endAngle",[g],(0,i.default)(e.prototype,"endAngle"),e.prototype),h(e.prototype,"anticlockwise",[g],(0,i.default)(e.prototype,"anticlockwise"),e.prototype),e),x=(f=n=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"render",value:function(t,e){if(this.attr("center")){var n=this.attr("center"),i=(0,r.default)(n,2),o=i[0],a=i[1],u=this.startAngle,s=this.endAngle,l=this.attr("radius"),c=this.attr("anticlockwise");e.lineCap=this.attr("lineCap"),e.lineJoin=this.attr("lineJoin"),e.lineWidth=this.attr("lineWidth"),e.strokeStyle=y(e,this,"color"),e.setLineDash(this.attr("lineDash")),e.lineDashOffset=this.attr("lineDashOffset");var f=new Path2D;f.arc(o,a,l,u,s,c),e.stroke(f),this.path=f}else console.error("center must be given when drawing an arc!");return e}},{key:"isVirtual",get:function(){return!0}},{key:"startAngle",get:function(){return this.attr("startAngle")}},{key:"endAngle",get:function(){return this.attr("endAngle")}}]),e}(m),n.Attr=b,f);return v("arc",x,!1),{Arc:x}};var c=f(n(22));function f(t){return t&&t.__esModule?t:{default:t}}var h=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(10)),i=f(n(31)),o=f(n(11)),a=f(n(9)),u=f(n(13)),s=f(n(14));e.default=function(t){var e,n,f=t.use,h=t.utils,p=t.registerNodeType,d=h.findColor,v=f(l.default,null,!1).Shape,g=function(t){function e(t){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t))}return(0,s.default)(e,t),e}(f(c.default,null,!1).Sector.Attr),y=(n=e=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"render",value:function(t,n){(0,i.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"render",this).call(this,t,n);var r=this.attr("radiusX"),a=this.attr("radiusY"),u=this.attr("rotate")/180*Math.PI,s=this.attr("startAngle")/180*Math.PI,l=this.attr("endAngle")/180*Math.PI,c=this.attr("anticlockwise");if(n.lineWidth=this.attr("lineWidth"),n.strokeStyle=d(n,this,"color"),n.fillStyle=d(n,this,"fillColor"),!n.ellipse)throw new Error("Your browser does'n support canvas ellipse");return n.beginPath(),n.ellipse(0,0,r,a,u,s,l,c),n.fill(),n.stroke(),n}},{key:"isVirtual",get:function(){return!0}}]),e}(v),e.Attr=g,n);return p("ellipsearc",y,!1),{EllipseArc:y}};var l=f(n(22)),c=f(n(80));function f(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(17)),i=c(n(11)),o=c(n(9)),a=c(n(10)),u=c(n(13)),s=c(n(14));e.default=function(t){var e,n,c,h=t.use,p=t.utils,d=t.registerNodeType,v=p.attr,g=h(l.default,null,!1).Ellipse,y=(e=function(t){function e(t){(0,o.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.setDefault({radius:10}),n}return(0,s.default)(e,t),(0,a.default)(e,[{key:"radius",set:function(t){this.clearFlow(),this.set("radius",t)}}]),e}(g.Attr),f(e.prototype,"radius",[v],(0,r.default)(e.prototype,"radius"),e.prototype),e),m=(c=n=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,a.default)(e,[{key:"radiuses",get:function(){var t=this.attr("radius");return[t,t]}}]),e}(g),n.Attr=y,c);return d("circle",m,!1),{Circle:m}};var l=c(n(81));function c(t){return t&&t.__esModule?t:{default:t}}var f=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(18)),i=h(n(31)),o=h(n(17)),a=h(n(11)),u=h(n(9)),s=h(n(10)),l=h(n(13)),c=h(n(14));e.default=function(t){var e,n,h,d,v=t.use,g=t.utils,y=t.registerNodeType,m=g.attr,b=g.flow,x=g.findColor,w=v(f.default,null,!1).Shape,_=(e=function(t){function e(t){(0,u.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.setDefault({innerRaius:10,outerRadius:20,startAngle:0,endAngle:360,center:[0,0],lineWidth:1,maxRadius:0}),n}return(0,c.default)(e,t),(0,s.default)(e,[{key:"innerRadius",set:function(t){this.clearFlow(),this.set("innerRadius",t)}},{key:"outerRadius",set:function(t){this.clearFlow(),this.set("outerRadius",t)}},{key:"maxRadius",set:function(t){this.clearFlow(),this.set("maxRadius",t)}},{key:"startAngle",set:function(t){this.clearFlow(),this.set("startAngle",t)}},{key:"endAngle",set:function(t){this.clearFlow(),this.set("endAngle",t)}},{key:"center",set:function(t){this.clearFlow(),this.set("center",t)}}]),e}(w.Attr),p(e.prototype,"innerRadius",[m],(0,o.default)(e.prototype,"innerRadius"),e.prototype),p(e.prototype,"outerRadius",[m],(0,o.default)(e.prototype,"outerRadius"),e.prototype),p(e.prototype,"maxRadius",[m],(0,o.default)(e.prototype,"maxRadius"),e.prototype),p(e.prototype,"startAngle",[m],(0,o.default)(e.prototype,"startAngle"),e.prototype),p(e.prototype,"endAngle",[m],(0,o.default)(e.prototype,"endAngle"),e.prototype),p(e.prototype,"center",[m],(0,o.default)(e.prototype,"center"),e.prototype),e),k=(d=h=function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"pointCollision",value:function(t){if((0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"pointCollision",this).call(this,t)){var n=t.offsetX,o=t.offsetY,u=this.attr("anchor"),s=(0,r.default)(u,2),l=s[0],c=s[1],f=(0,r.default)(this.contentSize,2),h=f[0],p=f[1];n+=h*l,o+=p*c;var d=this.attr("maxRadius"),v=this.attr("outerRadius");d<=0&&(d=v),v=d-v;var g=this.attr("innerRadius"),y=2*Math.PI,m=this.attr("startAngle");m>y?m%=y:m=(m+Math.ceil(Math.abs(m)/y)*y)%y;var b=this.attr("endAngle")-this.attr("startAngle")+m,x=Math.sqrt(Math.pow(n-d,2)+Math.pow(o-d,2)),w=Math.atan2(o-d,n-d);return(w<0||b>y)&&(w+=y),x>=g&&x<=d-v&&w>=m&&w<=b}}},{key:"render",value:function(t,n){(0,i.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"render",this).call(this,t,n);var o=Math.min(this.attr("innerRadius"),this.attr("outerRadius")),u=Math.max(this.attr("innerRadius"),this.attr("outerRadius")),s=this.attr("lineWidth"),l=this.startAngle,c=this.endAngle;n.miterLimit=0,n.lineWidth=s,n.lineCap=this.attr("lineCap"),n.lineJoin=this.attr("lineJoin"),n.setLineDash(this.attr("lineDash")),n.lineDashOffset=this.attr("lineDashOffset"),n.strokeStyle=x(n,this,"color"),n.fillStyle=x(n,this,"fillColor");var f=this.attr("center"),h=(0,r.default)(f,2),p=h[0],d=h[1],v=this.attr("maxRadius");v<=0&&(v=u);var g=this.lineBoundings;return n.translate(g[2]/2-p+s,g[3]/2-d+s),n.beginPath(),n.arc(p,d,u,l,c,!1),c-l==2*Math.PI&&n.moveTo(u+o,u),n.arc(p,d,o,c,l,!0),n.closePath(),n.fill(),s>0&&n.stroke(),n}},{key:"lineBoundings",get:function(){var t=this.attr("maxRadius");if(t<=0){var e=Math.max(this.attr("innerRadius"),this.attr("outerRadius"));t=e}return[0,0,2*t,2*t]}},{key:"startAngle",get:function(){return this.attr("startAngle")}},{key:"endAngle",get:function(){return this.attr("endAngle")}},{key:"contentSize",get:function(){var t=this.lineBoundings,e=this.attr("lineWidth"),n=(0,r.default)(this.attrSize,2),i=n[0],o=n[1];return""===i&&(i=t[2]-Math.min(0,t[0])+2*e),""===o&&(o=t[3]-Math.min(0,t[1])+2*e),[i,o].map(Math.ceil)}},{key:"originalRect",get:function(){var t=this.lineBoundings,e=this.attr("lineWidth"),n=(0,r.default)(this.offsetSize,2),i=n[0],o=n[1],a=this.attr("anchor"),u=(0,r.default)(a,2),s=u[0],l=u[1],c=[0,0,i,o],f=Math.min(0,t[0]),h=Math.min(0,t[1]);return c[0]=f-e-s*(i+f-2*e),c[1]=h-e-l*(o+h-2*e),c}}]),e}(w),h.Attr=_,p((n=d).prototype,"contentSize",[b],(0,o.default)(n.prototype,"contentSize"),n.prototype),p(n.prototype,"originalRect",[b],(0,o.default)(n.prototype,"originalRect"),n.prototype),n);return y("ring",k),{Ring:k}};var f=h(n(22));function h(t){return t&&t.__esModule?t:{default:t}}var p=n(21)},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(168),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=x;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==r&&i.call(m,a)&&(g=m);var b=M.prototype=_.prototype=Object.create(g);k.prototype=b.constructor=M,M.constructor=k,M[s]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[u]=function(){return this},c.AsyncIterator=C,c.async=function(t,e,n,r){var i=new C(x(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function x(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=w(t,e,n);if("normal"===s.type){if(r=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function k(){}function M(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var u=w(t[n],t,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){s.value=t,o(s)},function(t){return e("throw",t,o,a)})}a(u.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,l=[],c=!1,f=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=u(h);c=!0;for(var e=l.length;e;){for(s=l,l=[];++f<e;)s&&s[f].run();f=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"geoArea",function(){return Po}),n.d(r,"geoBounds",function(){return wa}),n.d(r,"geoCentroid",function(){return $a}),n.d(r,"geoCircle",function(){return Ha}),n.d(r,"geoClipAntimeridian",function(){return eu}),n.d(r,"geoClipCircle",function(){return nu}),n.d(r,"geoClipExtent",function(){return cu}),n.d(r,"geoClipRectangle",function(){return au}),n.d(r,"geoContains",function(){return Au}),n.d(r,"geoDistance",function(){return bu}),n.d(r,"geoGraticule",function(){return ju}),n.d(r,"geoGraticule10",function(){return Tu}),n.d(r,"geoInterpolate",function(){return Ru}),n.d(r,"geoLength",function(){return gu}),n.d(r,"geoPath",function(){return Ls}),n.d(r,"geoAlbers",function(){return tl}),n.d(r,"geoAlbersUsa",function(){return el}),n.d(r,"geoAzimuthalEqualArea",function(){return ol}),n.d(r,"geoAzimuthalEqualAreaRaw",function(){return il}),n.d(r,"geoAzimuthalEquidistant",function(){return ul}),n.d(r,"geoAzimuthalEquidistantRaw",function(){return al}),n.d(r,"geoConicConformal",function(){return pl}),n.d(r,"geoConicConformalRaw",function(){return hl}),n.d(r,"geoConicEqualArea",function(){return Ks}),n.d(r,"geoConicEqualAreaRaw",function(){return Qs}),n.d(r,"geoConicEquidistant",function(){return yl}),n.d(r,"geoConicEquidistantRaw",function(){return gl}),n.d(r,"geoEqualEarth",function(){return Ml}),n.d(r,"geoEqualEarthRaw",function(){return kl}),n.d(r,"geoEquirectangular",function(){return vl}),n.d(r,"geoEquirectangularRaw",function(){return dl}),n.d(r,"geoGnomonic",function(){return Cl}),n.d(r,"geoGnomonicRaw",function(){return Sl}),n.d(r,"geoIdentity",function(){return Al}),n.d(r,"geoProjection",function(){return Xs}),n.d(r,"geoProjectionMutator",function(){return Js}),n.d(r,"geoMercator",function(){return ll}),n.d(r,"geoMercatorRaw",function(){return sl}),n.d(r,"geoNaturalEarth1",function(){return El}),n.d(r,"geoNaturalEarth1Raw",function(){return Pl}),n.d(r,"geoOrthographic",function(){return Tl}),n.d(r,"geoOrthographicRaw",function(){return jl}),n.d(r,"geoStereographic",function(){return Dl}),n.d(r,"geoStereographicRaw",function(){return $l}),n.d(r,"geoTransverseMercator",function(){return zl}),n.d(r,"geoTransverseMercatorRaw",function(){return Ll}),n.d(r,"geoRotation",function(){return Wa}),n.d(r,"geoStream",function(){return wo}),n.d(r,"geoTransform",function(){return zs});var i=n(0),o=n(85),a=n(4),u=n.n(a),s=n(2),l=n.n(s),c=n(3),f=n.n(c),h=n(5),p=n.n(h),d=n(6),v=n.n(d),g=n(15),y=n.n(g),m=n(7),b=n.n(m),x=n(32),w=n.n(x),_=function(t){return Object.prototype.toString.call(t).slice(8,-1)},k=function(t){return"Array"===_(t)},M=function(t){return"Object"===_(t)},S=function(t){return"Function"===_(t)},C=function(t){return"String"===_(t)};function O(t){for(var e=k(t),n={},r=[],i=[{parent:n,key:void 0,data:t}];i.length;){var o=i.pop(),a=o.parent,u=o.key,s=o.data,l=a;void 0!==u&&(l=a[u]={});var c=A(r,s);if(c)a[u]=c.target;else for(var f in r.push({source:s,target:l}),s)Object.prototype.hasOwnProperty.call(s,f)&&("object"===w()(s[f])?i.push({parent:l,key:f,data:s[f]}):l[f]=s[f])}return e?Object.keys(n).map(function(t){return n[t]}):n}function A(t,e){for(var n=0;n<t.length;n++)if(t[n].source===e)return t[n];return null}var P=n(8),E=n.n(P);function j(t,e){var n={},r=[];for(var i in t){var o="_diff_"+e(i);r.push(o),n[o]=i}return{map:n,keys:r}}var T=function(){};function $(t,e){var n=t,r=e,i=T,o=T,a=T,u=function(t){return t};function s(){}return s.add=function(t){return i=t,s},s.update=function(t){return o=t,s},s.remove=function(t){return a=t,s},s.keyGetter=function(t){return u=t,s},s.execute=function(){for(var t=j(n,u),e=(t.map,t.keys),s=j(r,u),l=s.map,c=s.keys,f=0,h=n.length;f<h;f++){var p=e[f];l[p]?(l[p]=null,o(f)):a(f)}for(var d=0,v=r.length;d<v;d++)l[c[d]]&&i(d)},s}function D(t,e){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3===(n=t.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")+","+e+")";throw new Error("Bad Hex")}function L(t,e,n){var r,i,o,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();u||!1!==n.leading||(u=l);var c=e-(l-u);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(s,c)),a};return l.cancel=function(){clearTimeout(r),u=0,r=i=o=null},l}function z(t){if(Array.isArray(t)&&t.length){var e=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;s<0?n.push(Math.abs(s)):e.push(s)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var l=5,c=e.sort(function(t,e){return t-e}),f=n.sort(function(t,e){return t-e}),h=c.length&&Math.ceil(c.pop()/.95),p=f.length&&Math.ceil(f.pop()/.95),d=h-p>=0?h:p,v=4,g=7;p&&h&&(v=3,g=5);var y=!1,m=d.toString().length,b=m<3?Math.ceil(d/Math.pow(10,m-1)):Math.ceil(d/Math.pow(10,m-2));do{for(var x=v;x<g;x++)if(b%x==0){l=x,d=m<3?b*Math.pow(10,m-1):b*Math.pow(10,m-2),y=!0;break}b++}while(!y);var w=new Array(l+1);w[0]=0;for(var _=1;_<l+1;_++)w[_]=h>=p?Math.round(d/l*_):-1*Math.round(d/l*_);if(p<=1&&p>0||h<=1&&h>0||0===h&&0===p){(w=new Array(6))[0]=0,d=1;for(var k=1;k<6;k++)w[k]=h>=p?2*d*k/10:-2*d*k/10}if(h<p&&w.reverse(),0===p.length||0===h.length)return w;if(h>=p)for(var M=10*w[1],S=1,C=Math.ceil((w.length-1)*p/h);S<C+1;S++)w.unshift(-1*M*S/10);else for(var O=10*w[w.length-2],A=1,P=Math.ceil((w.length-1)*h/p);A<P+1;A++)w.push(-1*O*A/10);return w}console.error("getAxisValueArray function param error!")}var R=Symbol("events"),F=function(){function t(){l()(this,t),this[R]={}}return f()(t,[{key:"on",value:function(t,e){return this[R][t]=this[R][t]||[],this[R][t].push(e.bind(this)),this}},{key:"once",value:function(t,e){var n=this;return this.on(t,function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(this,o),n.off(t,r)})}},{key:"off",value:function(t,e){if(S(e)){var n=this.getListeners(t),r=n.indexOf(e);n.splice(r,1)}else this[R][t]?this[R][t]=[]:this[R]=Object.create(null);return this}},{key:"getListeners",value:function(t){return t&&this[R][t]||[]}},{key:"emit",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n.slice(1),a=t instanceof rt?[t].concat(t.getChildren()):[t.chart].concat(t.chart.getChildren());return a&&a.length?(a.forEach(function(t){t&&t.getListeners&&t.getListeners(i).map(function(e){return e.apply(t,o)})}),this):this}}]),t}(),N=Symbol("attrs"),I=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),(t=p()(this,v()(e).call(this)))[N]=Object.create(null);var r=t.getDefaultAttrs&&t.getDefaultAttrs()||{};return t.attr(Object.assign({},r,n)),t}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{}}},{key:"attr",value:function(t,e){var n=function(t,e){return M(t)||M(e)?Object.assign({},t,e):e},r=this[N];if("object"===w()(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=n(r[i],t[i]));return r}return 1===arguments.length?t?r[t]:r:t&&void 0!==e?(r[t]=n(r[t],e),r):r}},{key:"style",value:function(t,e){var n=this;if(void 0===e){var r=this.attr("@"+t);return function(){if(S(r)){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r.apply(n,e)}return r}}return this.attr("@"+t,e),this}},{key:"useStyle",value:function(t,e){return console.error("useStyle已废弃,请修改为style方法"),this.attr("@"+t,e),this}},{key:"getStyle",value:function(t){var e=this;console.error("getStyle已废弃,请修改为style方法");var n=this.attr("@"+t);return function(){if(S(n)){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.apply(e,r)}return n}}},{key:"name",get:function(){return this.constructor.name}}],[{key:"name",get:function(){return this.constructor.name}}]),e}(F),W=n(1),G=n.n(W),U=n(86),H=window.ResizeObserver||U.a,Y=function(t){return"string"==typeof t?document.querySelector(t):t},B=function(t){function e(t,n){var r;if(l()(this,e),M(t)&&(t=(n=t).container),!t)throw new Error("Need a dom node to render chart! Check if you set the container");return(r=p()(this,v()(e).call(this,n))).parentNode=t,r.dom=Y(t),r.initScene(r.dom,n),r.plots=[],r.charts=[],r}return b()(e,t),f()(e,[{key:"initScene",value:function(t,e){e.forceFit?e.viewport="auto":e.viewport=e.size?e.size:[e.width,e.height],this.scene=new i.Scene(t,G()({displayRatio:"auto"},e)),this.layer=this.scene.layer(),this.canvas=this.layer.canvas,e.forceFit&&this.forceFit()}},{key:"initPlots",value:function(){this.root=new i.Group({size:this.scene.viewport,boxSizing:"border-box"}),this.layer.appendChild(this.root),this.plots=[{container:this.root,x:0,y:0,width:"100%",height:"100%"}]}},{key:"forceFit",value:function(){var t,e,n,r=this,i=this.dom,o=!0;new H((t=function(t){t.forEach(function(t){if(o)o=!1;else{var e=t.contentRect,n=e.width,i=e.height;r.onResize(n,i)}})},(n=function(){var n=this,r=arguments;clearTimeout(e),e=setTimeout(function(){e=null,t.apply(n,r)},300)}).cancel=function(){clearTimeout(e)},n)).observe(i)}},{key:"onResize",value:function(t,e){var n=this;this.scene.setViewport(t,e),this.scene.setResolution(t,e),this.plots.forEach(function(t){var e=t.container,r=t.x,i=t.y,o=t.width,a=t.height;e.attr(n.calcPlotPosAndSize(r,i,o,a))}),this.charts.forEach(function(t){return t.forceUpdate()})}},{key:"calcPlotPosAndSize",value:function(t,e,n,r){var i=this.scene.viewport,o=function(t){return parseFloat(t)/100},a=[t,n].map(function(t){return"string"==typeof t?o(t)*i[0]:t}),s=u()(a,2),l=s[0],c=s[1],f=[e,r].map(function(t){return"string"==typeof t?o(t)*i[1]:t}),h=u()(f,2);return{pos:[l,h[0]],size:[c,h[1]]}}},{key:"subPlot",value:function(t,e,n,r){var o=new i.Group(G()({},this.calcPlotPosAndSize(t,e,n,r),{boxSizing:"border-box"}));return this.layer.appendChild(o),this.plots.push({container:o,x:t,y:e,width:n,height:r}),o}},{key:"addChart",value:function(t){t.id=this.plots.length+1,t.layer=this.layer,this.charts.push(t)}},{key:"setCanvasCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.canvas.style.cursor=t}},{key:"destroy",value:function(){}}]),e}(I),q={beforeCreate:"chart:beforeCreate",created:"chart:create",beforeRender:"chart:beforeRender",rendered:"chart:render",beforeUpdate:"chart:beforeUpdate",updated:"chart:update",beforeDestroy:"chart:beforeDestroy",destroyed:"chart:destroy"},V=new WeakMap,X=(new Map,new Map),J={changeTheme:"theme:change",showTooltip:"tooltip:show",hideTooltip:"tooltip:hide",axisReady:"axis:ready",gridReady:"grid:ready",renderLegend:"legend:show",toggleLegend:"legend:toggle"},Z="default",Q=Symbol("plot"),K=Symbol("children"),tt=Symbol("isRendered"),et=Symbol("initScene"),nt=Symbol("mountToPlot"),rt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l()(this,e),!M(n))throw new Error("Need a dom node to render chart!");var r=Object.assign({},{pos:[0,0],size:["100%","100%"],forceFit:!1},n);return(t=p()(this,v()(e).call(this,r))).id=null,t.canvas=null,t.$group=null,t[K]=[],t[tt]=!1,t[et](r),t.lifecycle=q,t.emit(t.lifecycle.beforeCreate,y()(t)),t.setTheme(Z),t.emit(t.lifecycle.created),t[nt](),t}return b()(e,t),f()(e,[{key:et,value:function(t){var e;this.dom="string"==typeof(e=t.container)?document.querySelector(e):e;var n=V.get(this.dom);n||(n=new B(t),V.set(this.dom,n)),this[Q]=n,this.canvas=n.canvas,this[Q].addChart(this)}},{key:nt,value:function(){var t=this.attr("pos"),e=u()(t,2),n=e[0],r=e[1],i=this.attr("size"),o=u()(i,2),a=o[0],s=o[1],l=this[Q].subPlot(n,r,a,s);this.$group=l,this.$group.attr(this.style("Chart")()||{}),this.attr("size",this.$group.attr("size")),this.attr("pos",this.$group.attr("pos"))}},{key:"setTheme",value:function(t){var e=this,n=X.get(t);if(!n)return console.error("Unknown theme type! Register it first!"),this;Object.keys(n).forEach(function(t){return e.style(t,n[t])}),this[tt]&&this.emit(J.changeTheme,n),this.onThemeChange()}},{key:"onThemeChange",value:function(){this.$group&&this.$group.attr(this.style("Chart")()||{})}},{key:"getPos",value:function(){return this.$group.attr("pos")}},{key:"getSize",value:function(){return this.$group.attr("size")}},{key:"getWidth",value:function(){return this.$group.attr("width")}},{key:"getHeight",value:function(){return this.$group.attr("height")}},{key:"setTitle",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],console.error("Title api 已废弃")}},{key:"add",value:function(t){return t.connectToChart&&t.connectToChart(this),this[K].push(t),this}},{key:"getChildren",value:function(){return this[K]}},{key:"setCanvasCursor",value:function(){var t;return(t=this[Q]).setCanvasCursor.apply(t,arguments)}},{key:"render",value:function(){this.emit(this.lifecycle.beforeRender,this),this[K].forEach(function(t){return t.render&&t.render()}),this.emit(this.lifecycle.rendered,this),this[tt]=!0}},{key:"forceUpdate",value:function(){this.attr("size",this.$group.attr("size")),this.attr("pos",this.$group.attr("pos")),this.emit(this.lifecycle.beforeUpdate,this),this[K].forEach(function(t){return t.forceUpdate&&t.forceUpdate()}),this.emit(this.lifecycle.updated,this)}},{key:"destroy",value:function(){this.emit(this.lifecycle.beforeDestroy,this),this[Q].plots.pop(),this.$group.parentNode.removeChild(this.$group),this.emit(this.lifecycle.destroyed,this)}}]),e}(I),it=function(t,e){X.set(t,e)},ot=Symbol("colors"),at=Symbol("shouldUseBuiltInColors"),ut=function(t){return k(t)?t.filter(Boolean):t},st=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).data=null,t.dataOrigin=null,t.dataFields={},t.schema={},t[ot]=[],t[at]=!0,t.chart=null,t.$group=null,t.on(J.changeTheme,t.onThemeChange),t.on(J.toggleLegend,t.onLegendToggle),t}return b()(e,t),f()(e,[{key:"connectToChart",value:function(t){this.chart=t,this.$group=new i.Group({zIndex:2}),this.$group.attr({clipOverflow:!1,size:[.01,.01]}),this.chart.$group.appendChild(this.$group),this[at]&&(this[ot]=this.chart.style("colors")())}},{key:"onThemeChange",value:function(){this[at]&&(this[ot]=this.chart.style("colors")()),this.update(this.data,this.data)}},{key:"onLegendToggle",value:function(t){var e=t.index,n=t.disabled;t._from===this&&(this.data[e].disabled=n,this.update(this.dataOrigin,this.data))}},{key:"source",value:function(){var t,e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return k(r)||(r=[r]),r=ut(r),this.data=(t=r,e=function(t){var e=n.dataOrigin;n.update(e,ut(t)),n.dataOrigin=ut(O(t))},new Proxy(t,{get:function(t,e,n){return Reflect.get(t,e,n)},set:function(n,r,i,o){return"length"===r&&e(t),Reflect.set(n,r,i,o)}})),this.dataOrigin&&(this.emit("visual:update"),this.update(this.dataOrigin,this.data)),this.dataOrigin=ut(O(r)),this}},{key:"setDataFields",value:function(t){return this.dataFields=t,this}},{key:"color",value:function(t){return this[ot][t]||this[ot][0]||"#f00"}},{key:"useColor",value:function(t){return k(t)||(t=[t]),this[ot]=t,this[at]=!1,this}},{key:"render",value:function(){throw new Error("The render method must be implemented!")}},{key:"update",value:function(){throw new Error("The update method must be implemented!")}},{key:"forceUpdate",value:function(){this.chart&&(this.chart.$group.removeChild(this.$group),this.$group=new i.Group,this.chart.$group.appendChild(this.$group),this.render())}},{key:"toJSON",value:function(){return{attrs:this.attr(),style:this.style()(),dataFields:this.dataFields,source:this.dataOrigin}}}]),e}(I),lt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),p()(this,v()(e).call(this,t))}return b()(e,t),f()(e,[{key:"connectToChart",value:function(t){this.chart=t,this.afterConnectedToChart()}},{key:"afterConnectedToChart",value:function(){}}]),e}(I);function ct(t){var e=t.container,n=t.forceFit,r=void 0!==n&&n,i=t.size,o=void 0===i?["100%","100%"]:i,a=t.pos,u=void 0===a?[0,0]:a,s=t.visuals,l=void 0===s?[]:s,c=t.plugins,f=void 0===c?[]:c,h=new Xc.Chart({container:e,pos:u,size:o,forceFit:r});return l.forEach(function(t){var e=t.type,n=t.attrs,r=void 0===n?{}:n,i=t.source,o=t.dataFields;e=e.replace(/\w/,function(t){return t.toUpperCase()});var a=new Xc[e](r).source(i).setDataFields(o);h.add(a)}),f.forEach(function(t){h.add(t)}),h.render(),h}var ft=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ht=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return ft(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(ft),pt=ht.right,dt=(ht.left,pt),vt=Array.prototype,gt=(vt.slice,vt.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),yt=Math.sqrt(50),mt=Math.sqrt(10),bt=Math.sqrt(2),xt=function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=wt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function wt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=yt?10:o>=mt?5:o>=bt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=yt?10:o>=mt?5:o>=bt?2:1)}var _t=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};function kt(){}function Mt(t,e){var n=new kt;if(t instanceof kt)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}kt.prototype=Mt.prototype={constructor:kt,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var St=Mt;function Ct(){}var Ot=St.prototype;Ct.prototype=function(t,e){var n=new Ct;if(t instanceof Ct)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Ct,has:Ot.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ot.remove,clear:Ot.clear,values:Ot.keys,size:Ot.size,empty:Ot.empty,each:Ot.each};var At=Array.prototype,Pt=At.map,Et=At.slice,jt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Tt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $t(){}var Dt="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rt=/^#([0-9a-f]{3})$/,Ft=/^#([0-9a-f]{6})$/,Nt=new RegExp("^rgb\\("+[Dt,Dt,Dt]+"\\)$"),It=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Wt=new RegExp("^rgba\\("+[Dt,Dt,Dt,Lt]+"\\)$"),Gt=new RegExp("^rgba\\("+[zt,zt,zt,Lt]+"\\)$"),Ut=new RegExp("^hsl\\("+[Lt,zt,zt]+"\\)$"),Ht=new RegExp("^hsla\\("+[Lt,zt,zt,Lt]+"\\)$"),Yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Rt.exec(t))?new Zt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ft.exec(t))?qt(parseInt(e[1],16)):(e=Nt.exec(t))?new Zt(e[1],e[2],e[3],1):(e=It.exec(t))?new Zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wt.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=Gt.exec(t))?Vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ut.exec(t))?Kt(e[1],e[2]/100,e[3]/100,1):(e=Ht.exec(t))?Kt(e[1],e[2]/100,e[3]/100,e[4]):Yt.hasOwnProperty(t)?qt(Yt[t]):"transparent"===t?new Zt(NaN,NaN,NaN,0):null}function qt(t){return new Zt(t>>16&255,t>>8&255,255&t,1)}function Vt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function Xt(t){return t instanceof $t||(t=Bt(t)),t?new Zt((t=t.rgb()).r,t.g,t.b,t.opacity):new Zt}function Jt(t,e,n,r){return 1===arguments.length?Xt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Kt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ee(t,e,n,r)}function te(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof $t||(t=Bt(t)),!t)return new ee;if(t instanceof ee)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new ee(a,u,s,t.opacity)}(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ne(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}jt($t,Bt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),jt(Zt,Jt,Tt($t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Qt(this.r)+Qt(this.g)+Qt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),jt(ee,te,Tt($t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zt(ne(t>=240?t-240:t+120,i,r),ne(t,i,r),ne(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var re=Math.PI/180,ie=180/Math.PI,oe=.96422,ae=1,ue=.82521,se=4/29,le=6/29,ce=3*le*le,fe=le*le*le;function he(t){if(t instanceof pe)return new pe(t.l,t.a,t.b,t.opacity);if(t instanceof be){if(isNaN(t.h))return new pe(t.l,0,0,t.opacity);var e=t.h*re;return new pe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Zt||(t=Xt(t));var n,r,i=ye(t.r),o=ye(t.g),a=ye(t.b),u=de((.2225045*i+.7168786*o+.0606169*a)/ae);return i===o&&o===a?n=r=u:(n=de((.4360747*i+.3850649*o+.1430804*a)/oe),r=de((.0139322*i+.0971045*o+.7141733*a)/ue)),new pe(116*u-16,500*(n-u),200*(u-r),t.opacity)}function pe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function de(t){return t>fe?Math.pow(t,1/3):t/ce+se}function ve(t){return t>le?t*t*t:ce*(t-se)}function ge(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ye(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function me(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof be)return new be(t.h,t.c,t.l,t.opacity);if(t instanceof pe||(t=he(t)),0===t.a&&0===t.b)return new be(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ie;return new be(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new be(t,e,n,null==r?1:r)}function be(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}jt(pe,function(t,e,n,r){return 1===arguments.length?he(t):new pe(t,e,n,null==r?1:r)},Tt($t,{brighter:function(t){return new pe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new pe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Zt(ge(3.1338561*(e=oe*ve(e))-1.6168667*(t=ae*ve(t))-.4906146*(n=ue*ve(n))),ge(-.9787684*e+1.9161415*t+.033454*n),ge(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),jt(be,me,Tt($t,{brighter:function(t){return new be(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new be(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return he(this).rgb()}}));var xe=-.29227,we=-.90649,_e=1.97294,ke=_e*we,Me=1.78277*_e,Se=1.78277*xe- -.14861*we;function Ce(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Oe)return new Oe(t.h,t.s,t.l,t.opacity);t instanceof Zt||(t=Xt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Se*r+ke*e-Me*n)/(Se+ke-Me),o=r-i,a=(_e*(n-i)-xe*o)/we,u=Math.sqrt(a*a+o*o)/(_e*i*(1-i)),s=u?Math.atan2(a,o)*ie-120:NaN;return new Oe(s<0?s+360:s,u,i,t.opacity)}(t):new Oe(t,e,n,null==r?1:r)}function Oe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ae(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}jt(Oe,Ce,Tt($t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Oe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Oe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*re,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Zt(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(xe*r+we*i)),255*(e+n*(_e*r)),this.opacity)}}));var Pe=function(t){return function(){return t}};function Ee(t,e){return function(n){return t+n*e}}function je(t,e){var n=e-t;return n?Ee(t,n>180||n<-180?n-360*Math.round(n/360):n):Pe(isNaN(t)?e:t)}function Te(t,e){var n=e-t;return n?Ee(t,n):Pe(isNaN(t)?e:t)}var $e=function t(e){var n=function(t){return 1==(t=+t)?Te:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Pe(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Jt(t)).r,(e=Jt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Te(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function De(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Jt(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}De(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Ae((n-r/e)*e,a,i,o,u)}}),De(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Ae((n-r/e)*e,i,o,a,u)}});var Le,ze,Re,Fe,Ne=function(t,e){return e-=t=+t,function(n){return t+e*n}},Ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,We=new RegExp(Ie.source,"g"),Ge=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Pe(e):("number"===r?Ne:"string"===r?(n=Bt(e))?(e=n,$e):function(t,e){var n,r,i,o=Ie.lastIndex=We.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=Ie.exec(t))&&(r=We.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Ne(n,r)})),o=We.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}:e instanceof Bt?$e:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ge(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ge(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:Ne)(t,e)},Ue=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},He=180/Math.PI,Ye={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Be=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*He,skewX:Math.atan(s)*He,scaleX:a,scaleY:u}};function qe(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:Ne(t,i)},{i:s-2,x:Ne(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ne(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ne(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Ne(t,n)},{i:u-2,x:Ne(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}function Ve(t){return function(e,n){var r=t((e=te(e)).h,(n=te(n)).h),i=Te(e.s,n.s),o=Te(e.l,n.l),a=Te(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Xe(t){return function(e,n){var r=t((e=me(e)).h,(n=me(n)).h),i=Te(e.c,n.c),o=Te(e.l,n.l),a=Te(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Je(t){return function e(n){function r(e,r){var i=t((e=Ce(e)).h,(r=Ce(r)).h),o=Te(e.s,r.s),a=Te(e.l,r.l),u=Te(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}qe(function(t){return"none"===t?Ye:(Le||(Le=document.createElement("DIV"),ze=document.documentElement,Re=document.defaultView),Le.style.transform=t,t=Re.getComputedStyle(ze.appendChild(Le),null).getPropertyValue("transform"),ze.removeChild(Le),t=t.slice(7,-1).split(","),Be(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),qe(function(t){return null==t?Ye:(Fe||(Fe=document.createElementNS("http://www.w3.org/2000/svg","g")),Fe.setAttribute("transform",t),(t=Fe.transform.baseVal.consolidate())?(t=t.matrix,Be(t.a,t.b,t.c,t.d,t.e,t.f)):Ye)},", ",")",")"),Math.SQRT2,Ve(je),Ve(Te),Xe(je),Xe(Te),Je(je),Je(Te);var Ze=function(t){return function(){return t}},Qe=function(t){return+t},Ke=[0,1];function tn(t){return t}function en(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ze(isNaN(e)?NaN:.5)}function nn(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function rn(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=en(i,r),o=n(a,o)):(r=en(r,i),o=n(o,a)),function(t){return o(r(t))}}function on(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=en(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=dt(t,e,1,r)-1;return o[n](i[n](e))}}function an(t,e){return function(){var t,e,n,r,i,o,a=Ke,u=Ke,s=Ge,l=tn;function c(){return r=Math.min(a.length,u.length)>2?on:rn,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(u,a.map(t),Ne)))(n)))},f.domain=function(t){return arguments.length?(a=Pt.call(t,Qe),l===tn||(l=nn(a)),c()):a.slice()},f.range=function(t){return arguments.length?(u=Et.call(t),c()):u.slice()},f.rangeRound=function(t){return u=Et.call(t),s=Ue,c()},f.clamp=function(t){return arguments.length?(l=t?nn(a):tn,f):l!==tn},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(t,e)}var un=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},sn=function(t){return(t=un(Math.abs(t)))?t[1]:NaN},ln=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cn(t){return new fn(t)}function fn(t){if(!(e=ln.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}cn.prototype=fn.prototype,fn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hn,pn,dn,vn,gn=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},yn=function(t,e){var n=un(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},mn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return yn(100*t,e)},r:yn,s:function(t,e){var n=un(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+un(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},bn=function(t){return t},xn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];pn=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}):bn,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):bn,u=t.percent||"%";function s(t){var e=(t=cn(t)).fill,n=t.align,s=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,p=t.precision,d=t.trim,v=t.type;"n"===v?(h=!0,v="g"):mn[v]||(null==p&&(p=12),d=!0,v="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var g="$"===l?i[0]:"#"===l&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===l?i[1]:/[%p]/.test(v)?u:"",m=mn[v],b=/[defgprs%]/.test(v);function x(t){var i,u,l,x=g,w=y;if("c"===v)w=m(t)+w,t="";else{var _=(t=+t)<0;if(t=m(Math.abs(t),p),d&&(t=gn(t)),_&&0==+t&&(_=!1),x=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+x,w=("s"===v?xn[8+hn/3]:"")+w+(_&&"("===s?")":""),b)for(i=-1,u=t.length;++i<u;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?o+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}h&&!c&&(t=r(t,1/0));var k=x.length+t.length+w.length,M=k<f?new Array(f-k+1).join(e):"";switch(h&&c&&(t=r(M+t,M.length?f-w.length:1/0),M=""),n){case"<":t=x+t+w+M;break;case"=":t=x+M+t+w;break;case"^":t=M.slice(0,k=M.length>>1)+x+t+w+M.slice(k);break;default:t=M+x+t+w}return a(t)}return p=null==p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),x.toString=function(){return t+""},x}return{format:s,formatPrefix:function(t,e){var n=s(((t=cn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(sn(e)/3))),i=Math.pow(10,-r),o=xn[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),dn=pn.format,vn=pn.formatPrefix;var wn=function(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=yt?i*=10:o>=mt?i*=5:o>=bt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=cn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sn(e)/3)))-sn(Math.abs(t)))}(o,a))||(r.precision=i),vn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sn(e)-sn(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-sn(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return dn(r)};function _n(){var t=an(tn,tn);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(t,_n())},function(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return xt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return wn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=wt(u,s,n))>0?r=wt(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=wt(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,e(i)),t},t}(t)}var kn=new Date,Mn=new Date;function Sn(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Sn(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return kn.setTime(+e),Mn.setTime(+r),t(kn),t(Mn),Math.floor(n(kn,Mn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Cn=Sn(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Cn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Sn(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Cn:null},Cn.range;var On=6e4,An=6048e5,Pn=Sn(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),En=(Pn.range,Sn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*On)},function(t,e){return(e-t)/On},function(t){return t.getMinutes()})),jn=(En.range,Sn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*On)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Tn=(jn.range,Sn(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*On)/864e5},function(t){return t.getDate()-1})),$n=Tn;function Dn(t){return Sn(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*On)/An})}Tn.range;var Ln=Dn(0),zn=Dn(1),Rn=Dn(2),Fn=Dn(3),Nn=Dn(4),In=Dn(5),Wn=Dn(6),Gn=(Ln.range,zn.range,Rn.range,Fn.range,Nn.range,In.range,Wn.range,Sn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Un=(Gn.range,Sn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Un.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sn(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Hn=Un,Yn=(Un.range,Sn(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*On)},function(t,e){return(e-t)/On},function(t){return t.getUTCMinutes()})),Bn=(Yn.range,Sn(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),qn=(Bn.range,Sn(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Vn=qn;function Xn(t){return Sn(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/An})}qn.range;var Jn=Xn(0),Zn=Xn(1),Qn=Xn(2),Kn=Xn(3),tr=Xn(4),er=Xn(5),nr=Xn(6),rr=(Jn.range,Zn.range,Qn.range,Kn.range,tr.range,er.range,nr.range,Sn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),ir=(rr.range,Sn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ir.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sn(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var or=ir;function ar(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ur(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}ir.range;var lr,cr,fr,hr={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,dr=/^%/,vr=/[\\^$*+?|[\]().{}]/g;function gr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function yr(t){return t.replace(vr,"\\$&")}function mr(t){return new RegExp("^(?:"+t.map(yr).join("|")+")","i")}function br(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function xr(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wr(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _r(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Sr(t,e,n){var r=pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Cr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Or(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ar(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Pr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Dr(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lr(t,e,n){var r=pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zr(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rr(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fr(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Nr(t,e){return gr(t.getDate(),e,2)}function Ir(t,e){return gr(t.getHours(),e,2)}function Wr(t,e){return gr(t.getHours()%12||12,e,2)}function Gr(t,e){return gr(1+$n.count(Hn(t),t),e,3)}function Ur(t,e){return gr(t.getMilliseconds(),e,3)}function Hr(t,e){return Ur(t,e)+"000"}function Yr(t,e){return gr(t.getMonth()+1,e,2)}function Br(t,e){return gr(t.getMinutes(),e,2)}function qr(t,e){return gr(t.getSeconds(),e,2)}function Vr(t){var e=t.getDay();return 0===e?7:e}function Xr(t,e){return gr(Ln.count(Hn(t),t),e,2)}function Jr(t,e){var n=t.getDay();return t=n>=4||0===n?Nn(t):Nn.ceil(t),gr(Nn.count(Hn(t),t)+(4===Hn(t).getDay()),e,2)}function Zr(t){return t.getDay()}function Qr(t,e){return gr(zn.count(Hn(t),t),e,2)}function Kr(t,e){return gr(t.getFullYear()%100,e,2)}function ti(t,e){return gr(t.getFullYear()%1e4,e,4)}function ei(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gr(e/60|0,"0",2)+gr(e%60,"0",2)}function ni(t,e){return gr(t.getUTCDate(),e,2)}function ri(t,e){return gr(t.getUTCHours(),e,2)}function ii(t,e){return gr(t.getUTCHours()%12||12,e,2)}function oi(t,e){return gr(1+Vn.count(or(t),t),e,3)}function ai(t,e){return gr(t.getUTCMilliseconds(),e,3)}function ui(t,e){return ai(t,e)+"000"}function si(t,e){return gr(t.getUTCMonth()+1,e,2)}function li(t,e){return gr(t.getUTCMinutes(),e,2)}function ci(t,e){return gr(t.getUTCSeconds(),e,2)}function fi(t){var e=t.getUTCDay();return 0===e?7:e}function hi(t,e){return gr(Jn.count(or(t),t),e,2)}function pi(t,e){var n=t.getUTCDay();return t=n>=4||0===n?tr(t):tr.ceil(t),gr(tr.count(or(t),t)+(4===or(t).getUTCDay()),e,2)}function di(t){return t.getUTCDay()}function vi(t,e){return gr(Zn.count(or(t),t),e,2)}function gi(t,e){return gr(t.getUTCFullYear()%100,e,2)}function yi(t,e){return gr(t.getUTCFullYear()%1e4,e,4)}function mi(){return"+0000"}function bi(){return"%"}function xi(t){return+t}function wi(t){return Math.floor(+t/1e3)}function _i(t,e){var n=t.apply(void 0,E()(e));return!1!==n&&(n=Object.assign({},e[0],n)),n}(lr=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=mr(i),c=br(i),f=mr(o),h=br(o),p=mr(a),d=br(a),v=mr(u),g=br(u),y=mr(s),m=br(s),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Nr,e:Nr,f:Hr,H:Ir,I:Wr,j:Gr,L:Ur,m:Yr,M:Br,p:function(t){return i[+(t.getHours()>=12)]},Q:xi,s:wi,S:qr,u:Vr,U:Xr,V:Jr,w:Zr,W:Qr,x:null,X:null,y:Kr,Y:ti,Z:ei,"%":bi},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:ni,e:ni,f:ui,H:ri,I:ii,j:oi,L:ai,m:si,M:li,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:xi,s:wi,S:ci,u:fi,U:hi,V:pi,w:di,W:vi,x:null,X:null,y:gi,Y:yi,Z:mi,"%":bi},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Pr,e:Pr,f:Lr,H:jr,I:jr,j:Er,L:Dr,m:Ar,M:Tr,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:Rr,s:Fr,S:$r,u:wr,U:_r,V:kr,w:xr,W:Mr,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Cr,Y:Sr,Z:Or,"%":zr};function _(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=hr[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=sr(1900);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ur(sr(o.y))).getUTCDay(),r=i>4||0===i?Zn.ceil(r):Zn(r),r=Vn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(sr(o.y))).getDay(),r=i>4||0===i?zn.ceil(r):zn(r),r=$n.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ur(sr(o.y)).getUTCDay():e(sr(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ur(o)):e(o)}}function M(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in hr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),x.x=_(n,x),x.X=_(r,x),x.c=_(e,x),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",ar);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,ur);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,lr.parse,cr=lr.utcFormat,fr=lr.utcParse,Date.prototype.toISOString||cr("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||fr("%Y-%m-%dT%H:%M:%S.%LZ");var ki=Symbol("canceled"),Mi=Symbol("duration"),Si=Symbol("end"),Ci=Symbol("easing"),Oi=Symbol("start"),Ai=Symbol("onStart"),Pi=Symbol("onUpdate"),Ei=Symbol("onComplete"),ji=function(){function t(e){return l()(this,t),this[Oi]=e,this[Si]=null,this[ki]=!1,this[Mi]=1,this[Ci]=function(t){return t},this[Pi]=function(){},this[Ai]=function(){},this[Ei]=function(){},this}return f()(t,[{key:"from",value:function(t){return this[Oi]=t,this}},{key:"to",value:function(t){return this[Si]=t,this}},{key:"duration",value:function(t){if("number"!=typeof t)throw new Error("Duration time must be a number");return this[Mi]=t,this}},{key:"easing",value:function(t){if("function"!=typeof t)throw new Error("easing function must be a function");return this[Ci]=t,this}},{key:"onStart",value:function(t){if("function"!=typeof t)throw new Error("start callback must be a function");return this[Ai]=t,this}},{key:"onUpdate",value:function(t){if("function"!=typeof t)throw new Error("update callback must be a function");return this[Pi]=t,this}},{key:"onComplete",value:function(t){if("function"!=typeof t)throw new Error("complete callback must be a function");return this[Ei]=t,this}},{key:"start",value:function(){var t=this,e=this[Ci],n=Ge(this[Oi],this[Si]),r=this[Pi],i=this[Ei],o=0,a=this[Mi],u=null;return new Promise(function(i){t.cancel=function(){cancelAnimationFrame(u)},t[Ai](t[Oi],t[Si]),u=requestAnimationFrame(function s(){var l=e((o+=16.7)/a);o>=a?(r(n(1)),i(t),cancelAnimationFrame(u)):(r(n(l)),u=requestAnimationFrame(s))})}).then(function(){i()})}}]),t}(),Ti=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).elements=[],t.stageWidth=0,t.stageHeight=0,t.renderData=[],t}return b()(e,t),f()(e,[{key:"layout",value:function(t){return this.renderData=t,function(){var t=this,e=this.attr(),n=e.xAxis,r=e.yAxis,i=this.chart.attr("size"),o=u()(i,2),a=o[0],s=o[1],l=this.attr("padding"),c=u()(l,4),f=c[0],h=c[1],p=c[2],d=c[3],v=a-d-h,g=s-f-p,y=this.attr("stack"),m=[v,g];this.stageWidth=m[0],this.stageHeight=m[1];var b={},x=this.dataFields,w=Object.create(null),_="_default_"+Math.random().toString(32).slice(2),k=_;this.renderData.forEach(function(t){x.category&&(k=t[x.category]),w[k]=w[k]||[],w[k].push(t)});for(var M=Object.keys(w),S=w[M[0]],C=function(t){var e=[],n=w[M[t]];S.forEach(function(t){var r=n.filter(function(e){return t[x.x]===e[x.x]});e=e.concat(r)}),w[M[t]]=e},O=1;O<M.length;O++)C(O);for(var A=function(t){var e={x:[],y:[]};w[M[t]].forEach(function(t){e.x.push(t[x.x]),e.y.push(t[x.y])}),b[M[t]]=e},P=0;P<M.length;P++)A(P);y&&function(){for(var t=b[M[0]].y,e=1;e<M.length;e++){var n=b[M[e]];n.y=n.y.map(function(e,n){return e+t[n]}),t=n.y}}();var E=[],j={};for(var T in b){var $=b[T];for(var D in $)j[D]?j[D]=j[D].concat($[D]):j[D]=$[D]}E=[].map.call(b,function(e){return N.call(t,e)});var L=function(e){var n=N.call(t,b[e]);e!==_&&(n.category=e),x.category&&n.category&&(n.data=n.data.filter(function(t){return t[x.category]===n.category})),E.push(n)};for(var R in b)L(R);if(0===E.length)return[];["x","y"].forEach(function(t){var e=E[0][t];if("value"===e.type)e.scales=e.scales.map(function(t,n){return{label:String(t),offset:e.scaleF(t)}});else{var n=1/(e.scales.length-1);e.scales=e.scales.map(function(t,e){var r=n*e*100+"%";return{label:String(t),offset:r}})}});var F=this.attr("smooth");return E.forEach(function(e,n){var r={color:t.color(n),lineWidth:1,smooth:F},i=_i(t.style("line"),[r,e.data,n]),o=_i(t.style("line:hover"),[r,e.data,n]);e._normalStyle=i,e._hoverAttrs=o}),{lines:E||[],xAxis:E[0].x,yAxis:E[0].y};function N(t){var e=this,i=Object.create(null),o=function(o){var a=Math.max.apply(e,j[o]),u=t[o],s=f,l="category";"x"===o&&(l=n&&n.type||"category",s=d),"y"===o&&(l=r&&r.type||"value"),"value"===l&&(u=z([0,a]),a=Math.max.apply(e,u));var c=t[o].length,h="x"===o?v:g,p=_n().domain([0,c-1]).range([0,h]);"value"===l&&(p=_n().domain([0,a]).range([0,h]));var y=t[o].map(function(t,e){var n=p("value"===l?t:e);return"x"===o?n=s+n:"y"===o&&(n=s+g-n),{item:t,text:String(t),offset:n}});i[o]={data:y,scales:u,scaleF:p,type:l}};for(var a in t)o(a);var u=i.x,s=i.y;return i.points=[],u.data.forEach(function(t,e){i.points.push([u.data[e].offset,s.data[e].offset])}),i.data=this.dataOrigin,i}}.call(this)}},{key:"render",value:function(){var t=this;this.originData=this.data,this.layoutData=this.layout(this.data);var e=this.layoutData.lines,n=this.attr("padding"),r=u()(n,4),o=r[0],a=r[1],s=r[2],l=r[3];this.$group.attr({clipOverflow:!0,width:0,size:[0,o+this.stageHeight+l],zIndex:1}),e.forEach(function(e,n){t._addLine(e,n)}),this._renderAxis(),this._renderLegend(),this.$group.transition(.3).attr({width:this.stageWidth+s+a}),this.$guideline=new i.Rect;var c={fillColor:"#ddd",size:[1,this.stageHeight],pos:[s,o],opacity:0},f=_i(this.style("guideline"),[c,this.$guideline]);!1!==f&&(this.$guideline.attr(f),this.$group.append(this.$guideline),this.$group.on("mousemove",function(e){if(void 0!==t.layoutData.xAxis){var n=t.layoutData.xAxis.scales;t.$guideline.attr({opacity:1});var r=e.offsetX,i=e.offsetY;if(r>s&&r<s+t.stageWidth&&i>o&&i<o+t.stageHeight){var a=r-s,u=n[0],l=0;n.forEach(function(t,e){Math.abs(t.offset-a)<Math.abs(u.offset-a)&&(u=t,l=e)}),t.$guideline.attr({pos:[u.offset+s,o]}),e.index=l;var c=u.label,f=t.layoutData.lines.map(function(e,n){var r=e.data.filter(function(e){return e[t.dataFields.x]===c});return r=G()({},r[0])});e.data=f.reverse(),t.emit(J.showTooltip,e)}else t.$guideline.attr({opacity:0}),t.emit(J.hideTooltip,e)}}))}},{key:"update",value:function(t,e,n){var r=this,i=this.layout(e),o=this.layoutData.lines||[],a=i.lines||[];this.layoutData=i,$(o,a).add(function(t){r._addLine(a[t],t)}).update(function(t){(function(t,e,n){var r=this,i=t.attr("points");if($(i,e).add(function(i){r._addSymbol(t,e[i],n,i)}).remove(function(e){t.symbols[e].remove(),t.symbols.splice(e,1)}).execute(),new ji(i).to(e).duration(300).onUpdate(function(e){t.attr({points:e}),e.forEach(function(e,n){t.symbols[n].attr({pos:e})})}).start(),t.$area){var o=t.$area.attr("points"),a=Di.call(this,e,n);new ji(o).to(a.points).duration(300).onUpdate(function(e){t.$area.attr({points:e})}).start()}}).call(r,r.elements[t].$line,a[t].points,t)}).remove(function(t){var e=r.elements[t].$line,n=e.$lineGroup;n.transition(.3).attr({opacity:0}),e.$area&&e.$area.transition(.3).attr({opacity:0}),setTimeout(function(){n.remove(),e.$area&&(e.$area.remove(),delete e.$area)},300)}).execute(),this._renderAxis(),this.renderData=e,n||this._renderLegend()}},{key:"_addLine",value:function(t,e){var n=this,r=this.attr("stack"),o=this.attr("smooth"),a=new i.Group;a.attr({clipOverflow:!1,zIndex:100}),a.attr({opacity:0}),a.transition(.3).attr({opacity:1});var u=new i.Polyline;if(u.$lineGroup=a,u.symbols=[],a.$line=u,this.$group.appendChild(a),this.elements[e]=a,$i(u,t._normalStyle,t._hoverAttrs),u.attr({points:t.points}),r){var s=Di.call(this,t.points,e),l={fillColor:D(t._normalStyle.color,.5)},c=_i(this.style("area"),[l,t.data,e]),f=_i(this.style("area:hover"),[l,t.data,e]);if(c){var h=new i.Polygon;u.$area=h,h.attr({points:s.points}),o&&h.attr({smooth:s.areaSmooth}),$i(h,c,f),this.$group.append(h)}}!1!==t._normalStyle&&(a.append(u),t.points.forEach(function(t,r){n._addSymbol(u,t,e,r)}))}},{key:"onLegendToggle",value:function(t){var e=this.dataFields.category,n=this.originData.map(function(n){return n[e]===t.category&&(n.disabled=t.disabled),n});n=n.filter(function(t){return!0!==t.disabled}),this.update(this.renderData,n,!0)}},{key:"_renderLegend",value:function(){var t=this;this.emit("legend:clear"),this.layoutData.lines.forEach(function(e,n){var r={color:e._normalStyle.color,category:e.category,label:e.category,x:"label",index:n,_from:t};t.emit(J.renderLegend,r)})}},{key:"_renderAxis",value:function(){var t=this,e=this.layoutData,n=e.xAxis,r=e.yAxis,i=n;["bottom","top","left","right"].forEach(function(e){"left"!==e&&"right"!==e||(i=r),i&&(delete i.data,delete i.type,delete i.scaleF,t.emit(J.axisReady,G()({},i,{orient:e,padding:t.attr("padding")})))})}},{key:"_addSymbol",value:function(t,e,n,r){var o={radius:4,fillColor:this.color(n)},a=_i(this.style("symbol"),[o,t,n,r]);if(a){var u=new i.Circle;u.attr({pos:e});var s=t.$lineGroup;$i(u,a,_i(this.style("symbol:hover"),[o,t,n,r])),t.symbols.push(u),s.append(u)}}},{key:"center",get:function(){var t=this.chart.attr("size"),e=u()(t,2),n=e[0],r=e[1],i=this.maxRadius;return[n/2-i,r/2-i]}}]),e}(st);function $i(t,e,n){t._normalStyle=e,t._hoverAttrs=n,t.on("mouseenter",function(){this.transition(.1).attr(n)}).on("mouseleave",function(){this.transition(.1).attr(e)}).attr(e)}function Di(t,e){var n=Object.create(null),r=t.concat(),i=this.attr("padding")[0]+this.stageHeight,o=r[0],a=r[r.length-1];if(n.areaSmooth=[],n.points=r,0===e)n.areaSmooth=[1,r.length],n.points.unshift([o[0],i]),n.points.push([a[0],i]);else{var u=this.layoutData.lines[e-1].points.concat();n.areaSmooth=[[0,r.length-1],[r.length,r.length+u.length-1]],n.points=r.concat(u.reverse())}return n}var Li=n(16),zi=n.n(Li),Ri=function(){return new Fi};function Fi(){this.reset()}Fi.prototype={constructor:Fi,reset:function(){this.s=this.t=0},add:function(t){Ii(Ni,t,this.t),Ii(this,Ni.s,this.s),this.s?this.t+=Ni.t:this.s=Ni.t},valueOf:function(){return this.s}};var Ni=new Fi;function Ii(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Wi=1e-6,Gi=Math.PI,Ui=Gi/2,Hi=Gi/4,Yi=2*Gi,Bi=180/Gi,qi=Gi/180,Vi=Math.abs,Xi=Math.atan,Ji=Math.atan2,Zi=Math.cos,Qi=Math.ceil,Ki=Math.exp,to=(Math.floor,Math.log),eo=Math.pow,no=Math.sin,ro=Math.sign||function(t){return t>0?1:t<0?-1:0},io=Math.sqrt,oo=Math.tan;function ao(t){return t>1?0:t<-1?Gi:Math.acos(t)}function uo(t){return t>1?Ui:t<-1?-Ui:Math.asin(t)}function so(t){return(t=no(t/2))*t}function lo(){}function co(t,e){t&&ho.hasOwnProperty(t.type)&&ho[t.type](t,e)}var fo={Feature:function(t,e){co(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)co(n[r].geometry,e)}},ho={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){po(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)po(n[r],e,0)},Polygon:function(t,e){vo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vo(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)co(n[r],e)}};function po(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function vo(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)po(t[n],e,1);e.polygonEnd()}var go,yo,mo,bo,xo,wo=function(t,e){t&&fo.hasOwnProperty(t.type)?fo[t.type](t,e):co(t,e)},_o=Ri(),ko=Ri(),Mo={point:lo,lineStart:lo,lineEnd:lo,polygonStart:function(){_o.reset(),Mo.lineStart=So,Mo.lineEnd=Co},polygonEnd:function(){var t=+_o;ko.add(t<0?Yi+t:t),this.lineStart=this.lineEnd=this.point=lo},sphere:function(){ko.add(Yi)}};function So(){Mo.point=Oo}function Co(){Ao(go,yo)}function Oo(t,e){Mo.point=Ao,go=t,yo=e,mo=t*=qi,bo=Zi(e=(e*=qi)/2+Hi),xo=no(e)}function Ao(t,e){var n=(t*=qi)-mo,r=n>=0?1:-1,i=r*n,o=Zi(e=(e*=qi)/2+Hi),a=no(e),u=xo*a,s=bo*o+u*Zi(i),l=u*r*no(i);_o.add(Ji(l,s)),mo=t,bo=o,xo=a}var Po=function(t){return ko.reset(),wo(t,Mo),2*ko};function Eo(t){return[Ji(t[1],t[0]),uo(t[2])]}function jo(t){var e=t[0],n=t[1],r=Zi(n);return[r*Zi(e),r*no(e),no(n)]}function To(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Do(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function zo(t){var e=io(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ro,Fo,No,Io,Wo,Go,Uo,Ho,Yo,Bo,qo=Ri(),Vo={point:Xo,lineStart:Zo,lineEnd:Qo,polygonStart:function(){Vo.point=Ko,Vo.lineStart=ta,Vo.lineEnd=ea,qo.reset(),Mo.polygonStart()},polygonEnd:function(){Mo.polygonEnd(),Vo.point=Xo,Vo.lineStart=Zo,Vo.lineEnd=Qo,_o<0?(Ro=-(No=180),Fo=-(Io=90)):qo>Wi?Io=90:qo<-Wi&&(Fo=-90),Bo[0]=Ro,Bo[1]=No}};function Xo(t,e){Yo.push(Bo=[Ro=t,No=t]),e<Fo&&(Fo=e),e>Io&&(Io=e)}function Jo(t,e){var n=jo([t*qi,e*qi]);if(Ho){var r=$o(Ho,n),i=$o([r[1],-r[0],0],r);zo(i),i=Eo(i);var o,a=t-Wo,u=a>0?1:-1,s=i[0]*Bi*u,l=Vi(a)>180;l^(u*Wo<s&&s<u*t)?(o=i[1]*Bi)>Io&&(Io=o):l^(u*Wo<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*Bi)<Fo&&(Fo=o):(e<Fo&&(Fo=e),e>Io&&(Io=e)),l?t<Wo?na(Ro,t)>na(Ro,No)&&(No=t):na(t,No)>na(Ro,No)&&(Ro=t):No>=Ro?(t<Ro&&(Ro=t),t>No&&(No=t)):t>Wo?na(Ro,t)>na(Ro,No)&&(No=t):na(t,No)>na(Ro,No)&&(Ro=t)}else Yo.push(Bo=[Ro=t,No=t]);e<Fo&&(Fo=e),e>Io&&(Io=e),Ho=n,Wo=t}function Zo(){Vo.point=Jo}function Qo(){Bo[0]=Ro,Bo[1]=No,Vo.point=Xo,Ho=null}function Ko(t,e){if(Ho){var n=t-Wo;qo.add(Vi(n)>180?n+(n>0?360:-360):n)}else Go=t,Uo=e;Mo.point(t,e),Jo(t,e)}function ta(){Mo.lineStart()}function ea(){Ko(Go,Uo),Mo.lineEnd(),Vi(qo)>Wi&&(Ro=-(No=180)),Bo[0]=Ro,Bo[1]=No,Ho=null}function na(t,e){return(e-=t)<0?e+360:e}function ra(t,e){return t[0]-e[0]}function ia(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var oa,aa,ua,sa,la,ca,fa,ha,pa,da,va,ga,ya,ma,ba,xa,wa=function(t){var e,n,r,i,o,a,u;if(Io=No=-(Ro=Fo=1/0),Yo=[],wo(t,Vo),n=Yo.length){for(Yo.sort(ra),e=1,o=[r=Yo[0]];e<n;++e)ia(r,(i=Yo[e])[0])||ia(r,i[1])?(na(r[0],i[1])>na(r[0],r[1])&&(r[1]=i[1]),na(i[0],r[1])>na(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(u=na(r[1],i[0]))>a&&(a=u,Ro=i[0],No=r[1])}return Yo=Bo=null,Ro===1/0||Fo===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ro,Fo],[No,Io]]},_a={sphere:lo,point:ka,lineStart:Sa,lineEnd:Aa,polygonStart:function(){_a.lineStart=Pa,_a.lineEnd=Ea},polygonEnd:function(){_a.lineStart=Sa,_a.lineEnd=Aa}};function ka(t,e){t*=qi;var n=Zi(e*=qi);Ma(n*Zi(t),n*no(t),no(e))}function Ma(t,e,n){ua+=(t-ua)/++oa,sa+=(e-sa)/oa,la+=(n-la)/oa}function Sa(){_a.point=Ca}function Ca(t,e){t*=qi;var n=Zi(e*=qi);ma=n*Zi(t),ba=n*no(t),xa=no(e),_a.point=Oa,Ma(ma,ba,xa)}function Oa(t,e){t*=qi;var n=Zi(e*=qi),r=n*Zi(t),i=n*no(t),o=no(e),a=Ji(io((a=ba*o-xa*i)*a+(a=xa*r-ma*o)*a+(a=ma*i-ba*r)*a),ma*r+ba*i+xa*o);aa+=a,ca+=a*(ma+(ma=r)),fa+=a*(ba+(ba=i)),ha+=a*(xa+(xa=o)),Ma(ma,ba,xa)}function Aa(){_a.point=ka}function Pa(){_a.point=ja}function Ea(){Ta(ga,ya),_a.point=ka}function ja(t,e){ga=t,ya=e,t*=qi,e*=qi,_a.point=Ta;var n=Zi(e);ma=n*Zi(t),ba=n*no(t),xa=no(e),Ma(ma,ba,xa)}function Ta(t,e){t*=qi;var n=Zi(e*=qi),r=n*Zi(t),i=n*no(t),o=no(e),a=ba*o-xa*i,u=xa*r-ma*o,s=ma*i-ba*r,l=io(a*a+u*u+s*s),c=uo(l),f=l&&-c/l;pa+=f*a,da+=f*u,va+=f*s,aa+=c,ca+=c*(ma+(ma=r)),fa+=c*(ba+(ba=i)),ha+=c*(xa+(xa=o)),Ma(ma,ba,xa)}var $a=function(t){oa=aa=ua=sa=la=ca=fa=ha=pa=da=va=0,wo(t,_a);var e=pa,n=da,r=va,i=e*e+n*n+r*r;return i<1e-12&&(e=ca,n=fa,r=ha,aa<Wi&&(e=ua,n=sa,r=la),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Ji(n,e)*Bi,uo(r/io(i))*Bi]},Da=function(t){return function(){return t}},La=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function za(t,e){return[Vi(t)>Gi?t+Math.round(-t/Yi)*Yi:t,e]}function Ra(t,e,n){return(t%=Yi)?e||n?La(Na(t),Ia(e,n)):Na(t):e||n?Ia(e,n):za}function Fa(t){return function(e,n){return[(e+=t)>Gi?e-Yi:e<-Gi?e+Yi:e,n]}}function Na(t){var e=Fa(t);return e.invert=Fa(-t),e}function Ia(t,e){var n=Zi(t),r=no(t),i=Zi(e),o=no(e);function a(t,e){var a=Zi(e),u=Zi(t)*a,s=no(t)*a,l=no(e),c=l*n+u*r;return[Ji(s*i-c*o,u*n-l*r),uo(c*i+s*o)]}return a.invert=function(t,e){var a=Zi(e),u=Zi(t)*a,s=no(t)*a,l=no(e),c=l*i-s*o;return[Ji(s*i+l*o,u*n+c*r),uo(c*n-u*r)]},a}za.invert=za;var Wa=function(t){function e(e){return(e=t(e[0]*qi,e[1]*qi))[0]*=Bi,e[1]*=Bi,e}return t=Ra(t[0]*qi,t[1]*qi,t.length>2?t[2]*qi:0),e.invert=function(e){return(e=t.invert(e[0]*qi,e[1]*qi))[0]*=Bi,e[1]*=Bi,e},e};function Ga(t,e,n,r,i,o){if(n){var a=Zi(e),u=no(e),s=r*n;null==i?(i=e+r*Yi,o=e-s/2):(i=Ua(a,i),o=Ua(a,o),(r>0?i<o:i>o)&&(i+=r*Yi));for(var l,c=i;r>0?c>o:c<o;c-=s)l=Eo([a,-u*Zi(c),-u*no(c)]),t.point(l[0],l[1])}}function Ua(t,e){(e=jo(e))[0]-=t,zo(e);var n=ao(-e[1]);return((-e[2]<0?-n:n)+Yi-Wi)%Yi}var Ha=function(){var t,e,n=Da([0,0]),r=Da(90),i=Da(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Bi,n[1]*=Bi}};function a(){var a=n.apply(this,arguments),u=r.apply(this,arguments)*qi,s=i.apply(this,arguments)*qi;return t=[],e=Ra(-a[0]*qi,-a[1]*qi,0).invert,Ga(o,u,s,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Da([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Da(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Da(+t),a):i},a},Ya=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:lo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Ba=function(t,e){return Vi(t[0]-e[0])<Wi&&Vi(t[1]-e[1])<Wi};function qa(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Va=function(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ba(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(n=new qa(r,t,null,!0)),s.push(n.o=new qa(r,null,n,!1)),u.push(n=new qa(a,t,null,!1)),s.push(n.o=new qa(a,null,n,!0))}}),u.length){for(s.sort(e),Xa(u),Xa(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var l,c,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}};function Xa(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var Ja=Ri(),Za=function(t,e){var n=e[0],r=e[1],i=no(r),o=[no(n),-Zi(n),0],a=0,u=0;Ja.reset(),1===i?r=Ui+Wi:-1===i&&(r=-Ui-Wi);for(var s=0,l=t.length;s<l;++s)if(f=(c=t[s]).length)for(var c,f,h=c[f-1],p=h[0],d=h[1]/2+Hi,v=no(d),g=Zi(d),y=0;y<f;++y,p=b,v=w,g=_,h=m){var m=c[y],b=m[0],x=m[1]/2+Hi,w=no(x),_=Zi(x),k=b-p,M=k>=0?1:-1,S=M*k,C=S>Gi,O=v*w;if(Ja.add(Ji(O*M*no(S),g*_+O*Zi(S))),a+=C?k+M*Yi:k,C^p>=n^b>=n){var A=$o(jo(h),jo(m));zo(A);var P=$o(o,A);zo(P);var E=(C^k>=0?-1:1)*uo(P[2]);(r>E||r===E&&(A[0]||A[1]))&&(u+=C^k>=0?1:-1)}}return(a<-Wi||a<Wi&&Ja<-Wi)^1&u},Qa=function(t,e,n,r){return function(i){var o,a,u,s=e(i),l=Ya(),c=e(l),f=!1,h={point:p,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=g,a=_t(a);var t=Za(o,r);a.length?(f||(i.polygonStart(),f=!0),Va(a,tu,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){s.point(t,e)}function v(){h.point=d,s.lineStart()}function g(){h.point=p,s.lineEnd()}function y(t,e){u.push([t,e]),c.point(t,e)}function m(){c.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),c.lineEnd();var t,e,n,r,s=c.clean(),h=l.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&s){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ka))}return h}};function Ka(t){return t.length>1}function tu(t,e){return((t=t.x)[0]<0?t[1]-Ui-Wi:Ui-t[1])-((e=e.x)[0]<0?e[1]-Ui-Wi:Ui-e[1])}var eu=Qa(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?Gi:-Gi,s=Vi(o-n);Vi(s-Gi)<Wi?(t.point(n,r=(r+a)/2>0?Ui:-Ui),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=Gi&&(Vi(n-i)<Wi&&(n-=i*Wi),Vi(o-u)<Wi&&(o-=u*Wi),r=function(t,e,n,r){var i,o,a=no(t-n);return Vi(a)>Wi?Xi((no(e)*(o=Zi(r))*no(n)-no(r)*(i=Zi(e))*no(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Ui,r.point(-Gi,i),r.point(0,i),r.point(Gi,i),r.point(Gi,0),r.point(Gi,-i),r.point(0,-i),r.point(-Gi,-i),r.point(-Gi,0),r.point(-Gi,i);else if(Vi(t[0]-e[0])>Wi){var o=t[0]<e[0]?Gi:-Gi;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Gi,-Ui]),nu=function(t){var e=Zi(t),n=6*qi,r=e>0,i=Vi(e)>Wi;function o(t,n){return Zi(t)*Zi(n)>e}function a(t,n,r){var i=[1,0,0],o=$o(jo(t),jo(n)),a=To(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=e*a/s,c=-e*u/s,f=$o(i,o),h=Lo(i,l);Do(h,Lo(o,c));var p=f,d=To(h,p),v=To(p,p),g=d*d-v*(To(h,h)-1);if(!(g<0)){var y=io(g),m=Lo(p,(-d-y)/v);if(Do(m,h),m=Eo(m),!r)return m;var b,x=t[0],w=n[0],_=t[1],k=n[1];w<x&&(b=x,x=w,w=b);var M=w-x,S=Vi(M-Gi)<Wi;if(!S&&k<_&&(b=_,_=k,k=b),S||M<Wi?S?_+k>0^m[1]<(Vi(m[0]-x)<Wi?_:k):_<=m[1]&&m[1]<=k:M>Gi^(x<=m[0]&&m[0]<=w)){var C=Lo(p,(-d+y)/v);return Do(C,h),[m,Eo(C)]}}}function u(e,n){var i=r?t:Gi-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Qa(o,function(t){var e,n,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var p,d=[f,h],v=o(f,h),g=r?v?0:u(f,h):v?u(f+(f<0?Gi:-Gi),h):0;if(!e&&(l=s=v)&&t.lineStart(),v!==s&&(!(p=a(e,d))||Ba(e,p)||Ba(d,p))&&(d[0]+=Wi,d[1]+=Wi,v=o(d[0],d[1])),v!==s)c=0,v?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&r^v){var y;g&n||!(y=a(d,e,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||e&&Ba(e,d)||t.point(d[0],d[1]),e=d,s=v,n=g},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}},function(e,r,i,o){Ga(o,t,n,i,e,r)},r?[0,-t]:[-Gi,t-Gi])},ru=function(t,e,n,r,i,o){var a,u=t[0],s=t[1],l=0,c=1,f=e[0]-u,h=e[1]-s;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=u+l*f,t[1]=s+l*h),c<1&&(e[0]=u+c*f,e[1]=s+c*h),!0}}}}},iu=1e9,ou=-iu;function au(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,l){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return Vi(r[0]-t)<Wi?i>0?0:3:Vi(r[0]-n)<Wi?i>0?2:1:Vi(r[1]-e)<Wi?i>0?1:0:i>0?3:2}function u(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,l,c,f,h,p,d,v,g,y,m,b=a,x=Ya(),w={point:_,lineStart:function(){w.point=k,l&&l.push(c=[]),y=!0,g=!1,d=v=NaN},lineEnd:function(){s&&(k(f,h),p&&g&&x.rejoin(),s.push(x.result())),w.point=_,g&&b.lineEnd()},polygonStart:function(){b=x,s=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,u=l[n],s=1,c=u.length,f=u[0],h=f[0],p=f[1];s<c;++s)o=h,a=p,f=u[s],h=f[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=m&&e,i=(s=_t(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Va(s,u,e,o,a),a.polygonEnd()),b=a,s=l=c=null}};function _(t,e){i(t,e)&&b.point(t,e)}function k(o,a){var u=i(o,a);if(l&&c.push([o,a]),y)f=o,h=a,p=u,y=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&g)b.point(o,a);else{var s=[d=Math.max(ou,Math.min(iu,d)),v=Math.max(ou,Math.min(iu,v))],x=[o=Math.max(ou,Math.min(iu,o)),a=Math.max(ou,Math.min(iu,a))];ru(s,x,t,e,n,r)?(g||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),u||b.lineEnd(),m=!1):u&&(b.lineStart(),b.point(o,a),m=!1)}d=o,v=a,g=u}return w}}var uu,su,lu,cu=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=au(r,i,o,a)(e=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=e=null,n):[[r,i],[o,a]]}}},fu=Ri(),hu={sphere:lo,point:lo,lineStart:function(){hu.point=du,hu.lineEnd=pu},lineEnd:lo,polygonStart:lo,polygonEnd:lo};function pu(){hu.point=hu.lineEnd=lo}function du(t,e){uu=t*=qi,su=no(e*=qi),lu=Zi(e),hu.point=vu}function vu(t,e){t*=qi;var n=no(e*=qi),r=Zi(e),i=Vi(t-uu),o=Zi(i),a=r*no(i),u=lu*n-su*r*o,s=su*n+lu*r*o;fu.add(Ji(io(a*a+u*u),s)),uu=t,su=n,lu=r}var gu=function(t){return fu.reset(),wo(t,hu),+fu},yu=[null,null],mu={type:"LineString",coordinates:yu},bu=function(t,e){return yu[0]=t,yu[1]=e,gu(mu)},xu={Feature:function(t,e){return _u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(_u(n[r].geometry,e))return!0;return!1}},wu={Sphere:function(){return!0},Point:function(t,e){return ku(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ku(n[r],e))return!0;return!1},LineString:function(t,e){return Mu(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Mu(n[r],e))return!0;return!1},Polygon:function(t,e){return Su(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Su(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(_u(n[r],e))return!0;return!1}};function _u(t,e){return!(!t||!wu.hasOwnProperty(t.type))&&wu[t.type](t,e)}function ku(t,e){return 0===bu(t,e)}function Mu(t,e){var n=bu(t[0],t[1]);return bu(t[0],e)+bu(e,t[1])<=n+Wi}function Su(t,e){return!!Za(t.map(Cu),Ou(e))}function Cu(t){return(t=t.map(Ou)).pop(),t}function Ou(t){return[t[0]*qi,t[1]*qi]}var Au=function(t,e){return(t&&xu.hasOwnProperty(t.type)?xu[t.type]:_u)(t,e)};function Pu(t,e,n){var r=gt(t,e-Wi,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Eu(t,e,n){var r=gt(t,e-Wi,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function ju(){var t,e,n,r,i,o,a,u,s,l,c,f,h=10,p=h,d=90,v=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return gt(Qi(r/d)*d,n,d).map(c).concat(gt(Qi(u/v)*v,a,v).map(f)).concat(gt(Qi(e/h)*h,t,h).filter(function(t){return Vi(t%d)>Wi}).map(s)).concat(gt(Qi(o/p)*p,i,p).filter(function(t){return Vi(t%v)>Wi}).map(l))}return y.lines=function(){return m().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),y.precision(g)):[[r,u],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(g)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(d=+t[0],v=+t[1],y):[d,v]},y.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],y):[h,p]},y.precision=function(h){return arguments.length?(g=+h,s=Pu(o,i,90),l=Eu(e,t,g),c=Pu(u,a,90),f=Eu(r,n,g),y):g},y.extentMajor([[-180,-90+Wi],[180,90-Wi]]).extentMinor([[-180,-80-Wi],[180,80+Wi]])}function Tu(){return ju()()}var $u,Du,Lu,zu,Ru=function(t,e){var n=t[0]*qi,r=t[1]*qi,i=e[0]*qi,o=e[1]*qi,a=Zi(r),u=no(r),s=Zi(o),l=no(o),c=a*Zi(n),f=a*no(n),h=s*Zi(i),p=s*no(i),d=2*uo(io(so(o-r)+a*s*so(i-n))),v=no(d),g=d?function(t){var e=no(t*=d)/v,n=no(d-t)/v,r=n*c+e*h,i=n*f+e*p,o=n*u+e*l;return[Ji(i,r)*Bi,Ji(o,io(r*r+i*i))*Bi]}:function(){return[n*Bi,r*Bi]};return g.distance=d,g},Fu=function(t){return t},Nu=Ri(),Iu=Ri(),Wu={point:lo,lineStart:lo,lineEnd:lo,polygonStart:function(){Wu.lineStart=Gu,Wu.lineEnd=Yu},polygonEnd:function(){Wu.lineStart=Wu.lineEnd=Wu.point=lo,Nu.add(Vi(Iu)),Iu.reset()},result:function(){var t=Nu/2;return Nu.reset(),t}};function Gu(){Wu.point=Uu}function Uu(t,e){Wu.point=Hu,$u=Lu=t,Du=zu=e}function Hu(t,e){Iu.add(zu*t-Lu*e),Lu=t,zu=e}function Yu(){Hu($u,Du)}var Bu,qu,Vu,Xu,Ju=Wu,Zu=1/0,Qu=Zu,Ku=-Zu,ts=Ku,es={point:function(t,e){t<Zu&&(Zu=t),t>Ku&&(Ku=t),e<Qu&&(Qu=e),e>ts&&(ts=e)},lineStart:lo,lineEnd:lo,polygonStart:lo,polygonEnd:lo,result:function(){var t=[[Zu,Qu],[Ku,ts]];return Ku=ts=-(Qu=Zu=1/0),t}},ns=0,rs=0,is=0,os=0,as=0,us=0,ss=0,ls=0,cs=0,fs={point:hs,lineStart:ps,lineEnd:gs,polygonStart:function(){fs.lineStart=ys,fs.lineEnd=ms},polygonEnd:function(){fs.point=hs,fs.lineStart=ps,fs.lineEnd=gs},result:function(){var t=cs?[ss/cs,ls/cs]:us?[os/us,as/us]:is?[ns/is,rs/is]:[NaN,NaN];return ns=rs=is=os=as=us=ss=ls=cs=0,t}};function hs(t,e){ns+=t,rs+=e,++is}function ps(){fs.point=ds}function ds(t,e){fs.point=vs,hs(Vu=t,Xu=e)}function vs(t,e){var n=t-Vu,r=e-Xu,i=io(n*n+r*r);os+=i*(Vu+t)/2,as+=i*(Xu+e)/2,us+=i,hs(Vu=t,Xu=e)}function gs(){fs.point=hs}function ys(){fs.point=bs}function ms(){xs(Bu,qu)}function bs(t,e){fs.point=xs,hs(Bu=Vu=t,qu=Xu=e)}function xs(t,e){var n=t-Vu,r=e-Xu,i=io(n*n+r*r);os+=i*(Vu+t)/2,as+=i*(Xu+e)/2,us+=i,ss+=(i=Xu*t-Vu*e)*(Vu+t),ls+=i*(Xu+e),cs+=3*i,hs(Vu=t,Xu=e)}var ws=fs;function _s(t){this._context=t}_s.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Yi)}},result:lo};var ks,Ms,Ss,Cs,Os,As=Ri(),Ps={point:lo,lineStart:function(){Ps.point=Es},lineEnd:function(){ks&&js(Ms,Ss),Ps.point=lo},polygonStart:function(){ks=!0},polygonEnd:function(){ks=null},result:function(){var t=+As;return As.reset(),t}};function Es(t,e){Ps.point=js,Ms=Cs=t,Ss=Os=e}function js(t,e){Cs-=t,Os-=e,As.add(io(Cs*Cs+Os*Os)),Cs=t,Os=e}var Ts=Ps;function $s(){this._string=[]}function Ds(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}$s.prototype={_radius:4.5,_circle:Ds(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ds(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Ls=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),wo(t,n(r))),r.result()}return o.area=function(t){return wo(t,n(Ju)),Ju.result()},o.measure=function(t){return wo(t,n(Ts)),Ts.result()},o.bounds=function(t){return wo(t,n(es)),es.result()},o.centroid=function(t){return wo(t,n(ws)),ws.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Fu):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new $s):new _s(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},zs=function(t){return{stream:Rs(t)}};function Rs(t){return function(e){var n=new Fs;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Fs(){}function Ns(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),wo(n,t.stream(es)),e(es.result()),null!=r&&t.clipExtent(r),t}function Is(t,e,n){return Ns(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])},n)}function Ws(t,e,n){return Is(t,[[0,0],e],n)}function Gs(t,e,n){return Ns(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Us(t,e,n){return Ns(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}Fs.prototype={constructor:Fs,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hs=16,Ys=Zi(30*qi),Bs=function(t,e){return+e?function(t,e){function n(r,i,o,a,u,s,l,c,f,h,p,d,v,g){var y=l-r,m=c-i,b=y*y+m*m;if(b>4*e&&v--){var x=a+h,w=u+p,_=s+d,k=io(x*x+w*w+_*_),M=uo(_/=k),S=Vi(Vi(_)-1)<Wi||Vi(o-f)<Wi?(o+f)/2:Ji(w,x),C=t(S,M),O=C[0],A=C[1],P=O-r,E=A-i,j=m*P-y*E;(j*j/b>e||Vi((y*P+m*E)/b-.5)>.3||a*h+u*p+s*d<Ys)&&(n(r,i,o,a,u,s,O,A,S,x/=k,w/=k,_,v,g),g.point(O,A),n(O,A,S,x,w,_,l,c,f,h,p,d,v,g))}}return function(e){var r,i,o,a,u,s,l,c,f,h,p,d,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){c=NaN,v.point=m,e.lineStart()}function m(r,i){var o=jo([r,i]),a=t(r,i);n(c,f,l,h,p,d,c=a[0],f=a[1],l=r,h=o[0],p=o[1],d=o[2],Hs,e),e.point(c,f)}function b(){v.point=g,e.lineEnd()}function x(){y(),v.point=w,v.lineEnd=_}function w(t,e){m(r=t,e),i=c,o=f,a=h,u=p,s=d,v.point=m}function _(){n(c,f,l,h,p,d,i,o,r,a,u,s,Hs,e),v.lineEnd=b,b()}return v}}(t,e):function(t){return Rs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},qs=Rs({point:function(t,e){this.stream.point(t*qi,e*qi)}});function Vs(t,e,n,r){var i=Zi(r),o=no(r),a=i*t,u=o*t,s=i/t,l=o/t,c=(o*n-i*e)/t,f=(o*e+i*n)/t;function h(t,r){return[a*t-u*r+e,n-u*t-a*r]}return h.invert=function(t,e){return[s*t-l*e+c,f-l*t-s*e]},h}function Xs(t){return Js(function(){return t})()}function Js(t){var e,n,r,i,o,a,u,s,l,c,f=150,h=480,p=250,d=0,v=0,g=0,y=0,m=0,b=0,x=null,w=eu,_=null,k=Fu,M=.5;function S(t){return s(t[0]*qi,t[1]*qi)}function C(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Bi,t[1]*Bi]}function O(){var t=Vs(f,0,0,b).apply(null,e(d,v)),r=(b?Vs:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(f,h-t[0],p-t[1],b);return n=Ra(g,y,m),u=La(e,r),s=La(n,u),a=Bs(u,M),A()}function A(){return l=c=null,S}return S.stream=function(t){return l&&c===t?l:l=qs(function(t){return Rs({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(a(k(c=t)))))},S.preclip=function(t){return arguments.length?(w=t,x=void 0,A()):w},S.postclip=function(t){return arguments.length?(k=t,_=r=i=o=null,A()):k},S.clipAngle=function(t){return arguments.length?(w=+t?nu(x=t*qi):(x=null,eu),A()):x*Bi},S.clipExtent=function(t){return arguments.length?(k=null==t?(_=r=i=o=null,Fu):au(_=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==_?null:[[_,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,O()):f},S.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],O()):[h,p]},S.center=function(t){return arguments.length?(d=t[0]%360*qi,v=t[1]%360*qi,O()):[d*Bi,v*Bi]},S.rotate=function(t){return arguments.length?(g=t[0]%360*qi,y=t[1]%360*qi,m=t.length>2?t[2]%360*qi:0,O()):[g*Bi,y*Bi,m*Bi]},S.angle=function(t){return arguments.length?(b=t%360*qi,O()):b*Bi},S.precision=function(t){return arguments.length?(a=Bs(u,M=t*t),A()):io(M)},S.fitExtent=function(t,e){return Is(S,t,e)},S.fitSize=function(t,e){return Ws(S,t,e)},S.fitWidth=function(t,e){return Gs(S,t,e)},S.fitHeight=function(t,e){return Us(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&C,O()}}function Zs(t){var e=0,n=Gi/3,r=Js(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*qi,n=t[1]*qi):[e*Bi,n*Bi]},i}function Qs(t,e){var n=no(t),r=(n+no(e))/2;if(Vi(r)<Wi)return function(t){var e=Zi(t);function n(t,n){return[t*e,no(n)/e]}return n.invert=function(t,n){return[t/e,uo(n*e)]},n}(t);var i=1+n*(2*r-n),o=io(i)/r;function a(t,e){var n=io(i-2*r*no(e))/r;return[n*no(t*=r),o-n*Zi(t)]}return a.invert=function(t,e){var n=o-e;return[Ji(t,Vi(n))/r*ro(n),uo((i-(t*t+n*n)*r*r)/(2*r))]},a}var Ks=function(){return Zs(Qs).scale(155.424).center([0,33.6442])},tl=function(){return Ks().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},el=function(){var t,e,n,r,i,o,a=tl(),u=Ks().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Ks().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},c.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),s.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(l),r=u.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+Wi,c+.12*e+Wi],[o-.214*e-Wi,c+.234*e-Wi]]).stream(l),i=s.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+Wi,c+.166*e+Wi],[o-.115*e-Wi,c+.234*e-Wi]]).stream(l),f()},c.fitExtent=function(t,e){return Is(c,t,e)},c.fitSize=function(t,e){return Ws(c,t,e)},c.fitWidth=function(t,e){return Gs(c,t,e)},c.fitHeight=function(t,e){return Us(c,t,e)},c.scale(1070)};function nl(t){return function(e,n){var r=Zi(e),i=Zi(n),o=t(r*i);return[o*i*no(e),o*no(n)]}}function rl(t){return function(e,n){var r=io(e*e+n*n),i=t(r),o=no(i),a=Zi(i);return[Ji(e*o,r*a),uo(r&&n*o/r)]}}var il=nl(function(t){return io(2/(1+t))});il.invert=rl(function(t){return 2*uo(t/2)});var ol=function(){return Xs(il).scale(124.75).clipAngle(179.999)},al=nl(function(t){return(t=ao(t))&&t/no(t)});al.invert=rl(function(t){return t});var ul=function(){return Xs(al).scale(79.4188).clipAngle(179.999)};function sl(t,e){return[t,to(oo((Ui+e)/2))]}sl.invert=function(t,e){return[t,2*Xi(Ki(e))-Ui]};var ll=function(){return cl(sl).scale(961/Yi)};function cl(t){var e,n,r,i=Xs(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var o=Gi*a(),u=i(Wa(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===sl?[[Math.max(u[0]-o,l),e],[Math.min(u[0]+o,n),r]]:[[l,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(u(t),c()):u()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,e],[n,r]]},c()}function fl(t){return oo((Ui+t)/2)}function hl(t,e){var n=Zi(t),r=t===e?no(t):to(n/Zi(e))/to(fl(e)/fl(t)),i=n*eo(fl(t),r)/r;if(!r)return sl;function o(t,e){i>0?e<-Ui+Wi&&(e=-Ui+Wi):e>Ui-Wi&&(e=Ui-Wi);var n=i/eo(fl(e),r);return[n*no(r*t),i-n*Zi(r*t)]}return o.invert=function(t,e){var n=i-e,o=ro(r)*io(t*t+n*n);return[Ji(t,Vi(n))/r*ro(n),2*Xi(eo(i/o,1/r))-Ui]},o}var pl=function(){return Zs(hl).scale(109.5).parallels([30,30])};function dl(t,e){return[t,e]}dl.invert=dl;var vl=function(){return Xs(dl).scale(152.63)};function gl(t,e){var n=Zi(t),r=t===e?no(t):(n-Zi(e))/(e-t),i=n/r+t;if(Vi(r)<Wi)return dl;function o(t,e){var n=i-e,o=r*t;return[n*no(o),i-n*Zi(o)]}return o.invert=function(t,e){var n=i-e;return[Ji(t,Vi(n))/r*ro(n),i-ro(r)*io(t*t+n*n)]},o}var yl=function(){return Zs(gl).scale(131.154).center([0,13.9389])},ml=1.340264,bl=-.081106,xl=893e-6,wl=.003796,_l=io(3)/2;function kl(t,e){var n=uo(_l*no(e)),r=n*n,i=r*r*r;return[t*Zi(n)/(_l*(ml+3*bl*r+i*(7*xl+9*wl*r))),n*(ml+bl*r+i*(xl+wl*r))]}kl.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(ml+bl*i+o*(xl+wl*i))-e)/(ml+3*bl*i+o*(7*xl+9*wl*i)))*r)*i*i,!(Vi(n)<1e-12));++a);return[_l*t*(ml+3*bl*i+o*(7*xl+9*wl*i))/Zi(r),uo(no(r)/_l)]};var Ml=function(){return Xs(kl).scale(177.158)};function Sl(t,e){var n=Zi(e),r=Zi(t)*n;return[n*no(t)/r,no(e)/r]}Sl.invert=rl(Xi);var Cl=function(){return Xs(Sl).scale(144.049).clipAngle(60)};function Ol(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Fu:Rs({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var Al=function(){var t,e,n,r,i,o,a=1,u=0,s=0,l=1,c=1,f=Fu,h=null,p=Fu;function d(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(p(i=t))},postclip:function(r){return arguments.length?(p=r,h=t=e=n=null,d()):p},clipExtent:function(r){return arguments.length?(p=null==r?(h=t=e=n=null,Fu):au(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(f=Ol((a=+t)*l,a*c,u,s),d()):a},translate:function(t){return arguments.length?(f=Ol(a*l,a*c,u=+t[0],s=+t[1]),d()):[u,s]},reflectX:function(t){return arguments.length?(f=Ol(a*(l=t?-1:1),a*c,u,s),d()):l<0},reflectY:function(t){return arguments.length?(f=Ol(a*l,a*(c=t?-1:1),u,s),d()):c<0},fitExtent:function(t,e){return Is(o,t,e)},fitSize:function(t,e){return Ws(o,t,e)},fitWidth:function(t,e){return Gs(o,t,e)},fitHeight:function(t,e){return Us(o,t,e)}}};function Pl(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Pl.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Vi(n)>Wi&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var El=function(){return Xs(Pl).scale(175.295)};function jl(t,e){return[Zi(e)*no(t),no(e)]}jl.invert=rl(uo);var Tl=function(){return Xs(jl).scale(249.5).clipAngle(90+Wi)};function $l(t,e){var n=Zi(e),r=1+Zi(t)*n;return[n*no(t)/r,no(e)/r]}$l.invert=rl(function(t){return 2*Xi(t)});var Dl=function(){return Xs($l).scale(250).clipAngle(142)};function Ll(t,e){return[to(oo((Ui+e)/2)),-t]}Ll.invert=function(t,e){return[-e,2*Xi(Ki(t))-Ui]};var zl=function(){var t=cl(Ll),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},Rl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.parent=null,this.attrs=e,this.$paths=null}return f()(t,[{key:"connect",value:function(t){this.parent=t}},{key:"onMousemove",value:function(t,e,n){var r=this,i=this.parent.style("hover")(e,e.dataOrigin,n)||{},o={normal:Object.keys(i).reduce(function(e,n){return e[n]=t.attr(n),e},{}),hover:i};t.attr("states",o),t.attr("actions",[{both:["normal","hover"],duration:300}]),t.on("mousemove",function(i){t.attr("state","hover"),i.index=n,i.data=Object.assign({},e.dataOrigin,{color:e.fillColor}),r.parent.emit(J.showTooltip,i),r.parent.chart.setCanvasCursor("pointer")})}},{key:"onMouseleave",value:function(t){var e=this;t.on("mouseleave",function(n){t.attr("state","normal"),e.parent.emit(J.hideTooltip,n),e.parent.chart.setCanvasCursor("default")})}},{key:"render",value:function(t){var e=new i.Path(this.attrs);this.$path=e,this.parent.$group.appendChild(this.$path),t&&(this.onMousemove(e,this.attrs,this.attrs.index),this.onMouseleave(e))}},{key:"update",value:function(t){console.log("更新  path: ",t)}}]),t}(),Fl=function(){return!1},Nl=function(t,e){var n=e.filter(function(e){return e.dataOrigin===t||e.geomDataOrigin===t});return n&&n[0]||!1},Il=function(t,e){var n=u()(t,2),r=n[0],i=n[1],o=u()(e,2),a=o[0],s=o[1],l=(r+a)/2+20/Math.sqrt(Math.pow((a-r)/(s-i),2)+1),c=(i+s)/2-20/Math.sqrt(Math.pow((s-i)/(a-r),2)+1);return l!=l&&(l=a),c!=c&&(c=s),"M".concat(r,",").concat(i," Q").concat(l,",").concat(c," ").concat(a,",").concat(s)},Wl=function(t,e,n,r){var i,o=t.attr("color");o=/^#/.test(o)?(i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:null:o.match(/\d+/g);var a=[{offset:0,color:"rgba(".concat(o[0],",").concat(o[1],",").concat(o[2],",0)")},{offset:.99,color:"rgba(".concat(o[0],",").concat(o[1],",").concat(o[2],",1)")}];t.attr({strokeColor:"rgba(".concat(o[0],",").concat(o[1],",").concat(o[2],",.7)"),gradients:{strokeColor:{vector:[0,0,0,0],colors:a}}});var s=+new Date,l=0;requestAnimationFrame(function i(){l=Math.min((Date.now()-s)/e,1);var o=Math.max(l*(1+n),1),c=Math.max(0,l*(1+n)-n),f=t.attr("gradients");f.strokeColor.colors=a;var h=t.getPathLength(),p=t.getPointAtLength(c*h),d=u()(p,2),v=d[0],g=d[1],y=t.getPointAtLength(o*h),m=u()(y,2),b=m[0],x=m[1];f.strokeColor.vector=[v,g,b,x],t.attr({gradients:f,lineDash:[0,c*h,(o-c)*h,h-h*c]}),r&&r.attr("offsetDistance",l+.2),l>=1&&(s=Date.now()),requestAnimationFrame(i)})},Gl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).components=[],t.geomData=null,t.geomDataItems=null,t.transform=function(t){return t},t.pathGenerator=function(t){return t},t.$group=null,t.$paths=[],t}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{scale:1,tooltip:!0,projection:"geoMercator"}}},{key:"tooltip",value:function(t){return this.attr("tooltip",!!t),this}},{key:"add",value:function(t,e){this.components.push(G()({component:t},e))}},{key:"setGeomData",value:function(t,e){return this.geomData=t,e&&e.items&&(this.geomDataItems=e.items),this}},{key:"mapGeomDataToBind",value:function(t){return this.transform=t,this}},{key:"layout",value:function(t,e){var n=this,i=this.chart.attr("size"),o=u()(i,2),a=o[0],s=o[1],l=Math.min(a,s)*this.attr("scale"),c=[a/2,s/2],f=this.style("normal"),h=function(){var t=[0,0],e=1,n=[0,0],i=null;function o(o){var a=i?r[i]().scale(e).translate(n):null;"geoMercator"===i&&a.center(t);var u=Ls().projection(a);return{ds:o.map(function(t){return{d:u(t),center:u.centroid(t)}}),path:u}}return o.center=function(e){return t=e,o},o.scale=function(t){return e=t,o},o.translate=function(t){return n=t,o},o.projection=function(t){return i=t,o},o}().projection(this.attr("projection")).center(t).scale(l).translate(c)(e),p=h.path,d=h.ds;this.pathGenerator=p;var v=d.map(function(t,r){return G()({},t,{index:r,color:"#b1b1b1",fillColor:"#DDDDDD",dataOrigin:n.transform(e[r],r)||e[r],geomDataOrigin:e[r]})});return v.forEach(function(t,e){Object.assign(t,"function"==typeof f?f(t,t.dataOrigin,e):f||{})}),v}},{key:"renderBasicMap",value:function(t){var e=this;t.map(function(t){var n=new Rl(t);n.connect(e),n.render(e.attr("tooltip"))})}},{key:"renderComponents",value:function(t){var e=this;this.components.forEach(function(n){var r=n.component,i=zi()(n,["component"]);t.map(function(n,o){return function(n,r,i,o){var a=n(e,i,i.dataOrigin,o,t)(r).render().componentInstance;a&&e.$group.appendChild(a)}(r,i,n,o)})})}},{key:"render",value:function(){var t=this.$group=new i.Group;this.chart.$group.appendChild(t);var e=$a(this.geomData),n=this.geomDataItems||[this.geomData],r=this.layout(e,n);this.renderBasicMap(r),this.renderComponents(r)}},{key:"update",value:function(){}}]),e}(st);Gl.FlyLine=function(t,e,n,r,o){var a,u,s="",l=10,c=!1,f={normal:Fl,hover:Fl},h=!1,p={normal:Fl,hover:Fl};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s=t.symbol||"",l=t.symbolSize||10,c=t.symbolEffect||Fl,(f=t.symbolStyle||{}).normal=f.normal||Fl,f.hover=f.hover||Fl,a=t.to||Fl,u=t.from||Fl,h=t.effect||Fl,(p=t.style||{}).normal=p.normal||Fl,p.hover=p.hover||Fl,{render:function(){delete(e=Object.assign({},e)).center;var t=[],d=u(e,n,r);d&&(d=Nl(d,o))&&t.push(d.center);var v=a(e,n,r);v&&(v=Nl(v,o))&&t.push(v.center);var g=null;if(2===t.length){g=new i.Group;var y=Il(t[0],t[1]),m=p.normal(e,n,r)||{},b=Object.assign({},e,m,{d:y});delete b.fillColor;var x=new i.Path(b),w=/^path:\/\//.test(s)?i.Path:i.Sprite,_=Object.assign({anchor:[.5,.5]},f.normal(e,n,r)||{},{size:[l,l],offsetPath:x.svg.d,trim:!0,flexible:!0}),k=new w(s.replace(/^path:\/\//,""));k.attr(_);var M=c(e,n,r);if(M){var S=M.duration,C=void 0===S?3e3:S;k.animate([{offsetDistance:0},{offsetDistance:1}],{duration:C,iterations:1/0})}var O=h(e,n,r);if(O){var A=O.trailLength,P=O.duration;Wl(x,P,A,M?null:k)}g.appendChild(x),g.appendChild(k)}return{componentInstance:g,attrs:null}}}}},Gl.Scatter=function(t,e,n,r){var o=function(){return{}},a=!1,u={normal:o,hover:o};return function(s){return a=s.effect||function(){return!1},(u=s.style||{}).normal=u.normal||o,u.hover=u.hover||o,{render:function(){var o,s,l=this,c=u.normal(e,n,r),f=Object.assign({},e,c);if(f.pos=f.center,delete f.center,a(e,n,r)){var h=function(t){var e=new i.Group,n=new i.Circle(t),r=t.radius,o=t.fillColor,a=zi()(t,["radius","fillColor"]),u=new i.Circle(G()({},a,{radius:r+4,lineWidth:2,color:"transparent"}));u.animate([{radius:r+4,color:o},{radius:r+4+4,color:"transparent"}],{duration:2e3,fill:"both",easing:"ease-in-out",iterations:1/0}),e.appendChild(u);var s=new i.Circle(G()({},a,{radius:r+8,lineWidth:2,color:"transparent"}));return s.animate([{radius:r+8,color:o},{radius:r+8+8,color:"transparent"}],{duration:2e3,fill:"both",easing:"ease-in-out",iterations:1/0}),e.appendChild(s),e.appendChild(n),{$group:e,$circle:n}}(G()({},f)),p=h.$group,d=h.$circle;o=p,s=d}else o=s=new i.Circle(f);var v=u.hover(f,n,r),g={normal:Object.keys(v).reduce(function(t,e){return t[e]=s.attr(e),t},{}),hover:v};return s.attr("states",g),s.attr("actions",[{both:["normal","hover"],duration:300}]),s.on(["mousemove"],function(n){t.chart.setCanvasCursor("pointer"),n.index=l._index,n.data=Object.assign({},e.dataOrigin,{color:e.fillColor}),t.emit(J.showTooltip,n),s.attr("state","hover"),n.stopDispatch()}),s.on("mouseleave",function(e){t.chart.setCanvasCursor("default"),t.emit(J.hideTooltip,e),s.attr("state","normal"),e.stopDispatch()}),{attrs:f,componentInstance:o}}}}},Gl.Text=function(t,e,n,r){var o=function(){return{}},a={normal:o,hover:o};return function(u){return(a=u.style||{}).normal=a.normal||o,a.hover=a.hover||o,{render:function(){var o=this;e=Object.assign({},e);var u=a.normal(e,n,r);delete e.fillColor,delete e.color;var s=Object.assign({anchor:[.5,1]},e,u);s.pos=s.center,delete s.center;var l=new i.Label(G()({},s)),c=a.hover(s,n,r),f={normal:Object.keys(c).reduce(function(t,e){return t[e]=l.attr(e),t},{}),hover:c};return l.attr("states",f),l.attr("actions",[{both:["normal","hover"],duration:300}]),l.on(["mousemove"],function(n){t.chart.setCanvasCursor("pointer"),n.index=o._index,n.data=Object.assign({},e.dataOrigin,{color:e.fillColor}),t.emit(J.showTooltip,n),l.attr("state","hover"),n.stopDispatch()}),l.on("mouseleave",function(e){t.chart.setCanvasCursor("default"),t.emit(J.hideTooltip,e),l.attr("state","normal"),e.stopDispatch()}),{attrs:s,componentInstance:l}}}}};var Ul=n(19),Hl=n.n(Ul),Yl=n(26),Bl=n.n(Yl),ql=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.parent=null,this.$group=null,this.$line=null,this.$label=null,this.attrs=e}return f()(t,[{key:"connect",value:function(t){this.parent=t}},{key:"render",value:function(){var t=Bl()(Hl.a.mark(function t(){var e,n,r,o,a,u,s,l=this;return Hl.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.calc(),n=e.line,r=e.label,this.$group=new i.Group,n&&(this.$line=new i.Polyline(n),this.$group.appendChild(this.$line),o=this.parent.parent.style("guideline:hover")(this.attrs,this.attrs.dataOrigin,this.attrs.index)||{},a={normal:Object.keys(o).reduce(function(t,e){return t[e]=l.$line.attr(e),t},{}),hover:o},this.$line.attr({states:a,action:[{both:["normal","hover"],duration:300}]}),this.$line.on("mousemove",function(t){l.$line.attr("state","hover")}),this.$line.on("mouseleave",function(t){l.$line.attr("state","normal")})),r&&(this.$label=new i.Label(r),this.$group.appendChild(this.$label),u=this.parent.parent.style("guidetext:hover")(this.attrs,this.attrs.dataOrigin,this.attrs.index)||{},s={normal:Object.keys(u).reduce(function(t,e){return t[e]=l.$label.attr(e),t},{}),hover:u},this.$label.attr({states:s,action:[{both:["normal","hover"],duration:300}]}),this.$label.on("mousemove",function(t){l.$label.attr("state","hover")}),this.$label.on("mouseleave",function(t){l.$label.attr("state","normal")})),n||r?this.parent.$group.appendChild(this.$group):this.$group=null;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(t){if(this.$group){this.attrs=t;var e=this.calc(),n=e.line,r=e.label;this.$line&&this.$line.attr(n),this.$label&&this.$label.attr(r)}}},{key:"disconnect",value:function(){this.parent.$group.removeChild(this.$group)}},{key:"calc",value:function(){var t=this.attrs,e=t.startAngle,n=t.endAngle,r=t.pos,i=t.outerRadius,o=t.maxRadius,a=t.fillColor;if(e>=n)return{line:{points:[]},label:{text:""}};var s=Math.PI/6,l=(e+n)/2,c=u()(r,2),f=c[0],h=c[1],p=this.parent.parent.style("guideline")(Object.assign({},this.attrs),this.attrs.dataOrigin,this.attrs.index)||{},d=p.offset||0,v=p.length||10,g=p.length2||20,y=o-i,m=Math.cos(l)*(i+d)+i+y+f,b=Math.sin(l)*(i+d)+i+y+h,x=Math.cos(l>s?l:l+s)*v+m,w=Math.sin(l>s?l:l+s)*v+b,_=x>m?"right":"left",k="right"===_?x+g:x-g,S=w,C={points:[[m,b],[x,w],[k,S]]},O={color:"#000",text:this.attrs.dataCategory,pos:[k,S],anchor:["right"===_?0:1,.5]};p&&(p=Object.assign({color:a},p,C));var A=this.parent.parent.style("guidetext")(Object.assign({},this.attrs,O),this.attrs.dataOrigin,this.attrs.index);return M(p)?Object.assign(C,p):p||(C=!1),M(A)?Object.assign(O,A):A||(O=!1),{line:C,label:O}}}]),t}(),Vl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.parent=null,this.attrs=e,this.$label=null}return f()(t,[{key:"connect",value:function(t){this.parent=t}},{key:"render",value:function(){var t=this,e=this.calc();if(e){this.$label=new i.Label(G()({font:'12px "宋体"',anchor:[.5,.5]},e,{zIndex:1e3}));var n=this.parent.parent.style("text:hover")(this.attrs,this.attrs.dataOrigin,this.attrs.index)||{},r={normal:Object.keys(n).reduce(function(e,n){return e[n]=t.$label.attr(n),e},{}),hover:n};this.$label.attr({states:r,action:[{both:["normal","hover"],duration:300}]}),this.$label.on("mousemove",function(e){t.$label.attr("state","hover")}),this.$label.on("mouseleave",function(e){t.$label.attr("state","normal")});var o=this.attrs;o.startAngle>=o.endAngle&&this.$label.attr("color","transparent"),this.parent.$group&&this.parent.$group.appendChild(this.$label)}}},{key:"update",value:function(t){if(this.$label){this.attrs=t;var e=this.calc();if(this.$label){var n=this.attrs;n.startAngle>=n.endAngle?this.$label.attr("color","transparent"):this.$label.attr(G()({color:"#000"},e))}}}},{key:"calc",value:function(){var t=this.attrs,e=t.startAngle,n=t.endAngle,r=t.pos,i=t.maxRadius,o=t.innerRadius,a=t.dataOrigin,u=t.index,s=(e+n)/2,l=[i*(1+Math.cos(s))+r[0]-(i-o)/2*Math.cos(s),i*(1+Math.sin(s))+r[1]-(i-o)/2*Math.sin(s)],c=this.parent.parent.style("text")(this.attrs,a,u);return M(c)?Object.assign({pos:l,text:this.attrs.dataCategory},c):!!c&&{pos:l,text:C(c)?c:this.attrs.dataCategory}}}]),t}(),Xl=function(){function t(){l()(this,t),this._index=0,this.parent=null,this.attrs={},this.children=[],this.$group=null,this.$ring=null}return f()(t,[{key:"index",value:function(t){this._index=t}},{key:"connect",value:function(t){this.parent=t}},{key:"renderGuideLine",value:function(){if(this.parent&&(this.parent.attr("@guideline")||this.parent.attr("@guidetext"))){var t=new ql(this.attrs);t.connect(this),t.render(),this.children.push(t)}}},{key:"renderPieText",value:function(){if(this.parent&&this.parent.attr("@text")){var t=new Vl(this.attrs);t.connect(this),t.render(),this.children.push(t)}}},{key:"renderLegend",value:function(t){this.parent.emit(J.renderLegend,G()({},this.attrs.dataOrigin,this.parent.dataFields,{color:this.attrs.fillColor,disabled:this.attrs.dataOrigin.disabled,index:t,_from:this.parent}))}},{key:"onMousemove",value:function(){var t=this,e=this.parent.style("sector:hover")(this.attrs,this.attrs.dataOrigin,this._index)||{},n={normal:Object.keys(e).reduce(function(e,n){return e[n]=t.$ring.attr(n),e},{}),hover:e};this.$ring.attr("states",n),this.$ring.attr("actions",[{both:["normal","hover"],duration:300}]),this.$ring.on("mousemove",function(e){t.$ring.attr("state","hover"),e.index=t._index,e.data=Object.assign({},t.attrs.dataOrigin,{color:t.attrs.fillColor}),t.parent.chart.setCanvasCursor("pointer"),t.parent.emit(J.showTooltip,e),e.stopPropagation(),e.stopDispatch()})}},{key:"onClick",value:function(){var t=this,e=!1;this.$ring.on("click",function(){if(e)t.$group.transition(.3).attr("translate",[0,0]),e=!1;else{var n=t.attrs,r=(n.startAngle+n.endAngle)/2,i=[20*Math.cos(r),20*Math.sin(r)];t.$group.transition(.3).attr("translate",i),e=!0}t.parent.emit("select",t.attrs,t.attrs.dataOrigin,t._index)})}},{key:"onMouseleave",value:function(){var t=this;this.$ring.on("mouseleave",function(e){t.parent.chart.setCanvasCursor("default"),t.parent.emit(J.hideTooltip,e),t.$ring.attr("state","normal"),e.stopPropagation(),e.stopDispatch()})}},{key:"updateChildren",value:function(){var t=this;this.children.forEach(function(e){return e.update&&e.update(t.attrs)})}},{key:"render",value:function(){var t=Bl()(Hl.a.mark(function t(e,n){return Hl.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.attrs=n,this.$group=new i.Group({}),this.$ring=new i.Ring(G()({},n,{zIndex:999})),this.parent.$group.appendChild(this.$group),this.$group.appendChild(this.$ring),t.next=7,this.$ring.animate([{startAngle:e&&e.startAngle||n.startAngle,endAngle:e&&e.endAngle||n.startAngle},{startAngle:n.startAngle,endAngle:n.endAngle}],{duration:300,fill:"forwards"}).finished;case 7:this.renderLegend(this.attrs.index),this.renderPieText(),this.renderGuideLine(),this.onMousemove(),this.onClick(),this.onMouseleave();case 13:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.attrs,n=e.startAngle,r=e.endAngle,i=t.startAngle,o=t.endAngle,a=zi()(t,["startAngle","endAngle"]);this.attrs=t,this.$ring.attr(a),this.$ring.animate([{startAngle:n,endAngle:r},{startAngle:i,endAngle:o}],{duration:300,fill:"forwards"}).finished,this.updateChildren(),this.renderLegend(this.attrs.index)}},{key:"disconnect",value:function(){this.parent.$group.removeChild(this.$group)}}]),t}(),Jl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.min.apply(null,t.map(function(t){return t.endAngle-t.startAngle}));e>0&&(e=e>n?n/2:e,t.forEach(function(t){t.startAngle+=e/2,t.endAngle-=e/2}))},Zl=2*Math.PI,Ql=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e);var r={radius:.95,innerRadius:0,startAngle:-.5*Math.PI,endAngle:1.5*Math.PI,padAngle:0};return(t=p()(this,v()(e).call(this,Object.assign({},r,n)))).sectors=[],t.elements=[],t}return b()(e,t),f()(e,[{key:"arcs",value:function(t){var e=this,n=this.dataFields,r=n.x,i=n.y,o=this.attr(),a=o.startAngle,u=o.endAngle,s=o.padAngle,l=this.style("sector"),c=function(){var t=function(t){return t},e=0,n=Zl,r=0;function i(i){for(var o,a,u=0,s=i.length,l=0,c=new Array(s);u<s;)i[u].disabled||(l+=t(i[u])),u++;for(u=0;u<s;){var f=u>=1?c[u-1].endAngle:e,h=(o=t(i[u]),(a=l)<=0?0:o/a),p=i[u].disabled?f:f+h*(n-e);c[u]={index:u,startAngle:f,endAngle:p,padAngle:r,proportion:h,disabled:i[u].disabled},u++}return Jl(c,r),c}return i.value=function(e){return t=e,i},i.startAngle=function(t){return e=t,i},i.endAngle=function(t){return n=t,i},i.padAngle=function(t){return r=t,i},i}().startAngle(a).endAngle(u).padAngle(s).value(function(t){return t[i]})(t),f=this.pos,h=this.maxRadius,p=this.innerRadius,d=this.attr("rose"),v=[];if(d){v=c.map(function(t){return h*t.proportion});var g=~~(h/Math.max.apply(v,v.map(function(t){return Math.ceil(t)})));v=v.map(function(t){return t*g})}else v=c.map(function(){return h});return c.forEach(function(n,o){n.maxRadius=h,n.radius=h,n.outerRadius=v[o],n.innerRadius=p,n.translate=[0,0],n.pos=f,n.center=f,n.fillColor=e.color(o),n.dataCategory=t[o][r],n.dataValue=t[o][i],n.dataOrigin=t[o],n.disabled?n.lineWidth=0:(Object.assign(n,"function"==typeof l?l(n,t[o],o):l||{}),n.lineWidth&&n.lineWidth>1&&(n.startAngle+n.endAngle)%Math.PI*2<=0&&c.filter(function(t){return!t.disabled}).length<=1&&(n.lineWidth=0))}),c}},{key:"_addElement",value:function(t,e){var n=this.sectors[e],r=t[e];if(!n)if(e===this.sectors.length){var i=this.sectors[e-1];n={startAngle:i.startAngle,endAngle:i.endAngle}}else n={startAngle:t[e-1].startAngle,endAngle:r.endAngle};var o=new Xl;o.index(e),o.connect(this),o.render(n,r),this.elements[e]=o}},{key:"render",value:function(){var t=this,e=this.data;this.sectors=this.arcs(e),this.sectors.map(function(e,n){var r=new Xl;r.index(n),r.connect(t),r.render(null,e),t.elements[n]=r})}},{key:"update",value:function(t,e){var n=this;this.emit("legend:clear");var r=this.arcs(e);$(t,e).add(function(t){return n._addElement(r,t)}).update(function(t){return n.elements[t]&&n.elements[t].update(r[t])}).remove(function(t){n.elements[t]&&n.elements[t].disconnect&&n.elements[t].disconnect()}).execute()}},{key:"maxRadius",get:function(){var t=this.attr(),e=t.startAngle,n=t.endAngle,r=t.radius,i=this.chart.attr("size"),o=u()(i,2),a=o[0],s=o[1];return n-e==Math.PI/2?Math.min(a,s)*r:Math.min(a,s)/2*r}},{key:"innerRadius",get:function(){var t=this.attr(),e=t.radius,n=t.innerRadius;return n<=0?0:this.maxRadius/e*n}},{key:"pos",get:function(){var t=this.attr(),e=t.startAngle,n=t.endAngle,r=t.radius,i=(n+e)/2,o=this.chart.attr("size"),a=u()(o,2),s=a[0],l=a[1],c=this.maxRadius,f=s/2-c,h=l/2-c;if(n-e==Math.PI/2){var p=r*s,d=r*l;f+=Math.cos(i)<0?p/2:-p/2,h+=Math.sin(i)<0?d/2:-d/2}return[f,h]}}]),e}(st),Kl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.parent=null,this.container=null,this.$label=null,this.attrs=e}return f()(t,[{key:"connect",value:function(t){this.parent=t}},{key:"render",value:function(){var t=this,e=this.attrs,n=e.dataOrigin,r=e.index,o=this.parent.parent.style("text")(this.attrs,n,r),a=this.parent.parent.style("text:hover")(this.attrs,n,r);if(o){var u=Object.assign({},{font:'18px "黑体"',anchor:[.5,.5],zIndex:999},this.attrs.labelAttrs,o),s=Object.assign({},{font:'18px "黑体"',anchor:[.5,.5],zIndex:999},this.attrs.labelAttrs,a);this.$label=new i.Label(G()({font:'18px "黑体"',anchor:[.5,.5]},u,{zIndex:1e3})),this.$label.on("mouseenter",function(e){a&&t.$label.attr(s)}).on("mouseleave",function(e){o&&t.$label.attr(u)}),this.parent.parent.$group&&this.parent.parent.$group.appendChild(this.$label)}}},{key:"update",value:function(t){if(this.$label){this.attrs=t;var e=this.attrs.labelAttrs;this.$label&&this.$label.attr(e)}}},{key:"disconnect",value:function(){this.parent.parent.$group.removeChild(this.$label)}}]),t}(),tc=function(){function t(){l()(this,t),this._index=0,this.parent=null,this.$pillar=null,this.attrs={},this.children=[],this.normalStyle=null,this.hoverStyle=null,this.text=null}return f()(t,[{key:"index",value:function(t){this._index=t}},{key:"connect",value:function(t){this.parent=t}},{key:"updateChildren",value:function(){var t=this;this.children.forEach(function(e){return e.update&&e.update(t.attrs)})}},{key:"renderBarText",value:function(t){this.parent&&this.parent.attr("@text")&&(this.text=new Kl(this.attrs),this.text.connect(this),this.text.render(t),this.children.push(this.text))}},{key:"renderLegend",value:function(t){this.parent.emit(J.renderLegend,G()({},this.attrs.dataOrigin,this.parent.dataFields,{color:this.attrs.fillColor,disabled:this.attrs.dataOrigin.disabled,index:t,_from:this.parent}))}},{key:"render",value:function(){var t=Bl()(Hl.a.mark(function t(e,n){var r,o,a=this;return Hl.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.attrs=n,this.$pillar=new i.Rect({index:2}),this.parent.$group.appendChild(this.$pillar),this.changeState(this.attrs),r=Object.assign(n,this.normalStyle),o=(new ji).to(G()({},r)).duration(300).onUpdate(function(t){return a.$pillar.attr(t)}),e?o.from(e):o.from({sides:this.parent.attr("transpose")?[0,n.sides[1]]:[n.sides[0],0]}),o.start().then(function(){a.renderBarText(n.labelAttrs),a.onMouseHandler()});case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.attrs,r=n.pos,i=n.sides,o=n.labelAttrs;this.changeState(e);var a=Object.assign(e,this.normalStyle),u=o.opacity;o.opacity=0,new ji({pos:r,sides:i,labelAttrs:o}).to(G()({},a)).duration(300).onUpdate(function(e){t.attrs=e,t.$pillar.attr(e),u&&t.updateChildren()}).onComplete(function(){t.updateChildren(),t.$pillar.attr(a)}).start()}},{key:"changeState",value:function(t){this.hoverStyle=this.parent.style("pillar:hover")(t,t.dataOrigin,this._index)||{},this.normalStyle=this.parent.style("pillar")(t,t.dataOrigin,this._index)||{}}},{key:"onMouseHandler",value:function(){var t=this;this.$pillar.on("mousemove",function(e){t.$pillar.attr(t.hoverStyle)}).on("mouseleave",function(e){t.$pillar.attr(t.normalStyle)})}},{key:"disconnect",value:function(){this.text&&this.text.disconnect(),this.parent.$group.removeChild(this.$pillar)}}]),t}(),ec=function(){function t(){l()(this,t),this._index=0,this.color=null,this.parent=null,this.container=null,this.$pillar=null,this.attrs={},this.isGroup=!1}return f()(t,[{key:"index",value:function(t){this._index=t}},{key:"connect",value:function(t){this.parent=t}},{key:"render",value:function(t){this.attrs=t,this.$pillar=new i.Rect({zIndex:1}),this.parent.$group.appendChild(this.$pillar),this.$pillar.attr(t),this.onMousemove(),this.onMouseleave()}},{key:"renderLegend",value:function(t){this.parent.emit(J.showLegend,G()({},this.parent.data[t],this.parent.dataFields,{color:this.attrs.rect.fillColor,disabled:!1,index:t}))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$pillar.attr(t)}},{key:"onMousemove",value:function(){var t=this,e=this.attrs.dataOrigin,n=this.parent.style("backgroundpillar")(this.attrs,e,this._index),r=this.parent.style("backgroundpillar:hover")(this.attrs,e,this._index),i={normal:Object.assign({},this.attrs,{opacity:1e-4},n),hover:Object.assign({},this.attrs,{opacity:.1},r)};this.$pillar.attr("states",i),this.$pillar.attr("actions",[{both:["normal","hover"],duration:300}]),this.$pillar.on("mousemove",function(e){e.index=t._index,e.data=t.attrs.data?t.attrs.data:Object.assign(t.attrs,{color:t.attrs.rect.fillColor}),t.parent.emit(J.showTooltip,e),t.$pillar.attr("state","hover")}).on("mouseleave",function(e){t.$pillar.attr("state","normal")})}},{key:"onClick",value:function(){}},{key:"onMouseleave",value:function(){var t=this;this.parent.$group.on("mouseleave",function(e){t.parent.emit(J.hideTooltip,e),e.stopDispatch()}),this.$pillar.on("mouseleave",function(e){t.$pillar.attr("state","normal"),e.stopDispatch()})}},{key:"disconnect",value:function(){this.parent.$group.removeChild(this.$pillar)}}]),t}(),nc=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).pillars=[],t.interactPillars=[],t.scalelines=[],t.elements=[],t.interactElements=[],t.legendArr=null,t.isGroup=!1,t.oldRenderData=null,t.convertData=null,t.stack=!1,t.transpose=!1,t.isGroup=!1,t.isUpdateLegend=!0,t}return b()(e,t),f()(e,[{key:"bar",value:function(t){var e=this,n=t.data.length,r={data:t,size:this.size,axisMargin:this.margin,barWidth:this.barWidth||0,stack:this.stack,isGroup:this.isGroup,transpose:this.transpose,legendArr:this.legendArr,barAttrs:this.barAttrs,labelPosition:this.labelPosition,themeColor:this.color},i=function(t){var e=t.data,n=t.legendArr,r=t.size,i=t.axisMargin,o=t.transpose,a=t.isGroup,u=t.labelPosition,s=t.stack,l=t.barAttrs,c=t.barWidth,f=[],h=[],p=[],d=[],v=function(t,e,n,r){var i=[];if(e){if(n)for(var o=0,a=t.meta.length;o<a;o++){for(var u=0,s=0,l=0,c=t.data.length;l<c;l++)0!==r[l]&&(t.data[l].value[o]<0?s+=t.data[l].value[o]:u+=t.data[l].value[o]);u&&i.push(u),s&&i.push(s)}else for(var f=0,h=t.data.length;f<h;f++)if(0!==r[f])for(var p=0,d=t.data[f].value.length;p<d;p++)i.push(t.data[f].value[p])}else for(var v=0,g=t.data.length;v<g;v++)0!==r[v]&&i.push(t.data[v].value);return z(i)}(e,a,s,n);if(!v||!v.length)return{lineData:p,axis:{},barData:f,groupData:h};var g=o?{label:r[1]-i[0]-i[2],value:r[0]-i[1]-i[3]}:{label:r[0]-i[1]-i[3],value:r[1]-i[0]-i[2]},y=Math.max.apply(this,v),m=Math.min.apply(this,v),b=y/(y-m),x=v.length-1,w=function(t){if(t&&null!==t){for(var e=0,n=0,r=t.length;n<r;n++)1===t[n]&&e++;return e||1}return.1}(n),_=0;if(0===c?(c=a?s?.5*g.label/e.meta.length:.5*g.label/(e.meta.length*w):.5*g.label/w,_=a&&!s?c*w:c):_=a?s?(g.label-c*e.meta.length)/e.meta.length:(g.label-c*w*e.meta.length)/e.meta.length:(g.label-c*w)/w,a)if(s)for(var k=0,M=e.meta.length;k<M;k++)d.push({offset:String(100*((_+c)/2+(_+c)*k)/g.label)+"%",label:o?e.meta[M-k-1].label:e.meta[k].label});else for(var S=0,C=e.meta.length;S<C;S++)d.push({offset:String((_+c*w)*(50+100*S)/g.label)+"%",label:o?e.meta[C-S-1].label:e.meta[S].label});else{for(var O=0,A=[],P=0,E=e.data.length;P<E;P++)0!==n[P]?(d.push({offset:String(100*((_+c)/2+(_+c)*(P-O))/g.label)+"%"}),A.push(e.data[P].label)):O++;o&&A.reverse(),d=A.map(function(t,e){return{offset:d[e].offset,label:t}})}for(var j=1,T=v.length;j<T;j++){var $={};$.points=o?[[i[3]+g.value/x*j,r[1]-i[2]],[i[3]+g.value/x*j,i[0]]]:[[i[3],r[1]-i[2]-g.value/x*j],[r[0]-i[1],r[1]-i[2]-g.value/x*j]],p.push($)}var D={labelAxis:{scales:d,orient:o?"left":"bottom",padding:i},valueAxis:{scales:v.map(function(t){return{label:t}}),orient:o?"bottom":"left",padding:i}},L=g.value/(y-m),R=new Array(2),F=new Array(2),N=0,I=0,W=0;if(o&&!a){var U=0;for(var H in e.data){var Y=e.data[H].value,B=L*Math.abs(Y),q=Y<0?[1,0]:[0,0],V=G()({anchor:q,sides:[B,c],pos:[i[3]+g.value*(1-b),Math.round(i[0]+_/2+(c+_)*(H-U))]},e.data[H],{labelAttrs:{text:e.data[H].text?e.data[H].text:Y},index:H});switch(0===n[H]&&(V.sides[0]=0,U++),u){case"top":R=[I=Y<0?i[3]+g.value*(1-b)-3:i[3]+g.value*(1-b)+3,W=i[0]+_/2+(c+_)*(H-U)-3],F=Y<0?[1,1]:[0,1];break;case"left":case"right":case"side":R=[I=Y<0?i[3]+g.value*(1-b)-B-3:i[3]+g.value*(1-b)+B+3,W=i[0]+_/2+(c+_)*(H-U)+.5*c],F=Y<0?[1,.5]:[0,.5];break;default:R=[I=Y<0?i[3]+g.value*(1-b)-3:i[3]+g.value*(1-b)+3,W=i[0]+_/2+(c+_)*(H-U)+.5*c],F=Y<0?[1,.5]:[0,.5]}Object.assign(V.labelAttrs,{opacity:n[H]?1:0,pos:R,anchor:F,rotate:N}),l&&Object.assign(V,l),e.data[H].barAttrs&&Object.assign(V,e.data[H].barAttrs),f.push(V);var X={rect:V,value:V.value,label:V.label,pos:[i[3],i[0]+(_+c)*(H-U)],sides:[g.value,n[H]?c+_:0],opacity:1e-4,fillColor:"#000"};h.push(X)}}else if(o||a)if(o&&a)if(s)for(var J=0,Z=e.meta.length;J<Z;J++){for(var Q=[],K=0,tt=0,et=0,nt=0,rt=e.data.length;nt<rt;nt++){et=e.data[nt].value[J];var it=L*Math.abs(et),ot=et<0?i[3]+g.value*(1-b)-tt:i[3]+g.value*(1-b)+K,at={anchor:et<0?[1,0]:[0,0],sides:[it,c],pos:[ot,i[0]+_/2+(c+_)*J],value:e.data[nt].value[J],label:e.data[nt].label,labelAttrs:{opacity:n[nt]?1:0,text:e.data[nt].text&&e.data[nt].text[J]?e.data[nt].text[J]:e.data[nt].value[J],pos:[ot,i[0]+(_+c)/2+(c+_)*J],anchor:et<0?[1,.5]:[0,.5],rotate:0},index:nt};0===n[nt]?at.sides[0]=0:et<0?tt+=it:K+=it,l&&Object.assign(at,l),e.data[nt].barAttrs&&Object.assign(at,e.data[nt].barAttrs),f.push(at),Q.push({label:at.label,value:at.value})}var ut={rects:f.slice(f.length-e.data.length,f.length+1),data:Q,title:e.meta[J].label,pos:[i[3],i[0]+(_+c)*J],sides:[g.value,c+_],opacity:1e-4,fillColor:"#000"};h.push(ut)}else for(var st=0,lt=e.meta.length;st<lt;st++){for(var ct=0,ft=0,ht=[],pt=0,dt=e.data.length;pt<dt;pt++){var vt={anchor:(ft=e.data[pt].value[st])<0?[1,0]:[0,0],sides:[L*Math.abs(ft),c],pos:[i[3]+g.value*(1-b),i[0]+_/2+c*(pt-ct)+(c*w+_)*st],value:ft,label:e.data[pt].label,labelAttrs:{opacity:n[pt]?1:0,text:e.data[pt].text?e.data[pt].text[st]:ft,pos:[i[3]+g.value*(1-b),i[0]+_/2+c*(pt-ct)+(c*w+_)*st+.5*c],anchor:ft<0?[1,.5]:[0,.5],rotate:0},index:pt};0===n[pt]&&(vt.sides[0]=0,ct++),l&&Object.assign(vt,l),e.data[pt].barAttrs&&Object.assign(vt,e.data[pt].barAttrs),f.push(vt),ht.push({label:vt.label,value:vt.value})}var gt={rects:f.slice(f.length-e.data.length,f.length+1),data:ht,title:e.meta[st].label,pos:[i[3],i[0]+(_+c*w)*st],sides:[g.value,c*w+_],opacity:1e-4,fillColor:"#000"};h.push(gt)}else if(s)for(var yt=0,mt=e.meta.length;yt<mt;yt++){for(var bt=0,xt=0,wt=0,_t=[],kt=0,Mt=e.data.length;kt<Mt;kt++){wt=e.data[kt].value[yt];var St=L*Math.abs(wt),Ct=wt<0?i[0]+g.value*b+xt:i[0]+g.value*b-bt,Ot=wt<0?i[0]+g.value*b+xt+St:i[0]+g.value*b-bt,At={anchor:wt<0?[0,0]:[0,1],sides:[c,St],pos:[i[3]+_/2+(c+_)*yt,Ct],value:wt,label:e.data[kt].label,labelAttrs:{opacity:n[kt]?1:0,text:e.data[kt].text&&e.data[kt].text[yt]?e.data[kt].text[yt]:wt,anchor:[.5,1],pos:[i[3]+(_+c)/2+(c+_)*yt,Ot]},index:kt};0===n[kt]?At.sides[1]=0:wt<0?xt+=St:bt+=St,l&&Object.assign(At,l),e.data[kt].barAttrs&&Object.assign(At,e.data[kt].barAttrs),f.push(At),_t.push({label:At.label,value:At.value})}var Pt={rects:f.slice(f.length-e.data.length,f.length+1),data:_t,title:e.meta[yt].label,pos:[i[3]+(_+c)*yt,i[0]],sides:[c+_,g.value],opacity:1e-4,fillColor:"#000"};h.push(Pt)}else for(var Et=0,jt=e.meta.length;Et<jt;Et++){for(var Tt=0,$t=0,Dt=[],Lt=0,zt=e.data.length;Lt<zt;Lt++){var Rt={anchor:($t=e.data[Lt].value[Et])<0?[0,0]:[0,1],sides:[c,L*Math.abs($t)],pos:[i[3]+_/2+c*(Lt-Tt)+(c*w+_)*Et,i[0]+g.value*b],value:$t,label:e.data[Lt].label,labelAttrs:{opacity:n[Lt]?1:0,text:e.data[Lt].text&&e.data[Lt].text[Et]?e.data[Lt].text[Et]:$t,anchor:[0,.5],pos:[i[3]+_/2+c*(Lt-Tt)+(c*w+_)*Et+.5*c,i[0]+g.value*b],rotate:$t<0?90:270},index:Lt};0===n[Lt]&&(Rt.sides[0]=0,Tt++),l&&Object.assign(Rt,l),e.data[Lt].barAttrs&&Object.assign(Rt,e.data[Lt].barAttrs),f.push(Rt),Dt.push({label:"".concat(Rt.label),value:"".concat(Rt.value)})}var Ft={rects:f.slice(f.length-e.data.length,f.length+1),data:Dt,title:e.meta[Et].label,pos:[i[3]+(_+c*w)*Et,i[0]],sides:[c*w+_,g.value],opacity:1e-4,fillColor:"#000"};h.push(Ft)}else{var Nt=0;for(var It in e.data){var Wt=e.data[It].value,Gt=L*Math.abs(Wt),Ut=Wt<0?[0,0]:[0,1],Ht=G()({anchor:Ut,sides:[c,Math.round(Gt)],pos:[Math.round(i[3]+_/2+(c+_)*(It-Nt)),i[0]+g.value*b]},e.data[It],{labelAttrs:{text:e.data[It].text?e.data[It].text:Wt},index:It});switch(0===n[It]&&(Ht.sides[0]=0,Nt++),u){case"center":I=i[3]+_/2+(c+_)*(It-Nt)+.5*c,W=Wt<0?i[0]+g.value*b+3:i[0]+g.value*b-3,F=[0,.5],N=Wt<0?90:270;break;case"right":I=i[3]+_/2+(c+_)*(It-Nt)+c+3,W=Wt<0?i[0]+g.value*b+3:i[0]+g.value*b-3,F=Wt<0?[1,0]:[1,1],N=Wt<0?270:90;break;case"left":I=i[3]+_/2+(c+_)*(It-Nt)-3,W=Wt<0?i[0]+g.value*b+3:i[0]+g.value*b-3,R=[i[3]+_/2+(c+_)*(It-Nt)-3,i[0]+g.value-3],F=Wt<0?[0,0]:[0,1],N=Wt<0?90:270;break;case"top":default:I=i[3]+_/2+(c+_)*(It-Nt)+.5*c,W=Wt<0?i[0]+g.value*b+Gt+3:i[0]+g.value*b-Gt-3,F=Wt<0?[.5,0]:[.5,1]}R=[I,W],Object.assign(Ht.labelAttrs,{opacity:n[It]?1:0,pos:R,anchor:F,rotate:N}),l&&Object.assign(Ht,l),e.data[It].barAttrs&&Object.assign(Ht,e.data[It].barAttrs),f.push(Ht);var Yt={label:Ht.label,value:Ht.value,rect:Ht,pos:[i[3]+(_+c)*(It-Nt),i[0]],sides:[n[It]?c+_:0,g.value],opacity:1e-4,fillColor:"#000"};h.push(Yt)}}return{lineData:p,axis:D,barData:f,groupData:h}}(r);return i.barData.forEach(function(r,i){r.fillColor=r.fillColor||e.color(i%n),r.dataCategory=r.label?r.label:"",r.dataValue=r.value?r.value:"",r.dataOrigin=O(t.data[i]),Object.assign(r.dataOrigin,{disabled:!1})}),i.groupData.forEach(function(n,r){n.dataOrigin=O(e.isGroup?t.meta[r]:t.data[r])}),i}},{key:"_hideTooltip",value:function(){var t=this;this.container.on("mouseleave",function(e){t.emit(J.showTooltip,e),e.stopDispatch()})}},{key:"onLegendToggle",value:function(t){var e=t.index,n=t.disabled;this.legendArr[e]=n?0:1,this.isUpdateLegend=!1,this.update()}},{key:"emitAxis",value:function(t){var e=this,n=t.axis,r=n.labelAxis,i=n.valueAxis,o=this.attr("transpose")?i:r;["bottom","top","left","right"].forEach(function(t){"left"!==t&&"right"!==t||(o=e.attr("transpose")?r:i),e.emit(J.axisReady,G()({},o,{orient:t}))})}},{key:"emitGrid",value:function(t){this.emit(J.gridReady,t.lineData)}},{key:"render",value:function(){var t=this;this.transpose=this.attr("transpose")||!1;var e=this.dataProcessing(this.data);this.oldRenderData=e,this.renderLegend(this.convertData.data,e.barData,this.isGroup),this.emitAxis(e),this.emitGrid(e),this.pillars=e.barData,this.interactPillars=e.groupData,this.scalelines=e.lineData,this.pillars.map(function(e,n){var r=new tc;r.index(n),r.connect(t),r.render(null,e),t.elements.push(r)}),this.interactPillars.map(function(e,n){var r=new ec;r.isGroup=t.isGroup,e.data&&e.data.forEach(function(e,n){e.color=e.color?e.color:t.color(n)}),r.index(n),r.connect(t),r.render(e),t.interactElements.push(r)})}},{key:"update",value:function(){var t=Bl()(Hl.a.mark(function t(){var e,n,r,i,o=this;return Hl.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.oldRenderData.barData,n=this.dataProcessing(this.data),r=n.barData,i=n.groupData,this.emitAxis(n),this.emitGrid(n),this.isUpdateLegend&&this.renderLegend(this.convertData.data,n.barData,this.isGroup),this.isUpdateLegend=!0,this.interactElements.forEach(function(t){t.disconnect()}),this.interactElements=[],i.forEach(function(t,e){var n=new ec;n.isGroup=o.isGroup,t.data&&t.data.forEach(function(t,e){t.color=t.color?t.color:o.color(e)}),n.index(e),n.connect(o),n.render(t),o.interactElements.push(n)}),t.next=13,$(e,r).add(function(t){return o._addElement(r,t)}).update(function(t){return o.elements[t]&&o.elements[t].update(r[t])}).remove(function(t){o.elements[t]&&(o.elements[t].disconnect(),o.elements[t]=null)}).execute();case 13:this.oldRenderData=n;case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"renderLegend",value:function(t,e){var n=this;this.emit("legend:clear"),t.forEach(function(r,i){n.emit(J.renderLegend,G()({},t[i],{x:"label",y:"value",color:e[i].fillColor,disabled:!1,index:i,_from:n}))})}},{key:"_addElement",value:function(t,e){var n=t[e],r=new tc;r.index(e),r.connect(this),r.render(null,n),this.elements[e]=r}},{key:"judgeDimension",value:function(t){var e=0;return t&&k(t)&&M(t[0])?(t[0].hasOwnProperty("text")&&e++,t[0].hasOwnProperty("barAttrs")&&e++,Object.keys(t[0]).length-e):2}},{key:"dataProcessing",value:function(t){var e=this.dataFields,n=e.x,r=e.y,i=e.category,o=t.map(function(t){return t}),a=this.judgeDimension(o);return this.convertData=3===a?this.dataConvert(o,n,r,i):{data:o},this.isUpdateLegend&&(this.legendArr=Array.from({length:this.convertData.data.length},function(){return 1})),this.isGroup=!(!this.convertData.meta||!this.convertData.meta.length),this.stack=this.isGroup&&this.attr("stack")||!1,this.bar(this.convertData)}},{key:"dataConvert",value:function(t,e,n,r){var i=[],o=[];t.forEach(function(t,n){o.push(t[e]),i.push(t[r])}),i=E()(new Set(i)),o=E()(new Set(o));var a=[];o.forEach(function(t){a.push({label:t})});for(var u=new Map,s=[],l=0,c=i.length;l<c;l++){for(var f=new Map,h=0,p=o.length;h<p;h++)f.set(o[h],0);s.push(f)}var d=0;i.forEach(function(t){u.set(t,s[d]),d++}),t.forEach(function(t,i){u.get(t[r]).set(t[e],t[n])});var v=[];return u.forEach(function(t,e){var n=[];t.forEach(function(t){n.push(Number(t))}),v.push({label:e,value:n})}),{meta:a,data:v}}},{key:"size",get:function(){return this.chart.attr("size")}},{key:"margin",get:function(){var t=this.attr().margin;return void 0===t?[50,50,50,50]:t}},{key:"barWidth",get:function(){var t=this.attr().barWidth;return void 0===t?0:t}},{key:"barAttrs",get:function(){var t=this.attr().barAttrs;return void 0===t?{}:t}},{key:"labelPosition",get:function(){var t=this.attr().labelPosition;return void 0===t?"center":t}}]),e}(st),rc=n(87),ic=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),p()(this,v()(e).call(this,t))}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{min:0,max:100,hoverBg:"#f8f8f8",label:!0,labelPosition:"bottom",labelStyle:function(){return{}},type:"wave",radius:50,innerRadius:40,offset:10,lineWidth:1,startAngle:0*Math.PI,endAngle:2*Math.PI,strokeBgcolor:"#ccc",symbolSize:40,symbolScale:1,formatter:function(t){return t}}}},{key:"formatter",value:function(t){return this.attr("formatter",t),this}},{key:"labelStyle",value:function(t){return this.attr("labelStyle",t),this}},{key:"calculate",value:function(t){var e=this.attr(),n=e.min,r=e.max,i=this.dataFields.y,o=r-n,a=function(t){return t/o>1?1:t/o};return t.map(function(t){return t&&t[i]}).map(function(e,n){return{index:n,dataOrigin:t[n],proportion:k(e)?e.map(a):a(e)}})}},{key:"renderWaves",value:function(t){var e=this,n=this.attr(),r=n.radius,o=n.offset,a=n.lineWidth;return t.map(function(t){var n,u=G()({percent:t.proportion,radius:r,offset:o,lineWidth:a,wavesColor:e.color(t.index),outlineColor:e.color(t.index),bgcolor:"transparent"},t,e.style("normal")(t,t.dataOrigin,t.index)),s=n=new i.Wave(G()({},u,{percent:k(u.percent)?u.percent.map(function(t){return 0}):0}));s.transition(.3).attr("percent",u.percent);var l=0;return function t(){l+=.1,s.attr("speed",l),requestAnimationFrame(t)}(),{attrs:u,componentInstance:n}})}},{key:"renderSymbols",value:function(t){var e=this,n=this.attr(),r=n.lineWidth,o=n.symbolSize,a=n.symbolScale;return t.map(function(t){var n,u=G()({lineWidth:r,color:e.color(t.index),fillColor:e.color(t.index),size:k(o)?o:[o,o],scale:a},t,e.style("normal")(t,t.dataOrigin,t.index)),s=t.dataOrigin.symbol||"",l=/^path:\/\//.test(s),c=n=new(l?i.Path:i.Sprite)(s.replace(/^path:\/\//,""));return l&&delete u.size,c.attr(u),{attrs:u,componentInstance:n}})}},{key:"renderPies",value:function(t){var e=this,n=this.attr(),r=n.radius,o=n.innerRadius,a=n.startAngle,u=n.endAngle,s=n.strokeBgcolor,l=r,c=u-a;return t.map(function(t){var n,r=G()({maxRadius:l,outerRadius:l,innerRadius:o,color:e.color(t.index),fillColor:e.color(t.index)},t,{startAngle:a},e.style("normal")(t,t.dataOrigin,t.index),{endAngle:c*t.proportion}),f=n=new i.Group({border:[1,"transparent"]}),h=new i.Ring(G()({},t,{startAngle:a,endAngle:u,maxRadius:l,outerRadius:l,innerRadius:o,fillColor:s})),p=new i.Ring(G()({},r,{endAngle:0}));return p.transition(.3).attr("endAngle",r.endAngle),f.appendChild(h),f.appendChild(p),{attrs:r,componentInstance:n}})}},{key:"renderGroup",value:function(t){var e=this,n=t.attrs,r=t.componentInstance,o=this.attr(),a=o.label,u=o.labelPosition,s=o.formatter,l=this.chart.getHeight(),c=new i.Group;if(a){var f=this.attr("labelStyle");Object(rc.isFunction)(f)||(f=function(){return f||{}});var h=new i.Label(G()({text:s(n.dataOrigin),zIndex:1},f(n,n.dataOrigin,n.index)));"top"===u||"left"===u?(c.appendChild(h),c.appendChild(r)):(c.appendChild(r),c.appendChild(h))}else c.appendChild(r);c.on("mousemove",function(t){t.index=n.index,t.data=Object.assign({},n.dataOrigin,{color:n.color||n.fillColor}),c.attr("bgcolor",e.attr("hoverBg")),e.chart.setCanvasCursor("pointer"),e.emit(J.showTooltip,t)}),c.on("mouseleave",function(t){c.attr("bgcolor","transparent"),e.chart.setCanvasCursor("default"),e.emit(J.hideTooltip,t)}),this.$group.appendChild(c),c.attr({height:l,padding:[5,5],display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"left"===u||"right"===u?"row":"column"})}},{key:"enhanceCalculate",value:function(){var t=this.calculate(this.data),e=[];switch(this.attr("type")){case"pie":e=this.renderPies(t);break;case"symbol":e=this.renderSymbols(t);break;case"wave":default:e=this.renderWaves(t)}return e}},{key:"render",value:function(){var t=this.chart.getSize(),e=u()(t,2),n=e[0],r=e[1];this.$group.attr({size:[n,r],display:"flex",justifyContent:"space-around",alignItems:"center"}),this.enhanceCalculate().map(this.renderGroup.bind(this))}},{key:"update",value:function(t,e){this.forceUpdate()}}]),e}(st),oc=function(){function t(e){l()(this,t),this._index=0,this.parent=null,this.$group=null,this.section=null,this.attrs={},this.style={},this.children=[],this.type=e.type||""}return f()(t,[{key:"index",value:function(t){this._index=t}},{key:"connect",value:function(t){this.parent=t}},{key:"updateChildren",value:function(){var t=this;this.children.forEach(function(e){return e.update&&e.update(t.attrs)})}},{key:"render",value:function(){throw new Error("The render method must be implemented!")}},{key:"update",value:function(){throw new Error("The update method must be implemented!")}},{key:"getStyleParams",value:function(){throw new Error("The getStyleParams method must be implemented!")}},{key:"_getSettingStyle",value:function(t){return["label","point"].includes(this.type)?this.parent.parent.style(t):this.parent.style(t)}},{key:"getStyle",value:function(){var t=this.getStyleParams(this.attrs),e=t.attr,n=t.data,r=this._getSettingStyle(this.type)(e,n,this._index);void 0===r&&(r={});var i="Boolean"===_(r)?{isShow:r}:r;return this.style=G()({},this.attrs,i),this.style}},{key:"onMousemove",value:function(){var t=this,e=this.getStyleParams(this.attrs),n=e.attr,r=e.data,i=this._getSettingStyle("".concat(this.type,":hover"))(n,r,this._index)||{},o={};Object.keys(n).forEach(function(e){o[e]=t.style[e]});var a={normal:o,hover:i};this.section.attr("states",a),this.section.attr("actions",[{both:["normal","hover"],duration:300}]),this.section.on("mousemove",function(e){t.section.attr("state","hover"),e.stopDispatch()})}},{key:"onMouseleave",value:function(){var t=this;this.section.on("mouseleave",function(e){t.section.attr("state","normal"),e.stopDispatch()})}},{key:"disconnect",value:function(){["label","point"].includes(this.type)?this.parent.parent.$group.removeChild(this.$group):this.parent.$group.removeChild(this.$group)}}]),t}(),ac=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this,{type:"section"}))}return b()(e,t),f()(e,[{key:"render",value:function(t){var e=this;this.attrs=t;var n=this.getStyle(t);!1!==n.isShow&&(this.$group=new i.Group({zIndex:999}),this.section=new i.Polygon({}),this.$group.appendChild(this.section),this.parent.$group.appendChild(this.$group),new ji({scale:0}).to(n).duration(300).onUpdate(function(t){return e.section.attr(t)}).start(),this.onMouseleave(),this.onMousemove())}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.attrs.points;this.attrs=e;var r=this.getStyle(e),i=r.points,o=r.isShow,a=zi()(r,["points","isShow"]);!1!==o&&(this.section.attr(a),new ji({points:n}).to({points:i}).duration(300).onUpdate(function(e){t.section.attr(e),t.updateChildren()}).start())}},{key:"getStyleParams",value:function(){var t=this.attrs;return{attr:{fillColor:t.fillColor,opacity:t.opacity},data:t.dataOrigin}}}]),e}(oc),uc=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this,{type:"grid"}))}return b()(e,t),f()(e,[{key:"render",value:function(t){this.attrs=t;var e=this.getStyle();if(!1!==e.isShow){this.$group=new i.Group({});var n=e.shape;this.section="circle"===n?new i.Circle(G()({},e)):new i.Polygon(G()({},e)),this.parent.$group.appendChild(this.$group),this.$group.appendChild(this.section),this.onMousemove(),this.onMouseleave()}}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.attrs=t;var e=this.getStyle(t);!1!==e.isShow&&this.section.attr(e)}},{key:"getStyleParams",value:function(){var t=this.attrs,e=t.color,n=t.fillColor,r=t.lineWidth,i=t.lineDash,o=t.shape;return{attr:{color:e,fillColor:n,lineWidth:r,lineDash:i,opacity:t.opacity,shape:o},data:{level:t.level}}}}]),e}(oc),sc=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this,{type:"label"}))}return b()(e,t),f()(e,[{key:"render",value:function(t){this.attrs=t;var e=this.getStyle();if(!1!==e.isShow){var n=e.labelPos,r=e.label,o=e.radian,a=this.calcAnchor(o);this.$group=new i.Group({}),this.section=new i.Label(G()({pos:n,anchor:a,text:r,zIndex:1e3},e)),this.parent.$group.appendChild(this.$group),this.$group.appendChild(this.section),this.onMousemove(),this.onMouseleave()}}},{key:"update",value:function(t){this.render(t)}},{key:"calcAnchor",value:function(t){return[.5-Math.cos(t),.5-Math.sin(t)]}},{key:"getStyleParams",value:function(){var t=this.attrs;return{attr:{color:t.color,font:t.font,radian:t.radian},data:{label:t.label}}}}]),e}(oc),lc=function(t){function e(){var t;return l()(this,e),(t=p()(this,v()(e).call(this,{type:"axis"}))).xAxisLabel=[],t}return b()(e,t),f()(e,[{key:"renderText",value:function(){var t=new sc;t.connect(this),t.index(this._index);var e=this.attrs,n=e.label,r=e.labelPos,i=e.radian;t.render({label:n,labelPos:r,color:"#3c3c3c",radian:i,font:"12px 宋体"}),this.children.push(t)}},{key:"renderXScale",value:function(){var t,e=this;this.getAxisLabelsAttr().forEach(function(t){var n=new i.Label(t);e.xAxisLabel.push(n)}),(t=this.$group).append.apply(t,E()(this.xAxisLabel))}},{key:"render",value:function(t){this.attrs=t;var e=this.getStyle(),n=e.color,r=e.lineWidth,o=e.lineDash,a=e.points,u=e.pos,s=e.renderAxisLabel,l=e.isShow;this.$group=new i.Group({pos:u}),this.parent.$group.appendChild(this.$group),this.renderText(),!1!==l&&(this.section=new i.Polyline({color:n,lineWidth:r,points:a,lineDash:o,zIndex:999}),this.$group.appendChild(this.section),s&&this.renderXScale(),this.onMousemove(),this.onMouseleave())}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.attrs=e;var n=this.getStyle();if(!1!==n.isShow){var r=n.color,i=n.lineWidth,o=n.lineDash,a=n.points,u=n.renderAxisLabel;this.section.attr({color:r,lineWidth:i,lineDash:o,points:a}),this.updateChildren(),u&&this.getAxisLabelsAttr().forEach(function(e,n){t.xAxisLabel[n].attr(e)})}}},{key:"getStyleParams",value:function(){var t=this.attrs,e=t.color,n=t.lineWidth,r=t.lineDash,i=t.label,o=t.radian;return{attr:{color:e,lineWidth:n,lineDash:r,renderAxisLabel:t.renderAxisLabel},data:{category:i,radian:o}}}},{key:"getAxisLabelsAttr",value:function(){for(var t=[],e=[1,.5],n=[-5,0],r=this.attrs,i=r.points,o=r.splitNumber,a=r.maxScale,s=u()(i[1],2),l=a/o,c=s[0]/o,f=s[1]/o,h=1;h<o+1;h++){var p=[c*h,f*h],d=l*h;t.push({pos:p,text:d,fillColor:"#3c3c3c",font:'12px "宋体"',anchor:e,translate:n})}return t}}]),e}(oc),cc=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this,{type:"point"}))}return b()(e,t),f()(e,[{key:"render",value:function(t){var e=this;this.attrs=t;var n=this.getStyle();if(!1!==n.isShow){var r=t.groupPos;this.$group=new i.Group({pos:r,zIndex:999});var o=n.symbol,a=n.size,u=this.getSymbolAttr(o,a),s=u.point,l=u.style;this.section=s,this.$group.appendChild(this.section),this.parent.$group.appendChild(this.$group);var c=G()({},n,l),f=c.pos,h=zi()(c,["pos"]);this.section.attr(h),new ji({pos:[0,0]}).to({pos:f}).duration(300).onUpdate(function(t){e.section.attr(t)}).start(),this.onMousemove(),this.onMouseleave()}}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.attrs.pos,r=this.attrs.symbol;this.attrs=e;var i=this.getStyle();if(!1!==i.isShow){var o=i.symbol,a=i.size,u=this.getSymbolAttr(o,a),s=u.point,l=u.style,c=G()({},i,l),f=c.pos,h=zi()(c,["pos"]);r!==this.attrs.symbol&&(this.section=s),this.section.attr(h);var p=e.groupPos;this.$group.attr({pos:p}),new ji({pos:n}).to({pos:f}).duration(300).onUpdate(function(e){return t.section.attr(e)}).start()}}},{key:"getStyleParams",value:function(){var t=this.attrs,e=t.color,n=t.lineWidth,r=t.fillColor,i=t.size,o=void 0===i?2:i,a=t.opacity,u=void 0===a?1:a,s=t.symbol;return{attr:{color:e,lineWidth:n,fillColor:r,size:o,opacity:u,symbol:void 0===s?"circle":s},data:t.dataOrigin}}},{key:"getSymbolAttr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={point:null,style:{}};switch(t){case"circle":n.point=new i.Circle,n.style.radius=e;break;case"triangle":n.point=new i.Triangle({sides:[0,0]}),n.style.angle="-60",n.style.sides=[e,e],n.style.translate=[e/-2,e/2];break;case"square":n.point=new i.Rect,n.style.angle="90",n.style.sides=[e,e],n.style.anchor=[.5,.5];break;case"star":n.point=new i.Star,n.style.radius=e,n.style.angles=5,n.style.translate=[-1*e,0];break;default:n.point=new i.Circle,n.style.radius=e}return n}},{key:"onMousemove",value:function(){var t=this,e=this.getStyle(),n=e.symbol,r=e.size,i=this.getSymbolAttr(n,r).style,o={},a=i,u=this.attrs,s=u.color,l=u.fillColor,c=u.lineWidth,f=this.getSymbolAttr(n,r+2).style,h=this.parent.parent.style("point:hover")({size:r,color:s,fillColor:l,lineWidth:c},this.attrs.dataOrigin,this._index)||f;void 0!==h.size&&h.size!==r&&(o=this.getSymbolAttr(n,h.size).style),h=G()({},h,o);var p=this.parent.parent.style("point")({size:r,color:s,fillColor:l,lineWidth:c},this.attrs.dataOrigin,this._index)||G()({color:e.color,fillColor:e.fillColor,lineWidth:e.lineWidth},i);void 0!==p.size&&p.size!==r&&(a=this.getSymbolAttr(n,p.size).style);var d={normal:p=G()({},p,a),hover:h};this.section.attr("states",d),this.section.attr("actions",[{both:["normal","hover"],duration:300}]),this.section.on("mousemove",function(e){e.data=G()({},t.attrs.dataOrigin,{color:t.attrs.fillColor}),t.parent.parent.emit(J.showTooltip,e),t.section.attr("state","hover"),e.stopDispatch()})}},{key:"onMouseleave",value:function(){var t=this;this.section.on("mouseleave",function(e){t.parent.parent.emit(J.hideTooltip,e),t.section.attr("state","normal"),e.stopDispatch()})}}]),e}(oc),fc=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this,{type:"border"}))}return b()(e,t),f()(e,[{key:"updateChildren",value:function(){var t=this.getPointsAttr();this.children.forEach(function(e,n){e.update&&e.update(t[n])})}},{key:"render",value:function(t){var e=this;this.attrs=t;var n=this.getStyle();!1!==n.isShow&&(this.$group=new i.Group({zIndex:999}),this.section=new i.Polyline({}),this.parent.$group.appendChild(this.$group),this.$group.appendChild(this.section),new ji({scale:0}).to(G()({},n,{scale:1})).duration(300).onUpdate(function(t){return e.section.attr(t)}).start(),this.getPointsAttr().forEach(function(t,n){var r=new cc;r.index(n),r.connect(e),r.render(t),e.children.push(r)}),this.onMousemove(),this.onMouseleave())}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.attrs.points;this.attrs=e;var r=this.getStyle(),i=r.points,o=r.isShow,a=zi()(r,["points","isShow"]);!1!==o&&(this.section.attr(a),new ji({points:n}).to({points:i}).duration(300).onUpdate(function(e){t.section.attr(e)}).start(),this.updateChildren())}},{key:"getPointsAttr",value:function(){var t=this.attrs,e=t.points,n=t.dataOrigin,r=t.color,i=t.pos;return n.map(function(t,n){return{color:r,fillColor:r,size:3,lineWidth:1,dataOrigin:t,groupPos:i,symbol:"circle",pos:e[n]}})}},{key:"getStyleParams",value:function(){var t=this.attrs;return{attr:{color:t.color,lineWidth:t.lineWidth,lineDash:t.lineDash,lineJoin:t.lineJoin},data:{category:t.dataOrigin[0].category}}}}]),e}(oc);function hc(t,e){return[Math.cos(t)*e,Math.sin(t)*e]}var pc=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).sectionAreaEl=[],t.sectionBorderEl=[],t.disabledLegend=[],t.bgElements={axis:[],grid:[],label:[]},t}return b()(e,t),f()(e,[{key:"_layout",value:function(t){var e=this,n=function(t,e,n,r){for(var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-90,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.6,l=function(t,e){var n=[],r={},i=e.x,o=e.y,a=e.category;return n=E()(new Set(t.map(function(t){return t[i]}))),new Set(t.map(function(t){return t[a]})).forEach(function(t){r[t]=new Array(n.length)}),t.forEach(function(t){var e=t[i],u=t[o]||0,s=t[a],l=n.indexOf(e);r[s][l]=u}),{labels:n,dataSets:r}}(t,e),c=l.labels,f=l.dataSets,h={},p=[],d=[],v=[],g=u()(n,2),y=g[0],m=g[1],b=u()(r,4),x=b[0],w=b[1],_=b[2],k=b[3],M=[(y-k-w)/2,(m-x-_)/2],S=[M[0]+k,M[1]+x],C=Math.min.apply(Math,M),O=e.y,A=function(t,e){var n=Math.max.apply(Math,E()(t));return 10*Math.ceil(n/10/e)*e}(t.map(function(t){return t[O]}),o),P=c.length,j=2*Math.PI/P,T=C*s,$=2*Math.PI/360*a,D=0;D<P;D++){var L=D*j+$,z=hc(L,T),R=c[D];h[R]={point:z,radian:L};var F=hc(L,T+6),N=0===D;p.push({points:[[0,0],z],lineWidth:1,lineDash:[0,0],pos:S,color:"#ddd",label:R,labelPos:F,radian:L,maxScale:A,splitNumber:o,renderAxisLabel:N})}return Object.keys(f).forEach(function(t,e){var n=f[t],r=n.map(function(t,e){var n=c[e];return hc(h[n].radian,t/A*T)});d.push({points:r,pos:S,scale:1,opacity:.2,index:e,dataOrigin:{category:t}}),v.push({points:[].concat(E()(r),[r[0]]),pos:S,lineWidth:2,lineJoin:"round",lineDash:[0,0],dataOrigin:r.map(function(e,r){return{label:c[r],value:n[r],category:t}})})}),i=function(t,e,n,r){for(var i=Object.keys(n).map(function(t){return n[t].point}),o=[],a=0;a<t;a++){var u=1-a/t,s=a%2==0?"#fff":"#eee";o.push({scale:u,radius:e,level:a,points:i,opacity:1,pos:r,lineWidth:1,lineDash:[0,0],color:"#ddd",fillColor:s})}return o}(o,T,h,S),{sectionAttrs:d,borderAttrs:v,axisAttrs:p,gridAttrs:i}}(t.filter(function(t){return!t.disabled}),this.dataFields,this.size,this.padding,this.splitNumber,this.startAngle,this.radius),r=n.sectionAttrs,i=n.borderAttrs,o=n.axisAttrs,a=n.gridAttrs;return r.forEach(function(t,n){var r=e.color(n);t.fillColor=r,i[n].color=r}),{sectionAttrs:r,borderAttrs:i,axisAttrs:o,gridAttrs:a}}},{key:"render",value:function(){var t=this._layout(this.data),e=t.sectionAttrs,n=t.borderAttrs,r=t.axisAttrs,i=t.gridAttrs;this._addElements(i,"grid"),this.emit(J.gridReady,i),this._addElements(r,"axis"),this.emit(J.axisReady,r),this._addElements(e,"area"),this._addElements(n,"border"),this.renderLegend(e)}},{key:"update",value:function(t,e){var n=this,r=this._layout(e),i=r.sectionAttrs,o=r.borderAttrs;r.axisAttrs.forEach(function(t,e){t.renderAxisLabel&&n.bgElements.axis[e].update(t)}),$(this._layout(t).sectionAttrs,i).add(function(t){n._addElement(i[t],"area",t),n._addElement(o[t],"border",t)}).update(function(t){n.sectionAreaEl[t]&&n.sectionAreaEl[t].update(i[t]),n.sectionBorderEl[t]&&n.sectionBorderEl[t].update(o[t])}).remove(function(t){n.sectionAreaEl[t].disconnect(),n.sectionAreaEl[t]=null,n.sectionBorderEl[t].disconnect(),n.sectionBorderEl[t]=null}).execute(),setTimeout(function(){n.renderLegend(i)})}},{key:"renderLegend",value:function(t){var e=this,n=this.dataFields.category,r=E()(new Set(this.dataOrigin.map(function(t){return t[n]})));this.emit("legend:clear");var i={};t.forEach(function(t){var n=t.dataOrigin.category;i[n]=G()({label:n},e.dataFields,{color:t.fillColor,_from:e})}),r.forEach(function(t,n){if(i.hasOwnProperty(t))e.emit(J.renderLegend,G()({},i[t],{index:n}));else{var r=G()({label:t},e.dataFields,{disabled:!0,_from:e,index:n});console.log(r),e.emit(J.renderLegend,r)}})}},{key:"onLegendToggle",value:function(t){var e=this,n=t.disabled,r=t.label,i=this.dataFields.category,o=O(this.dataOrigin);if(o.forEach(function(t){t.disabled=e.disabledLegend.includes(t[i])}),n)this.disabledLegend.includes(r)||this.disabledLegend.push(r);else{var a=this.disabledLegend.indexOf(r);-1!==a&&this.disabledLegend.splice(a,1)}var u=O(o);u.forEach(function(t){t[i]===r&&(t.disabled=n)}),this.update(o,u)}},{key:"_addElements",value:function(t,e){var n=this;return t.forEach(function(t,r){return n._addElement(t,e,r)})}},{key:"_addElement",value:function(t,e,n){var r={axis:new lc,area:new ac,grid:new uc,border:new fc}[e];r.index(n),r.connect(this),r.render(t),"area"===e?this.sectionAreaEl[n]=r:"border"===e?this.sectionBorderEl[n]=r:this.bgElements[e][n]=r}},{key:"padding",get:function(){var t=this.attr().padding,e=void 0===t?[0,0,0,0]:t,n=0,r=0,i=0,o=0;if("Number"===_(e))n=r=i=o=e;else if(k(e))if(2===e.length)n=i=e[0],r=o=e[1];else{var a=[].concat(E()(e),[0,0,0,0]);n=a[0],r=a[1],i=a[2],o=a[3]}return[n,r,i,o]}},{key:"size",get:function(){var t=this.chart.attr("size"),e=u()(t,2);return[e[0],e[1]]}},{key:"splitNumber",get:function(){var t=this.attr().splitNumber;return void 0===t?4:t}},{key:"startAngle",get:function(){var t=this.attr().startAngle;return void 0===t?-90:t}},{key:"radius",get:function(){var t=this.attr().radius;return void 0===t?.6:t}}]),e}(st),dc=Math.PI/180,vc=64,gc=2048;function yc(t){return t.text}function mc(){return"serif"}function bc(){return"normal"}function xc(t){return t.value}function wc(){return 90*~~(2*Math.random())}function _c(){return 1}function kc(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(vc<<5)/o,gc/o);var a=0,u=0,s=0,l=n.length;for(--r;++r<l;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=i.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var h=Math.sin(e.rotate*dc),p=Math.cos(e.rotate*dc),d=c*p,v=c*h,g=f*p,y=f*h;c=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,f=~~Math.max(Math.abs(v+g),Math.abs(v-g))}else c=c+31>>5<<5;if(f>s&&(s=f),a+c>=vc<<5&&(a=0,u+=s,s=0),u+f>=gc)break;i.translate((a+(c>>1))/o,(u+(f>>1))/o),e.rotate&&i.rotate(e.rotate*dc),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=f,e.xoff=a,e.yoff=u,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var m=i.getImageData(0,0,(vc<<5)/o,gc/o).data,b=[];--r>=0;)if((e=n[r]).hasText){for(var x=e.width,w=x>>5,_=e.y1-e.y0,k=0;k<_*w;k++)b[k]=0;if(null==(a=e.xoff))return;u=e.yoff;for(var M=0,S=-1,C=0;C<_;C++){for(var O=0;O<x;O++){var A=w*C+(O>>5),P=m[(u+C)*(vc<<5)+(a+O)<<2]?1<<31-O%32:0;b[A]|=P,M|=P}M?S=C:(e.y0++,_--,C--,u++)}e.y1=e.y0+S,e.sprite=b.slice(0,(e.y1-e.y0)*w)}}}function Mc(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),u=127&a,s=32-u,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var h=0;h<=o;h++)if((r<<s|(h<o?(r=i[f*o+h])>>>u:0))&e[c+h])return!0;c+=n}return!1}function Sc(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Cc(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Oc(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function Ac(){return document.createElement("canvas")}function Pc(t){return"function"==typeof t?t:function(){return t}}var Ec={archimedean:Cc,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},jc=function(){var t=[256,256],e=yc,n=mc,r=xc,i=bc,o=bc,a=wc,s=_c,l=Cc,c=[],f=1/0,h=Math.random,p=Ac,d={};function v(e,n,r){for(var i,o,a,u,s,c=n.x,f=n.y,p=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=l(t),v=h()<.5?1:-1,g=-v;(i=d(g+=v))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=p));)if(n.x=c+o,n.y=f+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&Mc(n,e,t[0])||r&&(s=r,!((u=n).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var y=n.sprite,m=n.width>>5,b=t[0]>>5,x=n.x-(m<<4),w=127&x,_=32-w,k=n.y1-n.y0,M=void 0,S=(n.y+n.y0)*b+(x>>5),C=0;C<k;C++){M=0;for(var O=0;O<=m;O++)e[S+O]|=M<<_|(O<m?(M=y[C*m+O])>>>w:0);S+=b}return delete n.sprite,!0}return!1}return d.canvas=function(t){return arguments.length?(p=Pc(t),d):p},d.start=function(){var l=t,g=u()(l,2),y=g[0],m=g[1],b=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(vc<<5)/e,t.height=gc/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(p()),x=d.board?d.board:Oc((t[0]>>5)*t[1]),w=c.length,_=[],k=c.map(function(t,u){return t.text=e.call(this,t,u),t.font=n.call(this,t,u),t.style=i.call(this,t,u),t.weight=o.call(this,t,u),t.rotate=a.call(this,t,u),t.size=~~r.call(this,t,u),t.padding=s.call(this,t,u),t}).sort(function(t,e){return e.size-t.size}),M=-1,S=d.board?[{x:0,y:0},{x:y,y:m}]:null;return function(){for(var e=Date.now();Date.now()-e<f&&++M<w;){var n=k[M];n.x=y*(h()+.5)>>1,n.y=m*(h()+.5)>>1,kc(b,n,k,M),n.hasText&&v(x,n,S)&&(_.push(n),S?d.hasImage||Sc(S,n):S=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}d._tags=_,d._bounds=S}(),d},d.createMask=function(e){var n=document.createElement("canvas"),r=t,i=u()(r,2),o=i[0],a=i[1],s=o>>5,l=Oc((o>>5)*a);n.width=o,n.height=a;var c=n.getContext("2d");c.drawImage(e,0,0,e.width,e.height,0,0,o,a);for(var f=c.getImageData(0,0,o,a).data,h=0;h<a;h++)for(var p=0;p<o;p++){var v=s*h+(p>>5),g=h*o+p<<2,y=f[g]>=250&&f[g+1]>=250&&f[g+2]>=250?1<<31-p%32:0;l[v]|=y}d.board=l,d.hasImage=!0},d.timeInterval=function(t){return arguments.length?(f=null==t?1/0:t,d):f},d.words=function(t){return arguments.length?(c=t,d):c},d.size=function(e){return arguments.length?(t=[+e[0],+e[1]],d):t},d.font=function(t){return arguments.length?(n=Pc(t),d):n},d.fontStyle=function(t){return arguments.length?(i=Pc(t),d):i},d.fontWeight=function(t){return arguments.length?(o=Pc(t),d):o},d.rotate=function(t){return arguments.length?(a=Pc(t),d):a},d.text=function(t){return arguments.length?(e=Pc(t),d):e},d.spiral=function(t){return arguments.length?(l=Ec[t]||t,d):l},d.fontSize=function(t){return arguments.length?(r=Pc(t),d):r},d.padding=function(t){return arguments.length?(s=Pc(t),d):s},d.random=function(t){return arguments.length?(h=t,d):h},d},Tc=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),p()(this,v()(e).call(this,t))}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{imageMask:null,rotate:function(){return 90*~~(2*Math.random())},padding:0,font:"Impact",fontSize:function(){return 12}}}},{key:"rotate",value:function(t){return this.attr("rotate",t),this}},{key:"padding",value:function(t){return this.attr("padding",t),this}},{key:"font",value:function(t){return this.attr("font",t),this}},{key:"fontSize",value:function(t){return this.attr("fontSize",t),this}},{key:"onMousemove",value:function(t,e,n){var r=this,i=this.style("hover")(e,e.dataOrigin,n)||{},o={normal:Object.keys(i).reduce(function(e,n){return e[n]=t.attr(n),e},{}),hover:i};t.attr("states",o),t.attr("actions",[{both:["normal","hover"],duration:300}]),t.on("mousemove",function(i){t.attr("state","hover"),i.index=n,i.data=Object.assign({},e.dataOrigin,{color:e.fillColor}),r.emit(J.showTooltip,i),r.chart.setCanvasCursor("pointer")})}},{key:"onMouseleave",value:function(t){var e=this;t.on("mouseleave",function(n){t.attr("state","normal"),e.emit(J.hideTooltip,n),e.chart.setCanvasCursor("default")})}},{key:"calculate",value:function(t){var e=this,n=this.dataFields.x,r=this.attr(),i=r.rotate,o=r.font,a=r.fontSize,u=r.padding,s=r.imageMask,l=this.chart.getSize(),c=function(){var t=[0,0],e=null,n=0,r=function(){return 90*~~(2*Math.random())},i="Impact",o="archimedean",a=function(){return 12};function u(u){var s=jc().size(t).padding(n).rotate(r).font(i).fontSize(a).spiral(o).timeInterval(500);s.words(u),e&&s.createMask(e);var l=s.start(),c=l.hasImage,f=l._tags,h=l._bounds;return f.forEach(function(e){e.x+=t[0]/2,e.y+=t[1]/2}),f.push({text:"",value:0,x:c?0:h[0].x,y:c?0:h[0].y,opacity:0}),f.push({text:"",value:0,x:c?t[0]:h[1].x,y:c?t[1]:h[1].y,opacity:0}),f}return u.size=function(e){return t=e,u},u.imageMask=function(t){return e=t,u},u.padding=function(t){return n=t,u},u.rotate=function(t){return r=t,u},u.font=function(t){return i=t,u},u.fontSize=function(t){return a=t,u},u}().size(l).imageMask(s).rotate(i).padding(u).font(o).fontSize(a)(O(this.data));return[].concat(E()(c.slice(0,-2).map(function(r,i){return G()({index:i,color:e.color(i),text:t[i][n],dataOrigin:t[i],rotate:r.rotate,padding:r.padding,pos:[r.x,r.y],anchor:[.5,.5],font:"".concat(r.style," ").concat(r.weight," ").concat(~~(r.size+1),"px '").concat(r.font,"'")},e.style("normal")(c[i],t[i],i))})),E()(c.slice(-2)))}},{key:"render",value:function(){var t=this;this.calculate(O(this.data)).map(function(e,n){var r=new i.Label(e);r.animate&&r.animate([{scale:0},{scale:1}],{duration:300}),t.onMousemove(r,e,n),t.onMouseleave(r),t.$group.appendChild(r)})}}]),e}(st),$c=function(){function t(e){var n=e.parent,r=e.disableColor,i=void 0===r?"#ccc":r;l()(this,t),this.parent=n,this.activeColor=null,this.disabledColor=i,this.$parentGroup=null,this.$group=null,this.$rect=null,this.$label=null,this.data=null}return f()(t,[{key:"conenct",value:function(t){this.$parentGroup=t}},{key:"attachEvent",value:function(){var t,e,n=this;t=n.parent.style("icon:hover")(n.$rect.attr(""),n.data,n.data.index)||{},e={normal:Object.keys(t).reduce(function(t,e){return t[e]=n.$rect.attr(e),t},{}),hover:t},n.$rect.attr({states:e,action:[{both:["normal","hover"],duration:300}]}),n.$rect.on("mousemove",function(t){n.$rect.attr("state","hover")}),n.$rect.on("mouseleave",function(t){n.$rect.attr("state","normal")}),function(){var t=n.parent.style("text:hover")(n.$label.attr(""),n.data,n.data.index)||{},e={normal:Object.keys(t).reduce(function(t,e){return t[e]=n.$label.attr(e),t},{}),hover:t};n.$label.attr({states:e,action:[{both:["normal","hover"],duration:300}]}),n.$label.on("mousemove",function(t){n.$label.attr("state","hover")}),n.$label.on("mouseleave",function(t){n.$label.attr("state","normal")})}(),this.$group.on("mousemove",function(){n.parent.chart.setCanvasCursor("pointer")}),this.$group.on("click",function(){n.data.disabled=!n.data.disabled,n.data.disabled?(n.$label.attr("color",n.disabledColor),n.$rect.attr("bgcolor",n.disabledColor)):(n.$label.attr("color","#000"),n.$rect.attr("bgcolor",n.activeColor)),n.parent.emit(J.toggleLegend,n.data)}),this.$group.on("mouseleave",function(){n.parent.chart.setCanvasCursor("default")})}},{key:"render",value:function(t){var e=t.data,n=t.style,r=t.vertical,o=void 0===r||r,a=e.x,u=e.color,s=e.disabled;this.data=e,this.activeColor=u;var l=n.disabledColor,c=n.Rect,f=void 0===c?{}:c,h=n.Text,p=void 0===h?{}:h;this.disabledColor=l;var d=f.width,v=void 0===d?10:d,g=f.height,y=void 0===g?10:g,m=new i.Group;this.$rect=new i.Rect(G()({},e,f,{width:v,height:y,bgcolor:s?this.disabledColor:u},this.parent.style("icon")(G()({},e,f,{width:v,height:y,bgcolor:s?this.disabledColor:u}),this.data,this.data.index)||{})),this.$label=new i.Label(G()({},p,{text:e[a],color:s?this.disabledColor:"#000",padding:[0,p.marginLeft]},this.parent.style("text")(G()({},p,{text:e[a],color:s?this.disabledColor:"#000",padding:[0,p.marginLeft]}),this.data,this.data.index)||{})),m.appendChild(this.$rect),m.appendChild(this.$label),m.attr({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:o?[4,0]:[0,4]}),this.$parentGroup.appendChild(m),this.$group=m,this.attachEvent()}},{key:"update",value:function(t){var e=t.x,n=t.color,r=t.disabled;this.data=t,this.activeColor=n,this.$rect.attr("bgcolor",r?this.disabledColor:n),this.$label.attr({text:t[e],color:r?this.disabledColor:"#000"})}},{key:"exit",value:function(){this.$group.parentNode&&this.$group.parentNode.removeChild(this.$group)}}]),t}(),Dc=function(){function t(e){var n=e.parent,r=e.onPageChange,i=void 0===r?function(){}:r;l()(this,t),this.parent=n,this.parentGroup=null,this.container=null,this.prevPageComponent=null,this.label=null,this.nextPageComponent=null,this.currentPage=1,this.totalPage=1,this.onPageChange=i}return f()(t,[{key:"conenct",value:function(t){this.parentGroup=t}},{key:"render",value:function(t){var e=this,n=t.vertical,r=void 0===n||n,o=t.totalPage,a=void 0===o?1:o;this.totalPage=a;var u=new i.Group({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:r?[5,0]:[0,5]});this.prevPageComponent=new i.Path({d:r?"M 0 15 L 15 15 L7.5 0 Z":"M 0 7.5 L 13 0 L13 15 Z",fillColor:"#ddd"}),this.label=new i.Label({font:"14px '宋体'"}),this.nextPageComponent=new i.Path({d:r?"M 0 0 L 15 0 L7.5 13 Z":"M 13 7.5 L 0 0 L0 15 Z",fillColor:"#ddd"}),this.prevPageComponent.on("click",this.prevPage.bind(this)),this.nextPageComponent.on("click",this.nextPage.bind(this)),[this.prevPageComponent,this.nextPageComponent].forEach(function(t){t.on("mousemove",function(){return e.parent.chart.setCanvasCursor("pointer")}),t.on("mouseleave",function(){return e.parent.chart.setCanvasCursor("default")})}),u.appendChild(this.prevPageComponent),u.appendChild(this.label),u.appendChild(this.nextPageComponent),this.parentGroup.appendChild(u),this.container=u,this.updateTotalPage(a)}},{key:"getContentSize",value:function(){return this.container.contentSize}},{key:"updateTotalPage",value:function(t,e){this.totalPage=t,this.updatePage(),this.totalPage>this.currentPage&&this.nextPageComponent.attr("fillColor","#666")}},{key:"updatePage",value:function(){this.label.attr({text:" ".concat(this.currentPage,"/").concat(this.totalPage," ")})}},{key:"updateCurentPage",value:function(){this.updatePage(),this.onPageChange(this.currentPage)}},{key:"prevPage",value:function(){this.currentPage<=1||(this.currentPage-=1,1===this.currentPage?(this.prevPageComponent.attr("fillColor","#ddd"),this.nextPageComponent.attr("fillColor","#666")):this.currentPage<this.totalPage&&this.nextPageComponent.attr("fillColor","#666"),this.updateCurentPage())}},{key:"nextPage",value:function(){var t=this.totalPage;this.currentPage>=t||(this.currentPage+=1,this.currentPage===t?(this.prevPageComponent.attr("fillColor","#666"),this.nextPageComponent.attr("fillColor","#ddd")):this.currentPage>1&&this.prevPageComponent.attr("fillColor","#666"),this.updateCurentPage())}}]),t}(),Lc=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,e),(t=p()(this,v()(e).call(this,n))).data=[],t.legendItems=new WeakMap,t.scroll=0,t.pagination=null,t.isRendered=!1,p()(t,y()(t))}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{vertical:!0,left:10,top:30}}},{key:"vertical",value:function(t){return this.attr("vertical",Boolean(t)),this}},{key:"position",value:function(t,e){return this.attr(t,e),this.chart&&this.setOrUpdateContainerStyle(),this}},{key:"left",value:function(t){return this.position("left",t)}},{key:"top",value:function(t){return this.position("top",t)}},{key:"afterConnectedToChart",value:function(){this.initContainer(),this.setOrUpdateContainerStyle(),this.subscribeChartEvent()}},{key:"initContainer",value:function(){this.$rootGroup=new i.Group,this.$paginationGroup=new i.Group,this.$legendGroup=new i.Group,this.$legendContentGroup=new i.Group,this.$legendGroup.appendChild(this.$legendContentGroup),this.$rootGroup.appendChild(this.$paginationGroup),this.$rootGroup.appendChild(this.$legendGroup),this.chart.$group.appendChild(this.$rootGroup)}},{key:"setOrUpdateContainerStyle",value:function(){var t=this.attr("vertical"),e=this.chart.attr("size"),n=this.attr("top"),r=this.attr("left");"string"==typeof n&&(n=parseFloat(n)*e[1]/100),"string"==typeof r&&(r=parseFloat(r)*e[0]/100);var i=e[0]-r,o=e[1]-n;this.$rootGroup.attr({size:[i,o],x:r,y:n}),this.$legendContentGroup.attr({display:"flex",flexDirection:t?"column":"row",flexWrap:"no-wrap"})}},{key:"subscribeChartEvent",value:function(){var t=this,e=null;this.on("legend:clear",function(){t.data=[],t.legendItems=new WeakMap,t.$rootGroup.parentNode.removeChild(t.$rootGroup),t.initContainer(),t.setOrUpdateContainerStyle()}),this.on(J.renderLegend,function(n){t.updateLegendItem(n)||(t.data.push(n),t.renderLegendItem(n),clearTimeout(e),e=setTimeout(function(){t.checkIfNeedRenderPagination()},16.7))})}},{key:"updateLegendItem",value:function(t){return!(!this.legendItems.get(t._from)||!this.legendItems.get(t._from)[t.index]||(this.legendItems.get(t._from)[t.index].update(t),0))}},{key:"renderLegendItem",value:function(t){if(!this.updateLegendItem(t)){var e=this.attr("vertical"),n=this.chart.style("Legend")(),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,o=new $c({parent:i});return o.conenct(t),o.render({data:e,style:n,vertical:r}),o}(this.$legendContentGroup,t,n,e,this);this.legendItems.get(t._from)||this.legendItems.set(t._from,[]),this.legendItems.get(t._from)[t.index]=r}}},{key:"checkIfNeedRenderPagination",value:function(){var t=this;this.chart.layer.prepareRender().then(function(){var e=t.attr("vertical"),n=t.$rootGroup.attr("size"),r=u()(n,2),i=r[0],o=r[1],a=u()(t.$legendContentGroup.contentSize,2),s=a[0],l=a[1];e?l>o&&t.renderOrUpdatePagination(i,o,s,l,l/o):s>i&&t.renderOrUpdatePagination(i,o,s,l,s/i)})}},{key:"renderOrUpdatePagination",value:function(t,e,n,r,i){var o=this.attr("vertical");this.pagination||(this.pagination=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,o=new Dc({onPageChange:n,parent:i});return o.conenct(t),o.render({vertical:r,totalPage:e}),o}(this.$paginationGroup,i,this.changePage.bind(this),o,this));var a=this.pagination.getContentSize(),s=u()(a,2),l=s[0],c=s[1];if(o){var f=e-c-15;this.$legendGroup.attr("size",[t,f]),this.$paginationGroup.attr("y",f),i=Math.ceil(r/f)}else{var h=this.isRendered?t-l-15:t-l/2-15;this.$legendGroup.attr("size",[h,e]),this.$paginationGroup.attr("x",h),i=Math.ceil(n/h)}this.pagination.updateTotalPage(i,!0)}},{key:"changePage",value:function(t){var e=this.attr("vertical"),n=this.$legendGroup.attr("size"),r=u()(n,2),i=r[0],o=r[1],a=e?(t-1)*o:(t-1)*i;e?this.$legendGroup.transition(.3).attr("scrollTop",a):this.$legendGroup.transition(.3).attr("scrollLeft",a)}},{key:"forceUpdate",value:function(){var t=this;this.chart&&(this.isRendered=!0,this.setOrUpdateContainerStyle(),this.scroll=0,this.pagination&&(this.pagination.currentPage=1),this.pagination&&this.pagination.updateCurentPage(),this.data.forEach(function(e){return t.renderLegendItem(e)}),this.checkIfNeedRenderPagination())}}]),e}(lt),zc=0,Rc=function(t){function e(t){var n;return l()(this,e),(n=p()(this,v()(e).call(this,t))).minTime=500,n.on(q.beforeRender,n.show),n.on(q.rendered,n.hide),n.on(q.beforeUpdate,n.show),n.on(q.updated,n.hide),n}return b()(e,t),f()(e,[{key:"show",value:function(){var t=this.chart.attr("size");this.$group=new i.Group({size:t,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"rgba(0, 0, 0, .5)",zIndex:9999}),this.$label=new i.Label({text:"Loading...",width:t[0],textAlign:"center",color:"#fff",zIndex:1e4}),this.$group.appendChild(this.$label),this.chart.$group.appendChild(this.$group),zc=+new Date}},{key:"hide",value:function(){var t=this,e=function(){t.chart.$group.removeChild(t.$group),t.$group=null,t.$label=null},n=new Date-zc;n<this.minTime?setTimeout(e,this.minTime-n):e(),zc=new Date}}]),e}(lt),Fc=n(88),Nc=n.n(Fc),Ic=n(46),Wc=n.n(Ic),Gc=function(t){function e(t){var n;return l()(this,e),n=p()(this,v()(e).call(this,t)),Wc()(y()(n),"show",L(function(t){n.hide.cancel();var e=t.layerX,r=t.layerY,i=t.data,o=t.title,a=void 0===o?n.attr("title"):o;i=k(i)?i:[i];var u=n.$group;u?(u.attr("opacity",1),n.updateTooltip(a,i)):u=n.renderTooltip(a,i),n.animateTooltipPos(e,r)},n.attr("throttleTime")||200,{leading:!0,trailing:!0})),Wc()(y()(n),"hide",L(function(){n.show.cancel(),n.$group&&n.$group.attr("opacity",0)},300,{leading:!0,trailing:!0})),n.$group=null,n.prevPos=[0,0],n.init(),p()(n,y()(n))}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{throttleTime:300,formatter:function(t){return t},title:null,pos:null,_pos:null}}},{key:"formatter",value:function(t){return this.attr("formatter",t),this}},{key:"position",value:function(t,e){return this.attr("pos",[t,e]),this}},{key:"checkIfNeedUpdateFixedPosition",value:function(){if(this.attr("pos")){var t=this.attr("pos"),e=u()(t,2),n=e[0],r=e[1];n=C(n)?this.chart.getWidth()*parseFloat(n)/100:n,r=C(r)?this.chart.getHeight()*parseFloat(r)/100:r,this.attr("_pos",[n,r]),this.prevPos=[n,r]}}},{key:"init",value:function(){this.on(J.showTooltip,this.show),this.on(J.hideTooltip,this.hide),this.on(J.changeTheme,this.onThemeChange)}},{key:"onThemeChange",value:function(){this.$group&&this.$group.attr(this.chart.style("Tooltip")())}},{key:"createLabelItem",value:function(t){var e=new i.Group({display:"flex",justifyContent:"space-between",alignItems:"center",border:[1,"transparent"]}),n=this.chart.style("Tooltip")().Label,r=void 0===n?{}:n,o=new i.Label(G()({text:this.attr("formatter")(t)+"  "},r));if(t.color){var a=this.chart.style("Tooltip")().Symbol,u=void 0===a?{}:a,s=new i.Rect(G()({width:10,height:10,borderRadius:4},u,{bgcolor:t.color}));e.appendChild(s)}return e.appendChild(o),e}},{key:"renderTooltip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.length){var n=this.$group=new i.Group(G()({display:"flex",flexDirection:"column",zIndex:9999},this.chart.style("Tooltip")()||{},{opacity:1}));if(t){var r=this.chart.style("Tooltip")().Title,o=void 0===r?{}:r,a=new i.Label(G()({text:t},o));n.appendChild(a)}return e.map(this.createLabelItem.bind(this)).forEach(n.appendChild.bind(n)),this.chart.$group.appendChild(n),n}}},{key:"animateTooltipPos",value:function(t,e){this.checkIfNeedUpdateFixedPosition();var n=this.chart.getPos(),r=u()(n,2),i=r[0],o=r[1],a=this.chart.getSize(),s=u()(a,2),l=s[0],c=s[1];t-=i,e-=o;var f,h,p,d,v,g,y=u()(this.$group.contentSize,2),m=y[0],b=y[1],x=this.attr("_pos")||(p=m,d=b,(f=t)<(v=l)/2?p+20<f?f-=p+10:f+=10:f+p+20<v?f+=10:f-=p+10,f<0&&(f=10),(h=e)<(g=c)/2?d+20<h&&(h-=10):h+d+20<g?h+=10:h-=d+10,[f,h]);this.$group.animate([{pos:this.prevPos},{pos:x}],{duration:200,fill:"forwards"}),this.prevPos=x}},{key:"updateTooltip",value:function(t,e){var n=this;if(e){var r=Nc()(this.$group.childNodes),i=r[0],o=r.slice(1);t?i&&i.attr("text",t):o.unshift(i),e.forEach(function(t,e){var r=u()(o[e].childNodes,2),i=r[0],a=r[1];t.color||(a=i,i=null),i&&i.attr("bgcolor",t.color),a&&a.attr("text",n.attr("formatter")(t)+"  ")})}}},{key:"forceUpdate",value:function(){this.checkIfNeedUpdateFixedPosition(),this.attr("pos")&&this.$group&&this.$group.attr("pos",this.attr("_pos"))}}]),e}(lt),Uc=function(t){function e(t){var n;return l()(this,e),(n=p()(this,v()(e).call(this,t))).$label=null,n._pos=[],n}return b()(e,t),f()(e,[{key:"getDefaultAttrs",value:function(){return{pos:[],padding:[10,0]}}},{key:"position",value:function(t,e){this._pos=[t,e],this.$label&&this.update()}},{key:"calculatePosition",value:function(){if(this._pos){var t=u()(this._pos,2),e=t[0],n=t[1];e=C(e)?this.chart.getWidth()*parseFloat(e)/100:e,n=C(n)?this.chart.getHeight()*parseFloat(n)/100:n,this.attr("pos",[e,n])}}},{key:"render",value:function(){this.calculatePosition(),this.label=new i.Label(this.attr()),this.chart.$group.appendChild(this.label)}},{key:"update",value:function(){this.calculatePosition(),this.$label.attr(this.attr())}}]),e}(lt),Hc=function(t){function e(t){var n;return l()(this,e),(n=p()(this,v()(e).call(this,t))).on(J.changeTheme,n.onThemeChange),n.on(J.axisReady,n.ready),n.scales=[],n.myAttrs=t,n.$group=new i.Group,n.axisData={orient:"bottom",padding:t.padding||[10,10,10,10],stageHeight:0,stageWidth:0,axisAttrs:{width:1,height:1,fillColor:"#ccc"},axisScaleAttrs:{width:1,height:1,fillColor:"#ccc",anchor:[0,0]},axisLabelAttrs:{anchor:[.5,0],padding:[6,0],fontSize:12,textAlign:"center",clipOverflow:!1},originalPoint:[0,0]},p()(n,y()(n))}return b()(e,t),f()(e,[{key:"ready",value:function(t){(function(t){var e=this,n=t.orient,r=this.axisData,i=this.attr("orient")||"bottom";if(n!==i)return!1;r.orient=i;var o=r.padding=t.padding,a=u()(o,4),s=a[0],l=a[1],c=a[2],f=a[3],h=this.chart.attr("size"),p=u()(h,2),d=p[0],v=p[1];if(r.stageHeight=v-s-c,r.stageWidth=d-f-l,this.scales=t.scales,this.scales.forEach(function(t,n){t.offset=e.transPx(t.offset,n,e.scales)}),"left"===i||"right"===i){var g=f;Object.assign(r.axisLabelAttrs,{anchor:[1,.5],padding:[0,8],width:f,textAlign:"right"}),Object.assign(r.axisScaleAttrs,{anchor:[1,0],width:4}),"right"===i&&(g=f+r.stageWidth,r.axisLabelAttrs.anchor=[0,.5],r.axisLabelAttrs.width=l,r.axisLabelAttrs.textAlign="left",r.axisScaleAttrs.anchor=[0,0]),r.originalPoint=[g,s],r.axisAttrs.height=r.stageHeight,this.scales=this.scales.map(function(t){return t.pos=[0,r.stageHeight-t.offset],t})}else{var y=s+r.stageHeight;"top"===i&&(y=s),Object.assign(r.axisScaleAttrs,{height:4}),"top"===i&&(r.axisScaleAttrs.anchor=[0,1],r.axisLabelAttrs.anchor=[0,1]),r.originalPoint=[f,y],r.axisAttrs.width=r.stageWidth,this.scales=this.scales.map(function(t){return t.pos=[f+t.offset-r.originalPoint[0],0],t})}var m=this.myAttrs,b=m.axisAttrs,x=m.axisLabelAttrs,w=m.axisScaleAttrs,_=m.originalPoint,k=t.axisAttrs,M=t.axisLabelAttrs,S=t.axisScaleAttrs,C=t.originalPoint,O=Object.assign([],C,_),A=u()(O,2),P=A[0],E=A[1];return void 0===P&&void 0===E||(P=Yc(P,r.stageWidth)+f,E=Yc(E,r.stageHeight)+s,Object.assign(r.originalPoint,[P,E])),Object.assign(r.axisAttrs,k,b),Object.assign(r.axisLabelAttrs,M,x),Object.assign(r.axisScaleAttrs,S,w),!0}).call(this,t)&&this.render()}},{key:"onThemeChange",value:function(){}},{key:"transPx",value:function(t,e){var n=t,r=this.axisData,i=r.stageHeight,o=r.stageWidth,a=r.orient;if("string"==typeof t&&t.match(/%$/)&&(n=Yc(t,"left"===a||"right"===a?i:o)),void 0===t){var u=this.scales,s=this.axisData.stageWidth;"left"!==this.axisData.orient&&"right"!==this.axisData.orient||(s=this.axisData.stageHeight),n=_n().domain([0,u.length-1]).range([0,s])(e)}return n}},{key:"render",value:function(){var t=this,e=this.scales;if(0!==e.length){var n=this.style("normal"),r=this.style("scale.normal"),o=this.style("label.normal");this.$group.clear();var a=this.axisData,u=new i.Rect,s=Object.assign({},a.axisAttrs,n(a.axisAttrs,this.scales));u.attr(s),this.$group.append(u),e.forEach(function(e,n){var u=r(a.axisScaleAttrs,t.scales,n),s=o(a.axisLabelAttrs,t.scales,n),l=new i.Rect,c=new i.Label(e.label);l.attr(Object.assign({},a.axisScaleAttrs,u,{pos:e.pos})),c.attr(Object.assign({},a.axisLabelAttrs,s,{pos:e.pos})),t.$group.append(l),t.$group.append(c)}),this.$group.attr({pos:a.originalPoint}),this.chart.$group.append(this.$group)}}}]),e}(lt);function Yc(t,e){var n=t;return"string"==typeof t&&t.match(/%$/)&&(n=e*(t.replace(/%$/,"")/100)),n}var Bc=function(t){function e(t){var n;return l()(this,e),(n=p()(this,v()(e).call(this,t))).on(J.gridReady,n.ready),n.defualtAttrs={lineWidth:.2,lineDash:[6,3],color:"#000"},n.myAttrs=n.getAttrs(t),n.$group=new i.Group({zIndex:1}),n.elements=[],p()(n,y()(n))}return b()(e,t),f()(e,[{key:"getAttrs",value:function(t){return Object.assign(this.defualtAttrs,t)}},{key:"ready",value:function(t){this.render(t)}},{key:"render",value:function(t){var e=this;void 0!==t&&(this.elements.forEach(function(t,e){t.remove()}),t.forEach(function(t,n){var r=new i.Polyline(Object.assign(t,e.myAttrs));e.elements.push(r),e.$group.append(r)}),this.chart.$group.append(this.$group))}}]),e}(lt);n.d(e,"version",function(){return qc}),n.d(e,"init",function(){return ct}),n.d(e,"Chart",function(){return rt}),n.d(e,"InteractionHooks",function(){return J}),n.d(e,"registerTheme",function(){return it}),n.d(e,"Pie",function(){return Ql}),n.d(e,"Progress",function(){return ic}),n.d(e,"Axis",function(){return Hc}),n.d(e,"Grid",function(){return Bc}),n.d(e,"Line",function(){return Ti}),n.d(e,"Map",function(){return Gl}),n.d(e,"Bar",function(){return nc}),n.d(e,"Radar",function(){return pc}),n.d(e,"WordCloud",function(){return Tc}),n.d(e,"Legend",function(){return Lc}),n.d(e,"Text",function(){return Uc}),n.d(e,"Tooltip",function(){return Gc}),n.d(e,"Loading",function(){return Rc});try{i.use(o.install)}catch(t){console.error("spritjs is undefined!")}it("default",{themeName:"light",Chart:{color:"#000000",bgcolor:"transparent"},colors:["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Title:{padding:[10,10],color:"#333",font:'14px "楷体"',textAlign:"center"},Tooltip:{padding:10,color:"#333",borderRadius:4,bgcolor:"rgba(255, 255, 255, .95)",border:[1,"#eee"],Title:{font:'14px "楷体"',marginBottom:10},Label:{font:'13px "楷体"'},Symbol:{width:10,height:10,borderRadius:5,marginRight:5}},Legend:{marginTop:10,marginLeft:0,disabledColor:"#ccc",Rect:{width:10,height:10,borderRadius:5},Text:{font:'14px "楷体"',marginLeft:2}}}),it("dark",{themeName:"dark",colors:["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Chart:{color:"#e7e7e7",bgcolor:"#000000"},Title:{padding:[10,10],color:"#fff",fontSize:'14px "楷体"',textAlign:"center"},Tooltip:{padding:10,color:"#fff",borderRadius:4,bgcolor:"rgba(0, 0, 0, .5)",border:[1,"#000"],font:'16px "楷体"',Symbol:{width:10,height:10,borderRadius:5,marginRight:5}},Legend:{marginTop:10,marginLeft:0,disabledColor:"#ccc",Rect:{width:10,height:10,borderRadius:5},Text:{font:'14px "楷体"',marginLeft:2}}});var qc="0.0.12",Vc={version:qc,init:ct,Chart:rt,InteractionHooks:J,registerTheme:it,Pie:Ql,Progress:ic,Line:Ti,Map:Gl,Bar:nc,Radar:pc,WordCloud:Tc,Text:Uc,Tooltip:Gc,Legend:Lc,Axis:Hc,Grid:Bc,Loading:Rc};"undefined"!=typeof window&&(window.qchart=Vc);var Xc=e.default=Vc}]).default)},14:function(t,e,n){"use strict";n.r(e);var r=n(1),i={"s-axis":r.Axis,"s-legend":r.Legend,"s-tooltip":r.Tooltip,"s-grid":r.Grid},o={name:"s-chart",props:{pos:{type:Array,default:function(){return[0,0]}},size:{type:Array,default:function(){return["100%","100%"]}},forceFit:{type:Boolean,default:!0}},data:function(){return{chart:null,visuals:[]}},created:function(){var t=this;this.$bus.on("add",function(e){t.visuals.push(e)})},mounted:function(){var t=this;this.chart=new r.Chart({container:this.$el,size:this.size,pos:this.pos,forceFit:this.forceFit}),this.$slots.default.forEach(function(e){e.tag&&i[e.tag]&&t.addPlugin(e)}),this.visuals.forEach(function(e){t.chart.add(e)}),this.chart.render()},methods:{addVisualNew:function(t){this.chart.add(t),this.chart.render()},addPlugin:function(t){var e=i[t.tag],n=t.data&&t.data.attrs?t.data.attrs:null;if("s-tooltip"===t.tag){var r=n.formatter,o=n?new e(n.attrs).formatter(r):new e;this.chart.add(o)}else{var a=n?new e(n.attrs):new e;this.chart.add(a)}}}},a=n(0),u=Object(a.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"cat-charts"},[this._t("default")],2)},[],!1,null,null,null).exports,s={"s-line":r.Line,"s-bar":r.Bar,"s-pie":r.Pie,"s-radar":r.Radar},l={props:{attrs:{type:Object,defualt:function(){}},data:{type:Array,defualt:[]},dataFields:{type:Object,defualt:function(){}}},data:function(){return{visual:null}},watch:{data:{deep:!0,handler:function(t){this.visual.source(t)}}},created:function(){var t=this;if(this.$vnode.componentOptions.tag&&s[this.$vnode.componentOptions.tag]){var e=s[this.$vnode.componentOptions.tag];this.visual=new e(this.attrs).source(this.data).setDataFields(this.dataFields),Object.keys(this.$attrs).forEach(function(e){t.visual.style(e,t.$attrs[e])}),this.$bus.emit("add",this.visual)}}},c=Object(a.a)(l,void 0,void 0,!1,null,null,null).exports,f={name:"s-bar",extends:c},h=Object(a.a)(f,void 0,void 0,!1,null,null,null).exports,p={name:"s-pie",extends:c},d=Object(a.a)(p,void 0,void 0,!1,null,null,null).exports,v={name:"s-line",extends:c},g=Object(a.a)(v,void 0,void 0,!1,null,null,null).exports,y={name:"s-radar",extends:c},m=Object(a.a)(y,void 0,void 0,!1,null,null,null).exports;n.d(e,"install",function(){return x}),n.d(e,"version",function(){return w}),n.d(e,"Chart",function(){return u}),n.d(e,"Bar",function(){return h}),n.d(e,"Line",function(){return g}),n.d(e,"Radar",function(){return m}),n.d(e,"Pie",function(){return d});var b=[u,h,d,m,g];b.map(function(t){t.install=function(e){return e.component(t.name,t)}});var x=function(t){b.map(function(e){return t.component(e.name,e)});var e=new t({methods:{emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.$emit.apply(this,[t].concat(n))},on:function(t,e){this.$on(t,e)},off:function(t,e){this.$off(t,e)}}});t.prototype.$bus=e},w="0.1.30"},18:function(e,n){e.exports=t}})});